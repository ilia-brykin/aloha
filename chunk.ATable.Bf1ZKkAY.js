import{x as ot,y as ue,z as we,c as te,B as Sl,C as he,D as Il,E as ge,F as _e,k as ee,A as F,f as X,G as Rl,H as Tl,b as ie,I as yl,J as Ll,K as xl,g as De,s as ve,n as nt,a as Pl,p as Me,m as Ee,L as at,e as Ye,M as Ol,P as rt,N as Te,O as Dl,Q as Ml,R as El,S as Bl,T as kl,U as Nl}from"./bundle.index.DoeLPn5y.js";import{i as z,a as ae,f as k,g as G,h as J,a2 as Fl,m as U,c as V,G as ut,a3 as ql,l as Be,S as ye,E as Vl,j as ne,O as ke,X as dt,s as ct,d as Ne,n as Ce,a4 as Wl,Y as le,a0 as Ul,_ as Gl,L as Je,y as _t,K as Ze,U as ht,k as Hl,W as $l,u as zl}from"./chunk.vendor-lodash.xKfd5mqF.js";import{w as bt,h as a,t as u,d as i,f as re,b9 as jl,b0 as Xl,Q as Kl,ba as Ql,r as R,bb as Yl,O as Fe,i as P,K as Jl,z as ft,bc as Zl,x as ei,M as Se,bd as ti,be as li,bf as ii,bg as si,bh as oi,bi as ni,B as qe,o as Ie,bj as et,bk as ai,bl as ri,bm as vt,e as Ve,bn as ui,L as N}from"./chunk.vendor.DOXCeh_m.js";const Le={name:"AGet",props:{keyLabel:{type:[String,Array],required:!0,info:"Weg zu Informationen. Z.B.('a[0].b.c', 'vertrag.antrag_obj.pk', ['vertrag', aloha, 'pk'])"},data:{type:[String,Number,Boolean,Array,Object,Date,Function,Symbol],required:!1,default:void 0,info:"Haupt-Objekt oder -Array, wo man sucht"},tag:{type:String,required:!1,default:"span",info:"Semantisch-relevanter HTML-Tag.(span, div, ...)"},defaultValue:{type:[String,Number,Boolean,Array,Object,Date,Function,Symbol],required:!1,default:void 0,info:"Standardwert, wenn Lodash-Funktion 'get' undefined zurückschickt"},filter:{type:String,required:!1,default:void 0},filterParameters:{type:[Object,String,Number,Boolean],required:!1,default:()=>{}},replacedWithDefault:{type:[String,Number,Boolean,Array,Object,Date,Function,Symbol],required:!1,default:void 0,info:"Wenn das Wert, das Lodash-Funktion 'get' zurückschickt, === this.replacedWithDefault, dann this.defaultValue"}},setup(){return ue()},computed:{valueLocal(){let e=G(this.data,this.keyLabelLocal);if(J(e)&&(e=this.defaultValue),this.isValueEqualsWithValueThenDefaultValue(e))return this.defaultValue;if(this.filter){const t=`filter${Fl(this.filter)}`;if(U(this[t]))return this[t](e,this.filterParameters);console.warn(`filter "${t}" ist not defined`)}return e},keyLabelLocal(){return ae(this.keyLabel)?this.keyLabel.join("."):this.keyLabel}},methods:{isValueEqualsWithValueThenDefaultValue(e){if(z(this.replacedWithDefault))return!1;let t=!1;return ae(this.replacedWithDefault)?k(this.replacedWithDefault,l=>{if(l===e)return t=!0,!1}):this.replacedWithDefault===e&&(t=!0),t}},render(){return bt(a(this.tag),[[ot,this.valueLocal]])}};function di(e){const t=u(e,"isLast"),l=u(e,"hasDropdownActions"),s=u(e,"hasDividerBeforeDropdown"),o=i(()=>t.value&&l.value),n=i(()=>o.value&&!s.value);return{isDropdownActionsAfterGroup:i(()=>o.value&&s.value),isDropdownActionsInGroup:n}}const ci={name:"AGroupButtonDropdownItem",props:{actionsClasses:{type:Array,required:!0},actionsIds:{type:Array,required:!0},actionsDropdown:{type:Array,required:!0},btnGroupClass:{type:[String,Array,Object],required:!1,default:"a_btn_group"},data:{type:Object,required:!0},disabled:{type:Boolean,required:!1},dropdownAttributes:{type:Object,required:!0},hasDividerBeforeDropdown:{type:Boolean,required:!0},hasDropdownActions:{type:Boolean,required:!0},isLast:{type:Boolean,required:!0}},setup(e){const{isDropdownActionsAfterGroup:t,isDropdownActionsInGroup:l}=di(e);return{isDropdownActionsAfterGroup:t,isDropdownActionsInGroup:l}},render(){return[!!this.data.children.length&&a("div",{class:this.btnGroupClass},[...this.data.children.map(e=>{let t=e.classButton?e.classButton:this.actionsClasses[e.actionNotDividerIndex];e.classExtra&&(t=we({class1:t,class2:e.classExtra}));const l=e.id?e.id:this.actionsIds[e.actionNotDividerIndex],s=this.disabled||e.disabled;if(e.type==="button")return a(te,{...e,id:l,class:t,classButton:void 0,classExtra:void 0,disabled:s,onClick:e.callback,callback:void 0,actionNotDividerIndex:void 0,isHidden:void 0,isConfirm:void 0,callbackLocal:void 0});if(e.type==="link")return a(Sl,{...e,id:l,classButton:void 0,classExtra:void 0,disabled:s,class:t,actionNotDividerIndex:void 0,isHidden:void 0,type:void 0,isConfirm:void 0,callbackLocal:void 0});if(e.type==="template"&&e.slotName&&this.$slots[e.slotName])return this.$slots[e.slotName]({id:l,class:t,action:e})}),this.isDropdownActionsInGroup&&a(he,{isHideWithoutActionAndSlot:!0,actions:this.actionsDropdown,disabled:this.disabled,...this.dropdownAttributes},this.$slots)]),this.isDropdownActionsAfterGroup&&a(he,{isHideWithoutActionAndSlot:!0,actions:this.actionsDropdown,disabled:this.disabled,...this.dropdownAttributes},this.$slots)]}};function _i(e){const t=u(e,"actions"),l=u(e,"indexFirstDropdownAction"),s=u(e,"indexFirstDropdownActionMobile"),o=u(e,"minDropdownActions"),{isMobileWidth:n}=ge(),d=i(()=>Il({actions:t.value})),c=i(()=>{const p=V(d.value);return k(p,v=>{v.classButton=we({class1:v.classButton,class2:v.class}),v.class=we({class1:v.classDropdown,class2:v.class}),delete v.classDropdown,v.classExtra&&(v.class=we({class1:v.classExtra,class2:v.class}))}),p}),r=i(()=>n.value?s.value:l.value),f=({actions:p=[],minCountActions:v=0})=>{let C=0;return k(p,I=>{if(C>=v)return!1;I.type!=="divider"&&C++}),C>=v},_=i(()=>{const p=V(c.value),v={buttons:[],dropdown:[]};let C=0,I=!0;return k(p,(g,A)=>{if(C===r.value){const w=p.slice(A,p.length);if(f({actions:w,minCountActions:o.value}))return v.dropdown=p.splice(A,p.length),r.value===0&&v.buttons.push({type:"group",children:[]}),!1}g.type!=="divider"?(g.actionNotDividerIndex=C,C++,I?v.buttons.push({type:"group",children:[g]}):ut(v.buttons).children.push(g),I=!1):I=!0}),v}),m=i(()=>_.value.dropdown.length>0),b=i(()=>c.value.length>0);return{actionsAllWithClassesFiltered:c,actionsGrouped:_,hasActionsAllFiltered:b,hasDropdownActions:m}}const xe={name:"AGroupButtonDropdown",props:{actions:{type:Array,required:!1,default:()=>[]},actionsClasses:{type:Array,required:!1,default:()=>_e.value.propsDefault.actionsClasses},actionsIds:{type:Array,required:!1,default:()=>[]},btnGroupClass:{type:[String,Array,Object],required:!1,default:"a_btn_group"},disabled:{type:Boolean,required:!1},dropdownAttributes:{type:Object,required:!1,default:()=>_e.value.propsDefault.dropdownAttributes},hasDividerBeforeDropdown:{type:Boolean,required:!1,default:()=>_e.value.propsDefault.hasDividerBeforeDropdown},indexFirstDropdownAction:{type:Number,required:!1,default:()=>_e.value.propsDefault.indexFirstDropdownAction,validator:e=>e>=-1},indexFirstDropdownActionMobile:{type:Number,required:!1,default:()=>_e.value.propsDefault.indexFirstDropdownActionMobile,validator:e=>e>=-1},minDropdownActions:{type:Number,required:!1,default:()=>_e.value.propsDefault.minDropdownActions},innerFlagHasActions:{type:Boolean,required:!1}},emits:["update:innerFlagHasActions"],setup(e,{emit:t}){const{actionsAllWithClassesFiltered:l,actionsGrouped:s,hasActionsAllFiltered:o,hasDropdownActions:n}=_i(e);return re(o,d=>{t("update:innerFlagHasActions",d)},{immediate:!0}),{actionsAllWithClassesFiltered:l,actionsGrouped:s,hasActionsAllFiltered:o,hasDropdownActions:n}},render(){if(this.hasActionsAllFiltered)return a("div",{class:"aloha_group_btn_dropdown"},[...this.actionsGrouped.buttons.map((e,t)=>a(ci,{btnGroupClass:this.btnGroupClass,data:e,disabled:this.disabled,actionsDropdown:this.actionsGrouped.dropdown,hasDropdownActions:this.hasDropdownActions,dropdownAttributes:this.dropdownAttributes,actionsClasses:this.actionsClasses,actionsIds:this.actionsIds,isLast:t===this.actionsGrouped.buttons.length-1,hasDividerBeforeDropdown:this.hasDividerBeforeDropdown},this.$slots))])}};function hi(e,{emit:t}){const l=u(e,"isLoadingTable"),s=u(e,"limit"),o=i(()=>`${s.value}`),n=r=>{l.value||t("update:limit",+r)};return{changeLimit:n,changeLimitFromSelect:({model:r})=>{n(r)},keyDownChangeLimit:(r,f)=>{(r.keyCode===ee.enter||r.keyCode===ee.space)&&(n(f),r.stopPropagation(),r.preventDefault())},limitString:o}}function bi(e){const t=u(e,"offset"),l=u(e,"rowsLength"),s=u(e,"countAllRows"),{filterCurrency:o}=ue(),n=i(()=>o(+t.value+1,{suffix:"",digits:0})),d=i(()=>o(+t.value+l.value,{suffix:"",digits:0})),c=i(()=>o(s.value,{suffix:"",digits:0}));return{extraForTranslate:i(()=>({start:n.value,current:d.value,count:c.value}))}}const fi={name:"APaginationCountPerPage",props:{countAllRows:{type:Number,required:!0},disabled:{type:Boolean,required:!1},limit:{type:Number,required:!0},limitsPerPage:{type:Array,required:!1,default:()=>["10","25","50","100"]},mode:{type:String,required:!1,default:"group",validator:e=>["inline","group","select"].indexOf(e)!==-1},offset:{type:Number,required:!0},rowsLength:{type:Number,required:!0},showTextCountFromTo:{type:Boolean,required:!1,default:!0}},emits:["update:limit"],setup(e,t){const{changeLimit:l,changeLimitFromSelect:s,keyDownChangeLimit:o,limitString:n}=hi(e,t),{extraForTranslate:d}=bi(e);return{changeLimit:l,changeLimitFromSelect:s,extraForTranslate:d,keyDownChangeLimit:o,limitString:n}},render(){return a("div",{class:"a_pagination__counts"},this.mode==="inline"||this.mode==="group"?[this.showTextCountFromTo?a(F,{class:"a_pagination__count_from_to",html:"_A_COUNT_PER_PAGE_{{start}}_{{current}}_{{count}}_",extra:this.extraForTranslate}):"",a(F,{tag:"span",class:"a_pagination__count__text",html:"_A_COUNT_PER_PAGE_"}),this.mode==="inline"?a("div",{class:"a_pagination__count"},[this.limitsPerPage.map(e=>{const t=+e===this.limit;return a("div",{class:"a_pagination__count__item"},[a(X,{"aria-current":t?!0:void 0,class:"a_btn a_btn_link a_pagination__count__button",disabled:t||this.disabled,extra:{count:e},text:e,textAriaHidden:!0,textScreenReader:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",title:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",type:"button",onClick:()=>this.changeLimit(e)})])})]):a("ul",{class:"a_pagination a_pagination_group"},[this.limitsPerPage.map(e=>{const t=+e===this.limit;return a("li",{class:["a_pagination__item",{active:t}]},[a(X,{"aria-current":t?!0:void 0,class:"a_pagination__item__link",disabled:this.disabled,extra:{count:e},role:"button",tabindex:t||this.disabled?-1:0,tag:"a",text:e,textAriaHidden:!0,textScreenReader:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",title:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",type:"button",onClick:()=>this.changeLimit(e),onKeydown:l=>this.keyDownChangeLimit(l,e)})])})])]:[this.showTextCountFromTo?a(F,{class:"a_pagination__count_from_to",html:"_A_COUNT_PER_PAGE_{{start}}_{{current}}_{{count}}_",extra:this.extraForTranslate}):"",a(Rl,{label:"_A_COUNT_PER_PAGE_",labelClass:"a_sr_only",data:this.limitsPerPage,isDataSimpleArray:!0,isLabelFloat:!1,deselectable:!1,menuWidthType:"by_content",modelValue:this.limitString,disabled:this.disabled,change:this.changeLimitFromSelect})])}};function vi(e,{currentItem:t=i(()=>1),maxItems:l=i(()=>1)}){const s=u(e,"disabled"),o=i(()=>s.value||t.value===1),n=i(()=>s.value||t.value===l.value);return{disabledButtonFirstPage:o,disabledButtonLastPage:n}}function mi(e){const t=u(e,"paginationMaxItems"),l=u(e,"offset"),s=u(e,"limit"),o=u(e,"totalRowsCount"),n=i(()=>Tl(t.value)),d=i(()=>(l.value/s.value>>0)+1),c=i(()=>ql(o.value/s.value)),r=i(()=>Math.floor(t.value/2)),f=i(()=>t.value*2-1),_=({currentItemIndex:b,paginationLength:p})=>{let v,C;const I=r.value,g=f.value;if(b<=I?(v=0,C=t.value):b>=g-(I+1)?(v=g-t.value,C=g):n.value?(v=b-I+1,C=b+I+1):(v=b-I,C=b+I+1),C>p){const A=C-p;C=p+1,v=v-A,v<0&&(v=0)}return{indexStart:v,indexEnd:C}},m=i(()=>{const b=[];let p=-1;for(let I=t.value-1;I>-t.value;I--){const g=d.value-I;g>0&&g<=c.value&&b.push(g),I===0&&(p=b.length-1)}const{indexStart:v,indexEnd:C}=_({currentItemIndex:p,paginationLength:b.length});return b.slice(v,C)});return{currentItem:d,maxItems:c,paginationItems:m}}function pi(e,{emit:t},{currentItem:l=i(()=>1),disabledButtonFirstPage:s=i(()=>!1),disabledButtonLastPage:o=i(()=>!1),maxItems:n=i(()=>1)}){const d=u(e,"disabled"),c=u(e,"limit"),r=u(e,"offset"),f=w=>{if(d.value||w===l.value)return;const S=(w-1)*c.value;t("update:offset",S)},_=()=>{s.value||t("update:offset",0)},m=()=>{s.value||t("update:offset",r.value-c.value)},b=()=>{o.value||t("update:offset",(n.value-1)*c.value)},p=()=>{o.value||t("update:offset",r.value+c.value)};return{keyDownUpdateOffset:(w,S)=>{(w.keyCode===ee.enter||w.keyCode===ee.space)&&(f(S),w.stopPropagation(),w.preventDefault())},keyDownUpdateOffsetFirst:w=>{(w.keyCode===ee.enter||w.keyCode===ee.space)&&(_(),w.stopPropagation(),w.preventDefault())},keyDownUpdateOffsetLast:w=>{(w.keyCode===ee.enter||w.keyCode===ee.space)&&(b(),w.stopPropagation(),w.preventDefault())},keyDownUpdateOffsetNext:w=>{(w.keyCode===ee.enter||w.keyCode===ee.space)&&(p(),w.stopPropagation(),w.preventDefault())},keyDownUpdateOffsetPrevious:w=>{(w.keyCode===ee.enter||w.keyCode===ee.space)&&(m(),w.stopPropagation(),w.preventDefault())},updateOffset:f,updateOffsetFirst:_,updateOffsetLast:b,updateOffsetNext:p,updateOffsetPrevious:m}}const wi={name:"APaginationPages",props:{disabled:{type:Boolean,required:!1},limit:{type:Number,required:!0},mode:{type:String,required:!1,default:"normal",validator:e=>["normal","short","loadMore"].indexOf(e)!==-1},offset:{type:Number,required:!0},paginationMaxItems:{type:Number,required:!1,default:5,validator:e=>Be(e)&&e>0},totalRowsCount:{type:Number,required:!0}},emits:["update:offset"],setup(e,t){const{currentItem:l,maxItems:s,paginationItems:o}=mi(e),{disabledButtonFirstPage:n,disabledButtonLastPage:d}=vi(e,{currentItem:l,maxItems:s}),{keyDownUpdateOffset:c,keyDownUpdateOffsetFirst:r,keyDownUpdateOffsetLast:f,keyDownUpdateOffsetNext:_,keyDownUpdateOffsetPrevious:m,updateOffset:b,updateOffsetFirst:p,updateOffsetLast:v,updateOffsetNext:C,updateOffsetPrevious:I}=pi(e,t,{currentItem:l,disabledButtonFirstPage:n,disabledButtonLastPage:d,maxItems:s});return{currentItem:l,disabledButtonFirstPage:n,disabledButtonLastPage:d,keyDownUpdateOffset:c,keyDownUpdateOffsetFirst:r,keyDownUpdateOffsetLast:f,keyDownUpdateOffsetNext:_,keyDownUpdateOffsetPrevious:m,maxItems:s,paginationItems:o,updateOffset:b,updateOffsetFirst:p,updateOffsetLast:v,updateOffsetNext:C,updateOffsetPrevious:I}},render(){return a(F,{tag:"nav",class:"a_pagination__nav","aria-label":"_A_PAGINATION_NAVIGATION_"},{default:()=>this.mode==="loadMore"?a(X,{class:"a_btn a_btn_primary",text:"Load more",type:"button"}):[a("ul",{class:"a_pagination"},[this.mode!=="short"?a("li",{class:["a_pagination__item",{disabled:this.disabledButtonFirstPage}]},[a(X,{class:"a_pagination__item__link",iconLeft:jl,role:"button",tabindex:this.disabledButtonFirstPage?-1:0,tag:"a",textScreenReader:"_A_PAGINATION_FIRST_PAGE_",title:"_A_PAGINATION_FIRST_PAGE_",type:"button",onClick:this.updateOffsetFirst,onKeydown:this.keyDownUpdateOffsetFirst})]):"",a("li",{class:["a_pagination__item",{disabled:this.disabledButtonFirstPage}]},[a(X,{class:"a_pagination__item__link",iconLeft:Xl,role:"button",tabindex:this.disabledButtonFirstPage?-1:0,tag:"a",textScreenReader:"_A_PAGINATION_PREVIOUS_PAGE_",title:"_A_PAGINATION_PREVIOUS_PAGE_",type:"button",onClick:this.updateOffsetPrevious,onKeydown:this.keyDownUpdateOffsetPrevious})]),this.mode==="short"?a("li",{class:"a_pagination__item"},[a(F,{class:"a_pagination__item__link disabled",html:"_A_PAGINATION_MOBILE_{{currentPage}}_{{allPages}}_",extra:{currentPage:this.currentItem,allPages:this.maxItems}})]):this.paginationItems.map(e=>{const t=e===this.currentItem;return a("li",{class:["a_pagination__item",{active:t,disabled:this.disabled}]},[a(X,{"aria-current":t?!0:void 0,class:"a_pagination__item__link",extra:{page:e},role:"button",tabindex:t||this.disabled?-1:0,tag:"a",text:e,textAriaHidden:!0,textScreenReader:"_A_PAGINATION_TO_PAGE_{{page}}_",title:"_A_PAGINATION_TO_PAGE_{{page}}_",type:"button",onClick:()=>this.updateOffset(e),onKeydown:l=>this.keyDownUpdateOffset(l,e)})])}),a("li",{class:["a_pagination__item",{disabled:this.disabledButtonLastPage}]},[a(X,{class:"a_pagination__item__link",iconLeft:Kl,role:"button",tabindex:this.disabledButtonLastPage?-1:0,tag:"a",textScreenReader:"_A_PAGINATION_NEXT_PAGE_",title:"_A_PAGINATION_NEXT_PAGE_",type:"button",onClick:this.updateOffsetNext,onKeydown:this.keyDownUpdateOffsetNext})]),this.mode!=="short"?a("li",{class:["a_pagination__item",{disabled:this.disabledButtonLastPage}]},[a(X,{class:"a_pagination__item__link",iconLeft:Ql,role:"button",tabindex:this.disabledButtonLastPage?-1:0,tag:"a",textScreenReader:"_A_PAGINATION_LAST_PAGE_",title:"_A_PAGINATION_LAST_PAGE_",type:"button",onClick:this.updateOffsetLast,onKeydown:this.keyDownUpdateOffsetLast})]):""])]})}};function Ai(e,{isMobile:t=R(!1),updateLimit:l=()=>{},updateOffset:s=()=>{}}){const o=u(e,"modes"),n=u(e,"countAllRows"),d=u(e,"disabled"),c=u(e,"limitsPerPage"),r=u(e,"limit"),f=u(e,"offset"),_=u(e,"rowsLength"),m=u(e,"totalRowsCount"),b=u(e,"maxPages"),p=i(()=>t.value?o.value.mobile||{perPage:{mode:"select",position:0,showTextCountFromTo:!1},pagination:{mode:"short",position:1}}:o.value.desktop||{perPage:{mode:"inline",position:0,showTextCountFromTo:!0},pagination:{mode:"normal",position:1}}),v=i(()=>{const I=[];return k(p.value,(g,A)=>{I.push({...g,component:A})}),ye(I,"position")});return{components:i(()=>{const I=[];return k(v.value,g=>{g.component==="perPage"?I.push(a(fi,{countAllRows:n.value,disabled:d.value,limitsPerPage:c.value,limit:r.value,offset:f.value,rowsLength:_.value,mode:g.mode,showTextCountFromTo:g.showTextCountFromTo,"onUpdate:limit":l})):g.component==="pagination"&&I.push(a(wi,{limit:r.value,disabled:d.value,totalRowsCount:m.value,offset:f.value,paginationMaxItems:b.value,mode:g.mode,"onUpdate:offset":s}))}),I})}}function gi(e,{emit:t}){return{updateLimit:o=>{t("update:limit",o)},updateOffset:o=>{t("update:offset",o)}}}const tt={name:"APagination",props:{countAllRows:{type:Number,required:!0},disabled:{type:Boolean,required:!1},hasRows:{type:Boolean,required:!0},limit:{type:Number,required:!0},limitsPerPage:{type:Array,required:!1,default:()=>["10","25","50","100"]},maxPages:{type:Number,required:!1,default:5,validator:e=>Be(e)&&e>0},offset:{type:Number,required:!0},rowsLength:{type:Number,required:!0},totalRowsCount:{type:Number,required:!0},modes:{type:Object,required:!1,default:()=>({desktop:{perPage:{mode:"group",position:0,showTextCountFromTo:!0},pagination:{mode:"normal",position:1}},mobile:{perPage:{mode:"select",position:0,showTextCountFromTo:!1},pagination:{mode:"short",position:1}}})}},emits:["update:limit","update:offset"],setup(e,t){const{isMobileWidth:l}=ge(),{updateLimit:s,updateOffset:o}=gi(e,t),{components:n}=Ai(e,{isMobile:l,updateLimit:s,updateOffset:o});return{components:n,updateLimit:s,updateOffset:o}},render(){return this.hasRows?a("div",{class:"a_pagination__parent"},this.components):null}},Ci={name:"AResizer",props:{direction:{type:String,required:!0,validator:e=>["x","y"].indexOf(e)!==-1},disabled:{type:Boolean,required:!1}},emits:["mousedown","mousemove","mouseoutDocument","mouseup"],data(){return{clientHeight:0,clientWidth:0}},computed:{isDirectionX(){return this.direction==="x"},isDirectionY(){return this.direction==="y"},directionClass(){return`a_resizer_${this.direction}`},directionIcon(){if(this.direction==="x")return Yl;if(this.direction==="y")return Fe},cursor(){if(this.direction==="x")return"w-resize";if(this.direction==="y")return"s-resize"},bodyClass(){return`a_resizer_${this.direction}_active__body`},attributesResizer(){const e={class:["a_resizer",this.directionClass,{a_resizer_disabled:this.disabled}],ariaHidden:!0};return this.disabled||(e.onMousedown=this.mousedown),e}},unmounted(){this.removeMouseEventListeners(),this.removeClassFromBody()},methods:{mousedown(e){this.addMouseEventListeners(),this.clientHeight=document.documentElement.clientHeight,this.clientWidth=document.documentElement.clientWidth,this.$emit("mousedown",{$event:e,clientHeight:this.clientHeight,clientWidth:this.clientWidth}),this.addClassToBody()},mousemove(e){this.$emit("mousemove",{$event:e,clientX:e.clientX,clientY:e.clientY,clientHeight:this.clientHeight,clientWidth:this.clientWidth})},mouseup(e){this.removeMouseEventListeners(),this.$emit("mouseup",{$event:e,clientHeight:this.clientHeight,clientWidth:this.clientWidth}),this.removeClassFromBody()},mouseoutDocument(e){this.removeMouseEventListeners(),this.$emit("mouseoutDocument",{$event:e,clientHeight:this.clientHeight,clientWidth:this.clientWidth}),this.removeClassFromBody()},addMouseEventListeners(){document.addEventListener("mousemove",this.mousemove),document.addEventListener("mouseup",this.mouseup),document.addEventListener("mouseleave",this.mouseoutDocument)},removeMouseEventListeners(){document.removeEventListener("mousemove",this.mousemove),document.removeEventListener("mouseup",this.mouseup),document.removeEventListener("mouseleave",this.mouseoutDocument)},addClassToBody(){document.body.classList.add(this.bodyClass)},removeClassFromBody(){document.body.classList.remove(this.bodyClass)}},render(){return a("div",this.attributesResizer,[a("div",{class:"a_resizer__line"}),a(ie,{class:"a_resizer__icon",icon:this.directionIcon})])}};function Si(e,{attributesForRoot:t=i(()=>({})),isColumnVisible:l=i(()=>!1),isLocked:s=i(()=>!1),labelTranslated:o=i(()=>"")}){const n=u(e,"searchColumnModel"),d=i(()=>{if(!n.value)return!0;const r=new RegExp(Vl(n.value),"gi");return`${o.value}`.search(r)!==-1});return{attributesComponent:i(()=>{const r={...t.value,class:"a_table__th__dropdown__li"};return d.value||(r.style="display: none;"),!s.value&&!l.value&&(r.class+=" a_table__th__dropdown__li_invisible"),r})}}const Ii=`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="18"
  height="18"
  viewBox="0 0 18 18"
>
  <g
    transform="matrix(0.01757813,0,0,0.01757813,-3.96314e-5,1.7578125e-5)"
  >
    <path
      d="m 493.034,717.353 v 0 c -22.097,-7.811 -37.924,-28.881 -37.924,-53.651 0,-31.421 25.469,-56.89 56.89,-56.89 31.421,0 56.89,25.469 56.89,56.89 0,24.769 -15.833,45.843 -37.924,53.651 v 98.392 c 0,9.98 -8.486,18.618 -18.966,18.618 -10.164,0 -18.966,-8.339 -18.966,-18.618 z m -265.48,-300.17 v 0 0 C 164.683,417.358 113.78,467.989 113.78,531.324 v 189.27 c 0,167.568 136.008,303.405 303.372,303.405 h 189.695 c 167.548,0 303.372,-136.179 303.372,-303.405 v -189.27 c 0,-62.93 -50.854,-113.956 -113.774,-114.141 V 284.414 C 796.445,127.332 668.777,-0.001 512,-0.001 c -157.093,0 -284.445,127.307 -284.445,284.415 v 132.769 z m 113.779,0 V 284.476 c 0,-94.496 76.411,-170.699 170.665,-170.699 94.063,0 170.665,76.426 170.665,170.699 V 417.183 H 341.33 Z"
    />
  </g>
</svg>`;function Ri(e,{isLocked:t=i(()=>!1)}){const l=u(e,"column"),s=u(e,"disabledOptions"),o=P("changeModelColumnsVisible"),n=P("modelColumnsVisibleLocal"),d=i(()=>l.value.id in n.value?!!n.value[l.value.id]:!l.value.hide),c=i(()=>t.value?Ii:d.value?yl:Ll),r=i(()=>t.value?"_A_TABLE_OPTIONS_BTN_LOCK_TITLE_":d.value?"_A_TABLE_OPTIONS_BTN_EYE_TITLE_":"_A_TABLE_OPTIONS_BTN_EYE_CLOSED_TITLE_"),f=({$event:m})=>{m.stopPropagation(),m.preventDefault();const b=V(n.value);b[l.value.id]=!d.value,o(b)};return{buttonVisibleProps:i(()=>{const m={class:"a_table__th__dropdown_item__icon",tag:"span",iconLeft:c.value,title:r.value,textScreenReader:r.value};return t.value||(m.tag="button",m.class+=" a_table__th__dropdown_item__icon_btn a_btn a_btn_link",m.onClick=f,s.value&&(m.disabled=!0)),m}),isColumnVisible:d}}const lt="a_table__drag_element";function mt(e,{emit:t},{classOverString:l="",inDropdown:s=!1}){const o=u(e,"column"),n=u(e,"columnIndex"),d=u(e,"columnIndexDraggable"),c=P("isLoadingOptions"),r=P("isColumnsDnd"),f=R(null),_=i(()=>d.value>n.value?l:`${l}_right`),m=A=>{var w,S,L;if((w=A.target)==null||w.classList.add(lt),s){const M=((S=A.target)==null?void 0:S.offsetHeight)||30;(L=A.target)==null||L.parentElement.style.setProperty("--a_table_draggable_li_height",`${M}px`)}A.dataTransfer.effectAllowed="move",t("dragstartParent",{columnIndex:n.value})},b=A=>{var w,S;(w=A.target)==null||w.classList.remove(_.value),(S=A.target)==null||S.classList.remove(lt),t("dragendParent")},p=()=>{f.value&&f.value.classList&&f.value.classList.add(_.value),t("dragenterParent",{columnIndex:n.value})},v=A=>(A.preventDefault&&A.preventDefault(),!1),C=()=>{f.value&&f.value.classList&&f.value.classList.remove(_.value),t("dragleaveParent",{columnIndex:n.value})},I=i(()=>!!o.value.locked);return{attributesForRoot:i(()=>{const A={ref:"root"};return!I.value&&r.value&&(A.draggable=!c.value,A.onDragstart=m,A.onDragend=b,A.onDragenter=p,A.onDragover=v,A.onDragleave=C),A}),isLocked:I,root:f}}function Ti(e){const t=u(e,"column"),l=u(e,"searchColumnModel"),{filterSearchHighlight:s}=ue(),o=i(()=>xl(t.value.label)?De({placeholder:t.value.label}):t.value.label);return{labelLocal:i(()=>s(o.value,{searchModel:l.value})),labelTranslated:o}}function yi(e){const t=u(e,"columnIndex"),l=P("changeColumnsOrdering"),s=P("columnsOrdered"),o=P("tableId"),n=({columnIndex:b,iconKey:p})=>`${o.value}_${p}_${b}`,d=({$event:b})=>{b.stopPropagation();const p=t.value-1;l({columnIndexDraggable:t.value,columnIndexOver:p}),window.isScrollDisabled||setTimeout(()=>{ve({selector:`#${n({columnIndex:p,iconKey:"up"})}`})})},c=({$event:b})=>{b.stopPropagation();const p=t.value+1;l({columnIndexDraggable:t.value,columnIndexOver:p}),window.isScrollDisabled||setTimeout(()=>{const v=`#${n({columnIndex:p,iconKey:"down"})}`;ve({selector:v})})},r=i(()=>n({columnIndex:t.value,iconKey:"up"})),f=i(()=>n({columnIndex:t.value,iconKey:"down"})),_=i(()=>t.value!==0&&!s.value[t.value-1].locked),m=i(()=>s.value.length-1!==t.value&&!s.value[t.value+1].locked);return{idButtonArrowDown:f,idButtonArrowUp:r,isButtonArrowDownVisible:m,isButtonArrowUpVisible:_,moveColumnDown:c,moveColumnUp:d}}const Li={name:"ATableHeaderThActionItem",components:{AIcon:ie,ATranslation:F},props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},columnIndexDraggable:{type:Number,required:!1,default:-1},disabledOptions:{type:Boolean,required:!1},searchColumnModel:{type:String,required:!0}},emits:["dragendParent","dragstartParent","dragenterParent","dragleaveParent"],inject:["changeColumnsOrdering","columnsOrdered","isColumnsDnd","isLoadingOptions","isLoadingTable","modelColumnsVisibleLocal","tableId"],setup(e,t){const{attributesForRoot:l,isLocked:s,root:o}=mt(e,t,{classOverString:"a_table__th__dropdown__li_over",inDropdown:!0}),{labelLocal:n,labelTranslated:d}=Ti(e),{buttonVisibleProps:c,isColumnVisible:r}=Ri(e,{isLocked:s}),{idButtonArrowDown:f,idButtonArrowUp:_,isButtonArrowDownVisible:m,isButtonArrowUpVisible:b,moveColumnDown:p,moveColumnUp:v}=yi(e),{attributesComponent:C}=Si(e,{attributesForRoot:l,isColumnVisible:r,isLocked:s,labelTranslated:d});return{attributesComponent:C,attributesForRoot:l,buttonVisibleProps:c,idButtonArrowDown:f,idButtonArrowUp:_,isButtonArrowDownVisible:m,isButtonArrowUpVisible:b,isLocked:s,labelLocal:n,moveColumnDown:p,moveColumnUp:v,root:o}},render(){return this.column.isRender===!1?null:a("li",this.attributesComponent,[a("div",{class:"a_dropdown__item_text a_table__th__dropdown_item"},[a("div",{class:"a_table__th__dropdown_item__child"},[a(te,this.buttonVisibleProps),a("span",{class:"a_position_relative"},[this.column.icon&&a(ie,{icon:this.column.icon,class:"a_table__th__icon"}),a(F,{tag:"span",class:"a_table__th__text",safeHtml:this.labelLocal}),this.column.title&&a(F,{title:this.column.title,ariaHidden:!0,tag:"span",class:"a_position_absolute_all"}),this.column.title&&a(F,{text:this.column.title,tag:"span",class:"a_sr_only"})]),!this.isLocked&&this.isColumnsDnd?[this.isButtonArrowUpVisible&&a(te,{id:this.idButtonArrowUp,class:"a_sr_only_focusable a_btn a_btn_link a_p_0 a_table__th__dropdown_item__btn_arrow",disabled:this.disabledOptions,type:"button",iconLeft:Jl,title:"_A_TABLE_OPTIONS_BTN_ARROW_UP_TITLE_",textScreenReader:"_A_TABLE_OPTIONS_BTN_ARROW_UP_TITLE_",onClick:this.moveColumnUp}),this.isButtonArrowDownVisible&&a(te,{id:this.idButtonArrowDown,class:"a_sr_only_focusable a_btn a_btn_link a_p_0 a_table__th__dropdown_item__btn_arrow",disabled:this.disabledOptions,type:"button",iconLeft:ft,title:"_A_TABLE_OPTIONS_BTN_ARROW_DOWN_TITLE_",textScreenReader:"_A_TABLE_OPTIONS_BTN_ARROW_DOWN_TITLE_",onClick:this.moveColumnDown})]:""]),!this.isLocked&&this.isColumnsDnd&&a(ie,{icon:Zl,class:"a_table__th__dropdown_item__icon_dnd"})])])}};function pt(e){const t={};return e.forEach(l=>{t[l.id]=!l.hide}),t}function wt({element:e,tagsName:t,classStop:l}){if(e&&e.tagName){if(t.indexOf(e.tagName)!==-1)return!0;if(e.classList.contains(l))return!1;if(e.parentElement)return wt({element:e.parentElement,tagsName:t,classStop:l})}return!1}function xi({$event:e,classStop:t="",tagsName:l=[]}={}){return e&&e.target?wt({element:e.target,tagsName:l,classStop:t}):!1}function fe({column:e,modelColumnsVisibleLocal:t}){return e.isRender===!1?!1:e.id in t?!!t[e.id]:!e.hide}function Pi({column:e}){return e.isRender===!1?!1:!e.hide}function Oi({columnIndex:e,indexFirstScrollInvisibleColumn:t}){return J(t)?!0:e<t}function Di({column:e,columnIndex:t,modelIsTableWithoutScroll:l,modelColumnsVisibleLocal:s,indexFirstScrollInvisibleColumn:o}){return l?fe({column:e,modelColumnsVisibleLocal:s})&&Oi({columnIndex:t,indexFirstScrollInvisibleColumn:o}):fe({column:e,modelColumnsVisibleLocal:s})}function At({tableId:e}){return`${e}_preview_right`}function gt({tableId:e}){return`${e}_multiple_panel`}function Ct({tableId:e}){return`${e}_header_label`}function Ae({row:e,rowIndex:t,keyId:l}){return l?G(e,l):t}function St({rowAction:e,row:t,rowIndex:l}){return e.isHidden?!1:U(e.isHiddenCallback)?!e.isHiddenCallback({row:t,rowIndex:l}):!0}function Mi(){const e=R("");return{searchColumnModel:e,updateSearchColumnModel:l=>{e.value=l}}}function It({classOver:e="",classOverRight:t="",classOverParent:l="",inHeader:s=!1}){const o=R(void 0),n=R(void 0),d=R(void 0),c=P("changeColumnsOrdering"),r=i(()=>!J(n.value)),f=({columnIndex:C})=>{n.value=C},_=({columnIndex:C})=>{d.value=C},m=({columnIndex:C})=>{d.value===C&&(d.value=void 0)},b=C=>{if(!(J(n.value)||J(d.value)))return c({columnIndexDraggable:n.value,columnIndexOver:d.value,inHeader:s}),C.stopPropagation(),!1},p=()=>{o.value.querySelectorAll(`.${l}`).forEach(I=>{I.classList.remove(e),I.classList.remove(t)})};return{columnIndexDraggable:n,dragstart:f,dragenter:_,dragleave:m,dragend:()=>{p(),n.value=void 0},drop:b,isDragstart:r,root:o}}function Rt(){const e=P("columnActionsWidthMinLocal"),t=P("modelIsTableWithoutScroll");return{stylesThTd:i(()=>t.value?{}:{style:`width: ${e.value}px;`})}}const Pe={name:"ATableHeaderThAction",inject:["changeModelIsTableWithoutScroll","columnActionsWidthLocal","changeColumnsOrdering","changeModelColumnsVisible","columns","columnsOrdered","isActionIconVisible","modelIsTableWithoutScroll","useRem"],props:{disabledOptions:{type:Boolean,required:!1},isRowActionsStickyLocal:{type:Boolean,required:!0}},setup(){const{columnIndexDraggable:e,dragend:t,dragenter:l,dragleave:s,dragstart:o,drop:n,isDragstart:d,root:c}=It({classOver:"a_table__th__dropdown__li_over",classOverRight:"a_table__th__dropdown__li_over_right",classOverParent:"a_table__th__dropdown__li",inHeader:!1}),{searchColumnModel:r,updateSearchColumnModel:f}=Mi(),{stylesThTd:_}=Rt();return{columnIndexDraggable:e,dragend:t,dragenter:l,dragleave:s,dragstart:o,drop:n,isDragstart:d,root:c,searchColumnModel:r,stylesThTd:_,updateSearchColumnModel:f}},methods:{selectAllColumns(){const e={};k(this.columnsOrdered,t=>{e[t.id]=!0}),this.changeModelColumnsVisible(e)},deselectAllColumns(){const e={};k(this.columnsOrdered,t=>{e[t.id]=!!t.locked}),this.changeModelColumnsVisible(e)},resetColumns(){this.changeModelColumnsVisible(pt(this.columnsOrdered)),this.changeColumnsOrdering({reset:!0})}},render(){return a("div",{class:["a_table__th a_table__cell a_table__cell_action",{a_table__cell_action_sticky:this.isRowActionsStickyLocal}],role:"columnheader",...this.stylesThTd},[a("span",{class:"a_sr_only"},"Aktionen"),this.isActionIconVisible&&a(he,{buttonClass:"a_btn a_btn_secondary a_table__cell_action__btn",buttonTitle:"_A_TABLE_DROPDOWN_OPTIONS_TITLE_",buttonTextScreenReader:"_A_TABLE_DROPDOWN_OPTIONS_TITLE_",dropdownTag:"div",dropdownClass:"a_p_0",hasCaret:!1,isCloseByClickInside:!1,disabled:this.disabledOptions,placement:"left",menuWidth:320,inBody:!0,useRem:this.useRem},{button:()=>a(ie,{icon:li}),dropdown:()=>[a("ul",{class:["a_table__th__dropdown__ul",{a_table__th__dropdown__ul_dragstart:this.isDragstart}],ref:"root",onDrop:this.drop},[a("li",null,[a("div",{class:"a_dropdown__item_text a_table__th__dropdown__search"},[a(nt,{label:"Suchen",modelValue:this.searchColumnModel,isClearButton:!0,modelUndefined:"","onUpdate:modelValue":this.updateSearchColumnModel})])]),a("li",{class:"a_dropdown__divider","aria-hidden":!0}),a("li",null,[a("button",{type:"button",class:"a_dropdown__item",disabled:this.disabledOptions,onClick:this.selectAllColumns},[a(ie,{icon:ei,class:"a_table__th__dropdown_item__icon"}),a("span",null,"Alle einblenden")])]),a("li",null,[a("button",{type:"button",class:"a_dropdown__item",disabled:this.disabledOptions,onClick:this.deselectAllColumns},[a(ie,{icon:Se,class:"a_table__th__dropdown_item__icon"}),a("span",null,"Alle ausblenden")])]),a("li",null,[a("button",{type:"button",class:"a_dropdown__item",disabled:this.disabledOptions,onClick:this.resetColumns},[a(ie,{icon:ti,class:"a_table__th__dropdown_item__icon"}),a("span",null,"Zurücksetzen")])]),a("li",null,[a(Pl,{class:"a_dropdown__item_text a_text_nowrap",disabled:this.disabledOptions,modelValue:this.modelIsTableWithoutScroll,trueLabel:"Kompakte Ansicht",falseLabel:"Kompakte Ansicht","onUpdate:modelValue":this.changeModelIsTableWithoutScroll})]),a("li",{class:"a_dropdown__divider","aria-hidden":!0}),this.columnsOrdered.map((e,t)=>a(Li,{column:e,columnIndex:t,columnIndexDraggable:this.columnIndexDraggable,disabledOptions:this.disabledOptions,searchColumnModel:this.searchColumnModel,onDragstartParent:this.dragstart,onDragenterParent:this.dragenter,onDragleaveParent:this.dragleave,onDragendParent:this.dragend}))])]})])}};function Tt(e,{emit:t}){const l=u(e,"areAllRowsSelected"),s=u(e,"areAllVisibleRowsSelected"),o=u(e,"areSomeRowsSelected"),n=u(e,"rowsLocalLength"),d=i(()=>!!(n.value===0||l.value)),c=i(()=>o.value&&!(s.value||l.value)),r=i(()=>s.value||l.value),f=i(()=>c.value||r.value?"_A_TABLE_DESELECT_ALL_VISIBLE_POSSIBLE_ROWS_":"_A_TABLE_SELECT_ALL_VISIBLE_POSSIBLE_ROWS_");return{isCheckboxDisabled:d,isCheckboxIndeterminate:c,labelCheckbox:f,modelValueCheckboxLocal:r,toggleCheckbox:()=>{d.value||t("setSelectedRowsIndexes",{isAll:!0})}}}const Ei={name:"ATableGroupedHeader",props:{areAllRowsSelected:{type:Boolean,required:!0},areAllVisibleRowsSelected:{type:Boolean,required:!0},areSomeRowsSelected:{type:Boolean,required:!0},columnsForRender:{type:Array,required:!0},disabledOptions:{type:Boolean,required:!1},disabledSort:{type:Boolean,required:!1},hasMultipleActions:{type:Boolean,required:!0},isRowActionsStickyLocal:{type:Boolean,required:!0},isSortingMultiColumn:{type:Boolean,required:!1},modelSort:{type:Array,required:!0},rowsLocalLength:{type:Number,required:!0},showFirstSortingSequenceNumber:{type:Boolean,required:!1},sortingSequenceNumberClass:{type:[String,Object],required:!1}},emits:["setSelectedRowsIndexes"],inject:["changeColumnsOrdering","columnsFilteredForRender","isActionColumnVisible","isMobile","isMultipleActionsActive"],setup(e,t){const{isCheckboxDisabled:l,isCheckboxIndeterminate:s,labelCheckbox:o,modelValueCheckboxLocal:n,toggleCheckbox:d}=Tt(e,t);return{isCheckboxDisabled:l,isCheckboxIndeterminate:s,labelCheckbox:o,modelValueCheckboxLocal:n,toggleCheckbox:d}},render(){return this.isMobile?null:a("div",{ref:"root",role:"rowgroup",class:"a_table__head"},[a("div",{class:"a_table__row a_table__head__row",role:"row"},[this.isMultipleActionsActive&&a("div",{role:"columnheader",class:"a_table__th a_table__cell a_table__cell_checkbox",style:"width: 50px; min-width: 50px; max-width: 50px;","aria-colindex":1},[a(Me,{isWidthAuto:!0,modelValue:this.modelValueCheckboxLocal,indeterminate:this.isCheckboxIndeterminate,disabled:this.isCheckboxDisabled,label:this.labelCheckbox,labelClass:"a_sr_only",isLabelTitle:!0,"onUpdate:modelValue":this.toggleCheckbox})]),this.columnsForRender,this.isActionColumnVisible&&a(Pe,{disabledOptions:this.disabledOptions,isRowActionsStickyLocal:this.isRowActionsStickyLocal})])])}};function Bi(e,{ariaSort:t=i(()=>({})),attributesForRoot:l=i(()=>({})),columnsStyles:s=i(()=>""),isLocked:o=i(()=>!1),isSorting:n=i(()=>!1),titlesSort:d=i(()=>[])}){const c=u(e,"column"),r=u(e,"columnIndex"),f=u(e,"hasMultipleActions"),_=P("isLoadingOptions"),m=P("isLoadingOptions"),b=i(()=>["a_table__th a_table__cell",{a_table__th_draggable:!o.value&&!m.value&&_.value,a_table__th_sorting:n.value},c.value.classHeaderParent]),p=i(()=>{const C=[];return(c.value.title||c.value.title===0)&&C.push(c.value.title),C.push(...d.value),C});return{attributesForTh:i(()=>{let C=r.value+1;return f.value&&C++,{...t.value,...l.value,"aria-colindex":C,ref:"root",role:"columnheader",class:b.value,style:s.value}}),titlesLocal:p}}function ki(e){const t=u(e,"column"),l=P("columnsVisibleAdditionalSpaceForOneGrow",0),s=i(()=>J(t.value.grow)?1:t.value.grow);return{additionalWidthForCurrentColumn:i(()=>l.value*s.value)}}function yt(e){const t=u(e,"column"),l=P("columnWidthDefault"),s=P("useRem"),{additionalWidthForCurrentColumn:o}=ki(e),{scalePxWithRem:n}=Ee(),d=i(()=>s.value?n(t.value.width)||l.value:t.value.width||l.value),c=i(()=>d.value+o.value),r=i(()=>`width: ${c.value}px; min-width: ${c.value}px; max-width: ${c.value}px;`);return{columnsStyles:i(()=>t.value.style?`${r.value} ${t.value.style}`:r.value)}}function Ni(e){const t=u(e,"column"),l=u(e,"columnIndex"),s=u(e,"disabledSort"),o=u(e,"isSortingMultiColumn"),n=u(e,"modelSort"),d=u(e,"showFirstSortingSequenceNumber"),c=P("changeModelSort"),r=P("tableId"),f=i(()=>t.value.sortId),_=i(()=>!!f.value),m=i(()=>n.value.indexOf(f.value)),b=i(()=>n.value.indexOf(`-${f.value}`)),p=i(()=>m.value!==-1),v=i(()=>b.value!==-1),C=i(()=>_.value&&(p.value||v.value)),I=i(()=>{if(_.value){let h="none";return p.value?h="ascending":v.value&&(h="descending"),{"aria-sort":h}}return{}}),g=i(()=>a(ie,{icon:ii,class:"a_table__th__sort__icon a_table__th__sort__icon_up"})),A=i(()=>a(ie,{icon:si,class:"a_table__th__sort__icon a_table__th__sort__icon_down"})),w=i(()=>{const h=[];return _.value&&(v.value||h.push(g.value),p.value||h.push(A.value)),h}),S=({$event:h})=>{s.value||c({$event:h,sortId:f.value})},L=i(()=>`${r.value}_th_${l.value}_screen_reader`),M=i(()=>{var h;return _.value?{type:"button",disabled:s.value,isTitleHtml:((h=at.value.config)==null?void 0:h.isHtmlTitleSort)||!1,"aria-describedby":L.value,onClick:S}:{tag:"span"}}),O=i(()=>{if(!(!o.value&&!C.value)&&!(n.value.length<=1&&!d.value)){if(m.value!==-1)return m.value+1;if(b.value!==-1)return b.value+1}}),x=i(()=>{const h=[];return _.value&&(h.push("_A_TABLE_SORT_TITLE_"),o.value&&h.push("_A_TABLE_SORT_TITLE_MULTI_COLUMN_")),h});return{ariaSort:I,attributesForButtonSort:M,columnTextScreenReaderId:L,iconsSortable:w,isSortable:_,isSorting:C,sequenceNumberSort:O,titlesSort:x}}const Oe={name:"ATableHeaderTh",props:{column:{type:Object,required:!0},columnGroupNames:{type:Array,required:!1,default:void 0},columnIndex:{type:Number,required:!0},columnIndexDraggable:{type:Number,required:!1,default:-1},disabledSort:{type:Boolean,required:!1},hasMultipleActions:{type:Boolean,required:!0},isSortingMultiColumn:{type:Boolean,required:!1},modelSort:{type:Array,required:!1},showFirstSortingSequenceNumber:{type:Boolean,required:!1},sortingSequenceNumberClass:{type:[String,Object],required:!1}},emits:["dragendParent","dragstartParent","dragenterParent","dragleaveParent"],inject:["changeModelSort","isColumnsDnd","isLoadingOptions","isLoadingTable"],setup(e,t){const{columnsStyles:l}=yt(e),{attributesForRoot:s,isLocked:o,root:n}=mt(e,t,{classOverString:"a_table__th_over",inDropdown:!1}),{ariaSort:d,attributesForButtonSort:c,columnTextScreenReaderId:r,iconsSortable:f,isSortable:_,isSorting:m,sequenceNumberSort:b,titlesSort:p}=Ni(e),{attributesForTh:v,titlesLocal:C}=Bi(e,{ariaSort:d,attributesForRoot:s,columnsStyles:l,isLocked:o,isSorting:m,titlesSort:p});return{attributesForButtonSort:c,attributesForTh:v,columnTextScreenReaderId:r,columnsStyles:l,iconsSortable:f,isSortable:_,root:n,sequenceNumberSort:b,titlesLocal:C,titlesSort:p}},render(){return a("div",this.attributesForTh,[a("div",{class:["a_table__cell__child"]},[this.columnGroupNames&&a(F,{html:this.columnGroupNames,tag:"span",class:"a_sr_only"}),a(F,{id:this.columnTextScreenReaderId,text:this.titlesLocal,tag:"span",class:"a_sr_only",ariaHidden:!0}),a(te,{class:["a_table__th__btn",this.column.class,this.column.classHeader,{"a_btn a_btn_link a_table__th__btn_sort":this.isSortable,a_table__th__btn_sequence:this.sequenceNumberSort}],iconLeft:this.column.icon,iconClass:"a_table__th__icon",extra:this.column.extra,title:this.titlesLocal,textScreenReader:this.column.textScreenReader||void 0,...this.attributesForButtonSort},()=>[this.column.label&&a(F,{html:this.column.label,tag:"span",extra:this.column.extra,class:"a_table__th__text aloha_element__ml_0",ariaHidden:!!this.column.textScreenReader}),this.isSortable&&a("span",{class:"a_table__th__sort__box aloha_element__ml_0"},[this.sequenceNumberSort&&a("span",{class:["a_table__th__sort__sequence_num",this.sortingSequenceNumberClass]},this.sequenceNumberSort),a("span",{class:"a_table__th__sort__icons"},[...this.iconsSortable])])])])])}},Fi={name:"ATableHeader",components:{ATableHeaderTh:Oe,ATableHeaderThAction:Pe},props:{areAllRowsSelected:{type:Boolean,required:!0},areAllVisibleRowsSelected:{type:Boolean,required:!0},areSomeRowsSelected:{type:Boolean,required:!0},disabledOptions:{type:Boolean,required:!1},disabledSort:{type:Boolean,required:!1},hasMultipleActions:{type:Boolean,required:!0},isRowActionsStickyLocal:{type:Boolean,required:!0},isSortingMultiColumn:{type:Boolean,required:!1},modelSort:{type:Array,required:!0},rowsLocalLength:{type:Number,required:!0},showFirstSortingSequenceNumber:{type:Boolean,required:!1},sortingSequenceNumberClass:{type:[String,Object],required:!1}},emits:["setSelectedRowsIndexes"],inject:["changeColumnsOrdering","columnsFilteredForRender","isActionColumnVisible","isMobile","isMultipleActionsActive"],setup(e,t){const{columnIndexDraggable:l,dragstart:s,dragenter:o,dragleave:n,dragend:d,drop:c,isDragstart:r,root:f}=It({classOver:"a_table__th_over",classOverRight:"a_table__th_over_right",classOverParent:"a_table__th",inHeader:!0}),{isCheckboxDisabled:_,isCheckboxIndeterminate:m,labelCheckbox:b,modelValueCheckboxLocal:p,toggleCheckbox:v}=Tt(e,t);return{columnIndexDraggable:l,dragend:d,dragenter:o,dragleave:n,dragstart:s,drop:c,isCheckboxDisabled:_,isCheckboxIndeterminate:m,isDragstart:r,labelCheckbox:b,modelValueCheckboxLocal:p,root:f,toggleCheckbox:v}},render(){return this.isMobile?null:a("div",{ref:"root",role:"rowgroup",class:["a_table__head",{a_table__head_dragstart:this.isDragstart}]},[a("div",{class:"a_table__row a_table__head__row",role:"row",onDrop:this.drop},[this.isMultipleActionsActive&&a("div",{role:"columnheader",class:"a_table__th a_table__cell a_table__cell_checkbox",style:"width: 50px; min-width: 50px; max-width: 50px;","aria-colindex":1},[a(Me,{isWidthAuto:!0,modelValue:this.modelValueCheckboxLocal,indeterminate:this.isCheckboxIndeterminate,disabled:this.isCheckboxDisabled,label:this.labelCheckbox,labelClass:"a_sr_only",isLabelTitle:!0,"onUpdate:modelValue":this.toggleCheckbox})]),this.columnsFilteredForRender.map((e,t)=>a(Oe,{ref:"th",column:e,columnIndex:t,columnIndexDraggable:this.columnIndexDraggable,disabledSort:this.disabledSort,hasMultipleActions:this.hasMultipleActions,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSort,showFirstSortingSequenceNumber:this.showFirstSortingSequenceNumber,sortingSequenceNumberClass:this.sortingSequenceNumberClass,onDragstartParent:this.dragstart,onDragenterParent:this.dragenter,onDragleaveParent:this.dragleave,onDragendParent:this.dragend})),this.isActionColumnVisible&&a(Pe,{disabledOptions:this.disabledOptions,isRowActionsStickyLocal:this.isRowActionsStickyLocal})])])}};function qi(e,{emit:t},{nextAvailableRowIndex:l,previousAvailableRowIndex:s,rowNumber:o=i(()=>0)}){const n=u(e,"countAllRows"),d=u(e,"limitPagination"),c=u(e,"offsetPagination"),r=u(e,"rowIndex"),f=u(e,"usePagination"),_=i(()=>o.value<=1||J(s.value)),m=i(()=>o.value>=n.value||J(l.value));return{disabledBtnArrowLeft:_,disabledBtnArrowRight:m,toNextRow:()=>{m.value||(f.value?(r.value+1)%d.value===0?(t("update:offset",{offset:c.value+d.value,reload:!1}),t("togglePreview",{rowIndex:0})):t("togglePreview",{rowIndex:l.value}):t("togglePreview",{rowIndex:l.value}))},toPreviousRow:()=>{_.value||(f.value?(r.value+1)%d.value===1?(t("update:offset",{offset:c.value-d.value,reload:!1}),t("togglePreview",{rowIndex:d.value-1})):t("togglePreview",{rowIndex:s.value}):t("togglePreview",{rowIndex:s.value}))}}}function Vi(){const e=P("tableId");return{idLocal:i(()=>At({tableId:e.value}))}}function Wi({emit:e},{previewRef:t=R(void 0)}){return{mousedown:({clientWidth:n})=>{e("mousedownResizePreviewRight",{clientWidth:n})},mousemove:({clientX:n})=>{e("mousemoveResizePreviewRight",{clientX:n,previewRef:t.value})},mouseup:()=>{e("mouseupResizePreviewRight",{previewRightWidth:G(t,"value.offsetWidth")})}}}function Ui(e){const t=u(e,"countAllRows"),l=u(e,"disabledPreviewRowCallback"),s=u(e,"offsetPagination"),o=u(e,"rowIndex"),n=u(e,"rows"),d=u(e,"usePagination"),{filterCurrency:c}=ue(),r=i(()=>d.value?(s.value||0)+o.value+1:o.value+1),f=i(()=>n.value[o.value]),_=i(()=>{let v=null;if(!U(l.value))v=o.value===n.value.length-1?null:o.value++;else for(let C=o.value+1;C<n.value.length;C++){const I=n.value[C];if(!l.value({row:I,rowIndex:C})){v=C;break}}return v}),m=i(()=>{let v=null;if(!U(l.value))v=o.value===0?null:o.value--;else for(let C=o.value-1;C>=0;C--){const I=n.value[C];if(!l.value({row:I,rowIndex:C})){v=C;break}}return v}),b=i(()=>c(t.value,{suffix:"",digits:0})),p=i(()=>c(r.value,{suffix:"",digits:0}));return{countAllRowsFormatted:b,currentRow:f,nextAvailableRowIndex:_,previousAvailableRowIndex:m,rowNumber:r,rowNumberFormatted:p}}const Gi={name:"ATablePreviewRight",props:{countAllRows:{type:Number,required:!0},disabledPreviewRowCallback:{type:Function,required:!1,default:()=>{}},isLoadingTable:{type:Boolean,required:!1},isMobile:{type:Boolean,required:!1},limitPagination:{type:Number,required:!1,default:void 0},offsetPagination:{type:Number,required:!1,default:void 0},previewStyles:{type:[String,Object],required:!1,default:void 0},rowIndex:{type:Number,required:!0},rows:{type:Array,required:!0},usePagination:{type:Boolean,required:!1}},emits:["closePreview","mousedownResizePreviewRight","mousemoveResizePreviewRight","mouseupResizePreviewRight","togglePreviewResize","togglePreview","update:offset"],inject:["isLoadingOptions"],setup(e,t){const l=u(e,"isMobile"),{previewRef:s}=rt(),{idLocal:o}=Vi(),{mousedown:n,mousemove:d,mouseup:c}=Wi(t,{previewRef:s}),{countAllRowsFormatted:r,currentRow:f,nextAvailableRowIndex:_,previousAvailableRowIndex:m,rowNumber:b,rowNumberFormatted:p}=Ui(e),{disabledBtnArrowLeft:v,disabledBtnArrowRight:C,toNextRow:I,toPreviousRow:g}=qi(e,t,{nextAvailableRowIndex:_,previousAvailableRowIndex:m,rowNumber:b});return qe(()=>{l.value||t.emit("togglePreviewResize",{isOpen:!0,previewRef:s.value})}),Ie(()=>{l.value||t.emit("togglePreviewResize",{isOpen:!1,previewRef:s.value})}),{countAllRowsFormatted:r,currentRow:f,disabledBtnArrowLeft:v,disabledBtnArrowRight:C,idLocal:o,mousedown:n,mousemove:d,mouseup:c,previewRef:s,rowNumber:b,rowNumberFormatted:p,toNextRow:I,toPreviousRow:g}},render(){const e=[this.isLoadingTable?a(Ye):a("div",{},[a(F,{class:"a_table__preview_right__header__text",tag:"span",text:"_A_TABLE_PREVIEW_RIGHT_HEADER_{{rowNumber}}_{{rowNumberFormatted}}_{{countAllRows}}_{{countAllRowsFormatted}}_",extra:{rowNumber:this.rowNumber,rowNumberFormatted:this.rowNumberFormatted,countAllRows:this.countAllRows,countAllRowsFormatted:this.countAllRowsFormatted}}),a("div",{class:"a_table__preview_right__header__icons"},[a(te,{class:"a_btn a_btn_transparent_dark a_btn_small",disabled:this.disabledBtnArrowLeft,iconLeft:oi,title:"_A_TABLE_PREVIEW_RIGHT_PREVIOUS_ROW_",textScreenReader:"_A_TABLE_PREVIEW_RIGHT_PREVIOUS_ROW_",onClick:this.toPreviousRow}),a(te,{class:"a_btn a_btn_transparent_dark a_btn_small",disabled:this.disabledBtnArrowRight,iconLeft:ni,title:"_A_TABLE_PREVIEW_RIGHT_NEXT_ROW_",textScreenReader:"_A_TABLE_PREVIEW_RIGHT_NEXT_ROW_",onClick:this.toNextRow})])]),this.isMobile?"":a(te,{class:"a_btn a_btn_transparent_dark a_table__preview_right__btn_close",iconLeft:Se,iconClass:"a_table__preview_right__btn_close__icon",title:"_A_TABLE_PREVIEW_RIGHT_CLOSE_",textScreenReader:"_A_TABLE_PREVIEW_RIGHT_CLOSE_",onClick:()=>this.$emit("closePreview")})],t=[this.isLoadingTable?a(Ye):this.$slots.preview?this.$slots.preview({row:this.currentRow,rowIndex:this.rowIndex}):a(F,{text:"_A_TABLE_PREVIEW_RIGHT_HAS_NOT_SLOT_"})];return this.isMobile?a(Ol,{hideFooter:!0,close:()=>this.$emit("closePreview"),size:"xxl"},{modalHeader:()=>e,modalBody:()=>t}):a("div",{ref:"previewRef",id:this.idLocal,class:"a_table__preview_right",style:this.previewStyles,tabindex:-1},[a(Ci,{class:"a_table__preview_right__resizer",direction:"x",disabled:this.isLoadingOptions,onMousedown:this.mousedown,onMousemove:this.mousemove,onMouseup:this.mouseup,onMouseoutDocument:this.mouseup}),a(F,{class:"a_sr_only",text:"_A_TABLE_PREVIEW_RIGHT_ARIA_LABEL_"}),a("div",{class:"a_table__preview_right__header"},e),a("div",{class:"a_table__preview_right__body"},t)])}};function Hi(){const e=P("tableId"),t=["additionalProps"],l=i(()=>`${e.value}_`);return{excludeRenderAttributes:t,idPrefix:l}}function $i(e){const t=u(e,"additionalSortingColumns"),l=P("columnsOrdered",[]),s=i(()=>[...ne(l.value,d=>d.sortId),...t.value]),o=i(()=>ke(s.value,"sortId")),n=i(()=>s.value.length);return{columnsAll:s,columnsAllKeyBySortId:o,countColumnsAll:n}}function zi(e,{columnsAll:t=i(()=>[])}){const l=R(void 0),s=R(!1),o=i(()=>t.value.length>0);return{closeDropdown:()=>{var d;(d=l.value)==null||d.onClose({trigger:"click"})},dropdownRef:l,isDropdownVisible:o,wasOpenDropdown:s}}function ji(e,{columnsAll:t=i(()=>[]),columnsAllKeyBySortId:l=i(()=>({})),unappliedModelSort:s=R([])}){const o=R([]),n=[{label:"_A_TABLE_SORT_ADDITIONAL_DIRECTION_ASC_",id:"asc"},{label:"_A_TABLE_SORT_ADDITIONAL_DIRECTION_DESC_",id:"desc"}],d=i(()=>ne(t.value,r=>!dt(s.value,["sortId",r.sortId])));return{dataForForm:o,initDataForForm:()=>{const r=[];k(s.value,({sortId:f},_)=>{const m=_===0,b=V(d.value);f&&l.value[f]&&b.unshift(l.value[f]),r.push({type:"fieldset",id:`group_${f}`,label:m?"_A_TABLE_SORT_ADDITIONAL_SORT_BY_":"_A_TABLE_SORT_ADDITIONAL_THEN_BY_",children:[{id:`[${_}].sortId`,type:"select",classColumn:"a_column a_column_12_touch a_column_7_fullhd a_column_7_widescreen a_column_7_desktop",deselectable:!1,data:b,keyId:"sortId",keyLabel:"label",translateData:!0,search:!0,label:"_A_TABLE_SORT_ADDITIONAL_COLUMN_"},{id:`[${_}].sortMode`,type:"select",classColumn:"a_column a_column_12_touch a_column_5_fullhd a_column_5_widescreen a_column_5_desktop a_d_flex a_align_items_center",class:"a_width_100",deselectable:!1,data:n,keyId:"id",keyLabel:"label",translateData:!0,search:!1,label:"_A_TABLE_SORT_ADDITIONAL_DIRECTION_",slotAppend:"slotAppend",additionalProps:{index:_}}]})}),o.value=r}}}function Xi(e,{closeDropdown:t=()=>{},countColumnsAll:l=i(()=>0),initDataForForm:s=()=>{},unappliedModelSort:o=R([]),wasOpenDropdown:n=R(!1)}){const d=u(e,"isSortingMultiColumn"),c=u(e,"modelSort"),r=P("changeModelSort"),f=P("tableId"),_=({model:S}={})=>{if(n.value&&!S)return;n.value=!0;const L=S||V(c.value);L.length<l.value&&L.push(void 0),d.value||L.length>1&&(L.length=1);const M=[];k(L,O=>{const x=O&&O.replace(/^-/,""),h=ct(O,"-")?"desc":"asc";M.push({sortId:x,sortMode:h})}),o.value=M,s({unappliedModelSort:M})},m=({model:S})=>!d.value||S.length>=l.value?!1:!!ut(S).sortId,b=({fullModel:S})=>{m({model:S})&&S.push({sortId:void 0,sortMode:"asc"}),o.value=S,s({unappliedModelSort:o.value})},p=({item:S})=>{var x,h;const L=S.additionalProps.index;L===o.value.length-1?o.value[L].sortId=void 0:o.value.splice(L,1);const O=o.value.length-1;(h=(x=o.value)==null?void 0:x[O])!=null&&h.sortId&&o.value.push({sortId:void 0,sortMode:"asc"}),s({unappliedModelSort:o.value})},v=()=>{const S=[];k(o.value,L=>{L.sortId&&S.push(`${L.sortMode==="asc"?"":"-"}${L.sortId}`)}),r({modelAll:S}),t()},C=({modelSort:S=[],tableId:L})=>{L===f.value&&_({model:S})},I=()=>{Te.$on("changeTableSorting",C)},g=()=>{Te.$off("changeTableSorting",C)},A=i(()=>{var S;return((S=c.value)==null?void 0:S.length)||0}),w=i(()=>{if(A.value)return A.value});return{changeModelSortInTable:v,countModelSort:A,destroyEventBus:g,initEventBus:I,initUnappliedModelSort:_,removeUnappliedModelSort:p,textCountModelSort:w,updateUnappliedModelSort:b}}const Ki={name:"ATableSortingAdditional",props:{additionalSortingColumns:{type:Array,required:!1,default:()=>[]},disabledSort:{type:Boolean,required:!1},isSortingMultiColumn:{type:Boolean,required:!1,default:!1},modelSort:{type:Array,required:!1}},setup(e){const t=R([]),{columnsAll:l,columnsAllKeyBySortId:s,countColumnsAll:o}=$i(e),{dataForForm:n,initDataForForm:d}=ji(e,{columnsAll:l,columnsAllKeyBySortId:s,unappliedModelSort:t}),{closeDropdown:c,dropdownRef:r,isDropdownVisible:f,wasOpenDropdown:_}=zi(e,{columnsAll:l}),{changeModelSortInTable:m,countModelSort:b,destroyEventBus:p,initEventBus:v,initUnappliedModelSort:C,removeUnappliedModelSort:I,textCountModelSort:g,updateUnappliedModelSort:A}=Xi(e,{closeDropdown:c,countColumnsAll:o,initDataForForm:d,unappliedModelSort:t,wasOpenDropdown:_}),{excludeRenderAttributes:w,idPrefix:S}=Hi();return v(),Ie(()=>{p()}),{changeModelSortInTable:m,closeDropdown:c,countModelSort:b,dataForForm:n,dropdownRef:r,excludeRenderAttributes:w,idPrefix:S,initUnappliedModelSort:C,isDropdownVisible:f,removeUnappliedModelSort:I,textCountModelSort:g,unappliedModelSort:t,updateUnappliedModelSort:A,wasOpenDropdown:_}},render(){return this.isDropdownVisible?a(he,{ref:"dropdownRef",buttonClass:"a_btn a_btn_secondary a_table__action",buttonIconLeft:et,buttonText:this.textCountModelSort,buttonTextAriaHidden:!0,buttonTitle:"_A_TABLE_SORT_ADDITIONAL_DROPDOWN_TITLE_{{count}}_",buttonTextScreenReader:"_A_TABLE_SORT_ADDITIONAL_DROPDOWN_TITLE_{{count}}_",buttonTextClass:"a_badge a_bg_primary",disabled:this.disabledSort,dropdownClass:"a_filter_horizontal__wrapper",dropdownRenderDefault:!1,dropdownTag:"div",hasCaret:!1,inBody:!0,extra:{count:this.countModelSort},isCloseByClickInside:!1,lockArrowsNavigation:!1,lockTabNavigation:!1,onOpen:this.initUnappliedModelSort},{dropdown:()=>a("div",{class:"a_filter_horizontal"},[a("div",{class:"a_filter_horizontal__header__wrapper"},[a("div",{class:"a_filter_horizontal__header"},[a("div",{class:"a_filter_horizontal__header__texts"},[a(F,{class:"a_filter_horizontal__header__texts__filter",tag:"span",text:"_A_TABLE_SORT_ADDITIONAL_HEADER_"})])])]),a("div",{class:"a_filter_horizontal__body__wrapper"},[a("div",{class:"a_filter_horizontal__body"},[a(Dl,{idPrefix:this.idPrefix,class:"a_filter_horizontal__body__form",classColumnDefault:"",classColumns:"",data:this.dataForForm,excludeRenderAttributes:this.excludeRenderAttributes,modelValue:this.unappliedModelSort,showErrors:!1,onChange:this.updateUnappliedModelSort},{slotAppend:({item:e})=>{var t,l;return a(X,{type:"button",class:"a_btn a_btn_primary a_ml_2",title:"_A_TABLE_SORT_ADDITIONAL_BTN_DELETE_",textScreenReader:"_A_TABLE_SORT_ADDITIONAL_BTN_DELETE_",disabled:!((l=(t=this.unappliedModelSort)==null?void 0:t[e.additionalProps.index])!=null&&l.sortId),iconLeft:Se,onClick:()=>this.removeUnappliedModelSort({item:e})})}})]),a("div",{class:"a_filter_horizontal__footer"},[a("div",{class:"a_filter_horizontal__footer__actions"},[a(X,{type:"button",class:"a_btn a_btn_primary a_text_nowrap a_filter_horizontal__footer__actions__btn_search",iconLeft:et,text:"_A_TABLE_SORT_ADDITIONAL_START_",disabled:this.disabledSort,onClick:this.changeModelSortInTable}),a(X,{type:"button",class:"a_btn a_btn_secondary a_text_nowrap a_filter_horizontal__footer__actions__btn_close",text:"_A_TABLE_SORT_ADDITIONAL_CLOSE_DROPDOWN_",onClick:this.closeDropdown})])])])])}):null}};function Qi(e,{emit:t}){const l=u(e,"areAllRowsSelected"),s=u(e,"closeMultipleActionsActive"),o=u(e,"multipleActions"),n=u(e,"selectedRows"),d=u(e,"tableActions"),c=P("tableId"),r=P("currentMultipleActions"),f=P("rowsLocalAll"),{closeConfirm:_,openConfirm:m}=Ml(),b=i(()=>`${c.value}_btn_multiple`),p=i(()=>{const w=[];return k(V(d.value),S=>{if(!S.isHidden){if(U(S.callback)){const L=S.callback;S.callback=()=>L({id:S.id,action:S})}w.push(S)}}),w}),v=({action:w,callbackDefault:S})=>{const L=V(w);L.callback=S,t("toggleMultipleActionsActive",{isActive:!0,action:L})},C=()=>{t("toggleMultipleActionsActive",{action:r.value})},I=i(()=>{const w=V(o.value);return k(w,S=>{if(U(S.callback)){const L=S.callback;S.callback=()=>v({action:S,callbackDefault:L})}}),w}),g=async()=>{await r.value.callback({close:s.value,rows:n.value,rowsVisible:f.value,id:b.value,areAllRowsSelected:l.value,action:r.value}),_(),C()};return{buttonMultipleId:b,currentMultipleActions:r,multipleActionsFiltered:I,onCancelMultipleActions:C,onOpenModalMultipleActions:()=>{r.value.isConfirm?m({headerText:"_A_TABLE_EXECUTE_MULTIPLE_ACTION_",bodyHtml:"_A_TABLE_EXECUTE_MULTIPLE_ACTION_BODY_HTML_{{action}}_{{selectedRows}}_",saveButtonText:"_A_TABLE_EXECUTE_MULTIPLE_ACTION_BTN_SAVE_",extra:{action:De({placeholder:r.value.text}),selectedRows:n.value.length},save:g}):r.value.callback({close:s.value,rows:n.value,rowsVisible:f.value,id:b.value,areAllRowsSelected:l.value,action:r.value})},tableActionsFiltered:p}}function Yi(e){const t=u(e,"countAllRows"),{filterFloat:l}=ue();return{countAllRowsFormatted:i(()=>`(${l(t.value,{digits:0})})`)}}function Ji(){const e=P("tableId");return{tableLabelId:i(()=>Ct({tableId:e.value}))}}function Zi(e,{emit:t}){const l=u(e,"areAllRowsSelected"),s=u(e,"areSomeRowsSelected"),o=u(e,"countAllRows"),n=u(e,"isLoadingMultipleActions"),d=u(e,"selectedRows"),c=P("tableId"),{filterFloat:r}=ue(),f=i(()=>gt({tableId:c.value})),_=i(()=>l.value?o.value:d.value.length),m=i(()=>({countSelectedRows:_.value,countSelectedRowsFiltered:r(_.value,{digits:0}),countAllRows:o.value,countAllRowsFiltered:r(o.value,{digits:0})})),b=i(()=>l.value?"_A_TABLE_DESELECT_ALL_ROWS_{{countAllRows}}_{{countAllRowsFiltered}}_":"_A_TABLE_SELECT_ALL_ROWS_{{countAllRows}}_{{countAllRowsFiltered}}_"),p=i(()=>!!(n.value||o.value===0)),v=()=>{p.value||t("toggleBtnAllRows")};return{isBtnMultipleActionDisabled:i(()=>!s.value&&!l.value),isBtnSelectAllRowsDisabled:p,multiplePanelId:f,textMultipleBtnAllRowsTranslate:b,textMultipleSelectedTranslateExtra:m,toggleBtnAllRows:v}}function es(e,{emit:t}){const l=u(e,"useViewSlot"),s=n=>{t("updateViewCurrent",n)},o=i(()=>l.value?"viewSlot":void 0);return{updateViewCurrentLocal:s,viewSlotLocal:o}}const ts={name:"ATableTopPanel",props:{additionalSortingColumns:{type:Array,required:!1,default:()=>[]},areAllRowsSelected:{type:Boolean,required:!0},areSomeRowsSelected:{type:Boolean,required:!0},closeMultipleActionsActive:{type:Function,required:!0},countAllRows:{type:Number,required:!0},disabledActions:{type:Boolean,required:!0},disabledMultipleActions:{type:Boolean,required:!0},disabledSort:{type:Boolean,required:!1},disabledViews:{type:Boolean,required:!0},extra:{type:Object,required:!1,default:void 0},hasViews:{type:Boolean,required:!0},isLabelVisible:{type:Boolean,required:!1},isLoadingMultipleActions:{type:Boolean,required:!1},isQuickSearch:{type:Boolean,required:!1},isSortingMultiColumn:{type:Boolean,required:!1,default:!1},label:{type:[String,Number],required:!1,default:""},labelClass:{type:[String,Object],required:!1,default:void 0},labelTag:{type:String,required:!0},modelQuickSearch:{type:String,required:!0},modelSort:{type:Array,required:!1},modelView:{type:String,required:!1,default:void 0},multipleActions:{type:Array,required:!0},selectedRows:{type:Array,required:!0},showCount:{type:Boolean,required:!1,default:!0},tableActions:{type:Array,required:!0},tableActionsIndexFirstDropdownAction:{type:Number,required:!1,default:-1},tableActionsIndexFirstDropdownActionMobile:{type:Number,required:!1,default:0},useAdditionalSorting:{type:Boolean,required:!1,default:!0},useViewSlot:{type:Boolean,required:!1},viewCurrent:{type:Object,required:!1,default:void 0},views:{type:Array,required:!0}},emits:["toggleBtnAllRows","toggleMultipleActionsActive","updateModelQuickSearch","updateViewCurrent"],inject:["isMultipleActionsActive","rowsLocalAll","tableId"],setup(e,t){const{tableLabelId:l}=Ji(),{filterCurrency:s}=ue(),{buttonMultipleId:o,currentMultipleActions:n,multipleActionsFiltered:d,onCancelMultipleActions:c,onOpenModalMultipleActions:r,tableActionsFiltered:f}=Qi(e,t),{isBtnMultipleActionDisabled:_,isBtnSelectAllRowsDisabled:m,multiplePanelId:b,textMultipleBtnAllRowsTranslate:p,textMultipleSelectedTranslateExtra:v,toggleBtnAllRows:C}=Zi(e,t),{updateViewCurrentLocal:I,viewSlotLocal:g}=es(e,t),{countAllRowsFormatted:A}=Yi(e);return{buttonMultipleId:o,countAllRowsFormatted:A,currentMultipleActions:n,filterCurrency:s,isBtnMultipleActionDisabled:_,isBtnSelectAllRowsDisabled:m,multipleActionsFiltered:d,multiplePanelId:b,onCancelMultipleActions:c,onOpenModalMultipleActions:r,tableActionsFiltered:f,tableLabelId:l,textMultipleBtnAllRowsTranslate:p,textMultipleSelectedTranslateExtra:v,toggleBtnAllRows:C,updateViewCurrentLocal:I,viewSlotLocal:g}},methods:{updateModelQuickSearch(e){this.$emit("updateModelQuickSearch",e)}},render(){var e,t,l,s;return[a("div",{class:"a_table__top_panel"},[this.isLabelVisible?this.$slots.tableLabel?this.$slots.tableLabel({countAllRows:this.countAllRows,tableLabelId:this.tableLabelId}):a(this.labelTag,{class:["a_table__top_panel__label",this.labelClass]},[a(F,{id:this.tableLabelId,tag:"span",class:"a_table__top_panel__label__text",text:this.label,extra:this.extra}),this.showCount?a(X,{class:"a_table__top_panel__label__count",extra:{count:this.countAllRows},tag:"span",text:this.countAllRowsFormatted,textAriaHidden:!0,textScreenReader:"_A_TABLE_ALL_ROWS_{{count}}_",title:"_A_TABLE_ALL_ROWS_{{count}}_",type:"text"}):""]):"",a("div",{class:"a_table__top_panel__actions"},[this.$slots.tableActionsPrepend?this.$slots.tableActionsPrepend({isMultipleActionsActive:this.isMultipleActionsActive,modelView:this.modelView}):"",a(xe,{actions:this.tableActionsFiltered,actionsClasses:[],disabled:this.isMultipleActionsActive||this.disabledActions,indexFirstDropdownAction:this.tableActionsIndexFirstDropdownAction,indexFirstDropdownActionMobile:this.tableActionsIndexFirstDropdownActionMobile,minDropdownActions:0,dropdownAttributes:{buttonClass:"a_btn a_btn_secondary a_table__action",buttonIconLeft:Fe,buttonText:{desktop:"_A_TABLE_ACTIONS_"},hasCaret:!1,inBody:!0,placement:"bottom-end"}}),a(xe,{actions:this.multipleActionsFiltered,actionsClasses:[],disabled:this.isMultipleActionsActive||this.disabledMultipleActions,indexFirstDropdownAction:0,indexFirstDropdownActionMobile:0,minDropdownActions:0,dropdownAttributes:{id:this.buttonMultipleId,buttonClass:"a_btn a_btn_secondary a_table__action",buttonText:{desktop:"_A_TABLE_MULTIPLE_ACTIONS_"},buttonIconLeft:ai,inBody:!0,placement:"bottom-end"}}),this.isQuickSearch?a(nt,{label:"_A_TABLE_QUICK_SEARCH_",class:"a_table__top_panel__actions__quick_search",modelUndefined:"",modelValue:this.modelQuickSearch,iconPrepend:ri,"onUpdate:modelValue":this.updateModelQuickSearch}):"",this.hasViews?a(El,{modelValue:this.modelView,class:"a_d_inline_block",isButtonGroup:!0,disabled:this.disabledViews,slotName:this.viewSlotLocal,data:this.views,keyId:"id",keyLabel:"label",hasBorder:!1,classFieldset:"a_p_0","onUpdate:modelValue":this.updateViewCurrentLocal},{viewSlot:o=>this.$slots.viewSlot&&this.$slots.viewSlot({...o})}):"",this.useAdditionalSorting?a(Ki,{additionalSortingColumns:this.additionalSortingColumns,disabledSort:this.disabledSort,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSort}):"",this.$slots.tableActionsAppend?this.$slots.tableActionsAppend({isMultipleActionsActive:this.isMultipleActionsActive,modelView:this.modelView}):""])]),this.isMultipleActionsActive&&this.currentMultipleActions?a("div",{id:this.multiplePanelId,class:"a_table__multiple_panel"},[a("div",{class:"a_table__multiple_panel__header"},[a(F,{class:"a_table__multiple_panel__header__text",tag:"strong",text:"_A_TABLE_MULTIPLE_ACTIONS_"}),a("div",{class:"a_table__multiple_panel__items"},[a(F,{class:"a_table__multiple_panel__items__selected",tag:"span",text:"_A_TABLE_MULTIPLE_ITEMS_SELECTED_{{countSelectedRows}}_{{countAllRows}}_{{countSelectedRowsFiltered}}_{{countAllRowsFiltered}}_",extra:this.textMultipleSelectedTranslateExtra}),((e=this.currentMultipleActions)==null?void 0:e.isAllRowsSelected)&&a(te,{class:"a_btn a_btn_secondary a_table__multiple_panel__btn_all_rows",type:"button",text:this.textMultipleBtnAllRowsTranslate,extra:this.textMultipleSelectedTranslateExtra,disabled:this.isBtnSelectAllRowsDisabled||this.disabledMultipleActions,loading:this.isLoadingMultipleActions,onClick:this.toggleBtnAllRows})])]),a("div",{class:"a_table__multiple_panel__actions"},[(t=this.currentMultipleActions)!=null&&t.slot&&this.$slots.multipleActionActiveSlot?this.$slots.multipleActionActiveSlot({disabled:this.isBtnMultipleActionDisabled||this.isLoadingMultipleActions||this.disabledMultipleActions,loading:this.isLoadingMultipleActions,text:(l=this.currentMultipleActions)==null?void 0:l.text,action:this.currentMultipleActions,onClick:this.onOpenModalMultipleActions,close:this.closeMultipleActionsActive,rows:this.selectedRows,rowsVisible:this.rowsLocalAll,id:this.buttonMultipleId,areAllRowsSelected:this.areAllRowsSelected}):a(te,{class:"a_btn a_btn_primary a_table__action",type:"button",disabled:this.isBtnMultipleActionDisabled||this.isLoadingMultipleActions||this.disabledMultipleActions,text:(s=this.currentMultipleActions)==null?void 0:s.text,loading:this.isLoadingMultipleActions,loadingAlign:"left",onClick:this.onOpenModalMultipleActions}),a(te,{class:"a_btn a_btn_secondary a_table__action",type:"button",text:"_A_TABLE_MULTIPLE_CANCEL_",onClick:this.onCancelMultipleActions})])]):""]}};function ls(){const e=R(void 0);return{componentRef:e,setFocusToComponent:()=>{var l;(l=e.value)==null||l.focus({preventScroll:!0})}}}const is={name:"ATablePreviewDown",props:{row:{type:Object,required:!0},rowIndex:{type:Number,required:!0}},inject:["onTogglePreview"],setup(){const{componentRef:e,setFocusToComponent:t}=ls();return qe(()=>{t()}),{componentRef:e}},render(){return a("div",{ref:"componentRef",class:"a_table__preview_down",tabindex:-1},[a(F,{class:"a_sr_only",text:"_A_TABLE_PREVIEW_DOWN_ARIA_LABEL_"}),this.$slots.preview&&this.$slots.preview({row:this.row,rowIndex:this.rowIndex}),a(te,{class:"a_btn a_btn_transparent_dark a_table__preview_down__btn_close",iconLeft:Se,iconClass:"a_table__preview_down__btn_close__icon",title:"_A_TABLE_PREVIEW_DOWN_CLOSE_",textScreenReader:"_A_TABLE_PREVIEW_DOWN_CLOSE_",onClick:()=>this.onTogglePreview({row:this.row,rowIndex:this.rowIndex})})])}};function ss(e){const t=u(e,"column"),l=u(e,"disabledPreview"),s=u(e,"isFooter"),o=P("hasPreview"),n=P("isMobile"),{columnsStyles:d}=yt(e);return{attributesForTd:i(()=>{const r={class:["a_table__td a_table__cell",{a_table__cell_click:o.value&&!s.value&&!l.value},t.value.classRowParent],style:d.value};return n.value||(r.role="cell"),r})}}function Lt(e){const t=u(e,"column"),l=u(e,"row"),s=i(()=>!!t.value.to),o=i(()=>{if(Ne(t.value.to))return t.value.to;if(Ce(t.value.to)){const d=V(t.value.to),c=d.params||{},r=d.query||{};if(t.value.to.nameDynamic&&!t.value.to.name){const f=G(l.value,t.value.to.nameDynamic);f&&(d.name=f)}if(t.value.to.paramsDynamic){let f=!1;if(k(t.value.to.paramsDynamic,(_,m)=>{const b=G(l.value,_);if(z(b))return f=!0,!1;c[m]=b}),f)return}if(t.value.to.queryDynamic){let f=!1;if(k(t.value.to.queryDynamic,(_,m)=>{const b=G(l.value,_);if(z(b))return f=!0,!1;r[m]=b}),f)return}return d.params=c,d.query=r,d}});return{classForLink:i(()=>"a_btn a_btn_link a_p_0 a_text_left"),isLink:s,toLocal:o}}function xt(e){const t=u(e,"column"),l=u(e,"isFooter"),s=i(()=>l.value?t.value.footerSlot:t.value.slot);return{hasSlot:i(()=>!!s.value),slotName:s}}function Pt(e){const t=u(e,"column"),l=u(e,"isFooter"),s=u(e,"row"),o=P("columnsDefaultValue"),n=P("valuesForColumnDefault"),d=i(()=>l.value&&"footerDefaultValue"in t.value?t.value.footerDefaultValue:"defaultValue"in t.value?t.value.defaultValue:z(o.value)?"":o.value),c=i(()=>l.value?t.value.footerKeyLabel:t.value.keyLabel),r=i(()=>l.value?t.value.footerKeyLabelSafeHtml:t.value.keyLabelSafeHtml),f=i(()=>l.value?t.value.footerKeyLabelHtml:t.value.keyLabelHtml),_=i(()=>{if(c.value)return G(s.value,c.value)}),m=i(()=>{if(r.value)return G(s.value,r.value)}),b=i(()=>{if(f.value)return G(s.value,f.value)}),p=A=>{let w=!1;return k(n.value,S=>{if(A===S)return w=!0,!1}),w?d.value:A},v=i(()=>p(_.value)),C=i(()=>p(m.value)),I=i(()=>p(b.value));return{textOrHtmlRender:i(()=>{if(c.value)return a("span",null,v.value);if(r.value)return a("div",{innerHTML:C.value});if(f.value)return bt(a("div"),[[ot,I.value]])})}}const it={name:"ATableTd",props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},disabledPreview:{type:Boolean,required:!1},isFooter:{type:Boolean,required:!1},level:{type:Number,required:!0},row:{type:Object,required:!0},rowIndex:{type:Number,required:!0},showIconChildren:{type:Boolean,required:!1}},inject:["isMobile","rowsLocalAll"],setup(e){const{attributesForTd:t}=ss(e),{classForLink:l,isLink:s,toLocal:o}=Lt(e),{hasSlot:n,slotName:d}=xt(e),{textOrHtmlRender:c}=Pt(e);return{attributesForTd:t,classForLink:l,hasSlot:n,isLink:s,slotName:d,textOrHtmlRender:c,toLocal:o}},render(){const e=a("div",this.attributesForTd,[a("div",{class:["a_table__cell__child",this.column.class,this.column.classRow]},[this.showIconChildren?a(X,{"aria-hidden":!0,class:"a_table__row_level__icon",classDefault:"",iconLeft:vt,type:"text"}):"",this.hasSlot&&this.$slots[this.slotName]?this.$slots[this.slotName]({column:this.column,columnIndex:this.columnIndex,level:this.level,row:this.row,rowIndex:this.rowIndex,rows:this.rowsLocalAll}):this.isLink&&this.toLocal?a(Ve("RouterLink"),{class:[this.column.class,this.classForLink,this.column.classRow],to:this.toLocal},()=>[this.textOrHtmlRender]):this.textOrHtmlRender])]);return this.isMobile?[a(F,{text:this.column.label,tag:"dt"}),a("dd",{},[e])]:e}},os={name:"ATableListItem",inject:["rowsLocalAll"],props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},row:{type:Object,required:!0},rowIndex:{type:Number,required:!0},isFooter:{type:Boolean,required:!1}},setup(e){const{classForLink:t,isLink:l,toLocal:s}=Lt(e),{hasSlot:o,slotName:n}=xt(e),{textOrHtmlRender:d}=Pt(e);return{classForLink:t,hasSlot:o,isLink:l,slotName:n,textOrHtmlRender:d,toLocal:s}},render(){return[a(F,{text:this.column.label,tag:"dt"}),a("dd",null,this.hasSlot&&this.$slots[this.slotName]?this.$slots[this.slotName]({column:this.column,columnIndex:this.columnIndex,row:this.row,rowIndex:this.rowIndex,rows:this.rowsLocalAll}):this.isLink&&this.toLocal?[a(Ve("RouterLink"),{class:[this.column.class,this.classForLink,this.column.classRow],to:this.toLocal},()=>[this.textOrHtmlRender])]:[this.textOrHtmlRender])]}};function ns(){const e=P("columnsScrollInvisible"),t=P("modelIsTableWithoutScroll"),l=i(()=>e.value.length),s=i(()=>t.value?l.value>0:!1);return{columnsScrollInvisibleText:i(()=>l.value===1?"_A_TABLE_DROPDOWN_HIDE_FIELD_TEXT_":"_A_TABLE_DROPDOWN_HIDE_FIELDS_TEXT_{{count}}_"),countColumnsScrollInvisible:l,isColumnsScrollInvisibleDropdownVisible:s}}function as(e){const t=u(e,"columnActionsView"),l=u(e,"isFooter"),s=u(e,"row"),o=u(e,"rowIndex"),n=P("columnActionsOnePlusDropdownOptions"),d=P("rowActions"),c=P("tableId"),r=i(()=>`${c.value}_action_${o.value}`),f=i(()=>z(n.value.indexFirstDropdownAction)?1:n.value.indexFirstDropdownAction),_=({rowAction:h})=>{if(h.text)return h.text;if(U(h.textCallback))return h.textCallback({row:s.value,rowIndex:o.value,rowAction:h})},m=({rowAction:h})=>{if(h.html)return h.html;if(U(h.htmlCallback))return h.htmlCallback({row:s.value,rowIndex:o.value,rowAction:h})},b=({rowAction:h})=>{if(h.title)return h.title;if(U(h.titleCallback))return h.titleCallback({row:s.value,rowIndex:o.value,rowAction:h})},p=({rowAction:h})=>h.disabled?h.disabled:U(h.disabledCallback)?h.disabledCallback({row:s.value,rowIndex:o.value,rowAction:h}):!1,v=({rowAction:h})=>h.class?h.class:U(h.classCallback)?h.classCallback({row:s.value,rowIndex:o.value,rowAction:h}):"",C=({rowAction:h})=>{if(h.iconLeft)return h.iconLeft;if(U(h.iconLeftCallback))return h.iconLeftCallback({row:s.value,rowIndex:o.value,rowAction:h})},I=({rowAction:h})=>{if(h.iconRight)return h.iconRight;if(U(h.iconRightCallback))return h.iconRightCallback({row:s.value,rowIndex:o.value,rowAction:h})},g=({rowAction:h})=>{if(Ne(h.to))return h.to;if(Ce(h.to)){const T=V(h.to),y=T.params||{},D=T.query||{};if(h.to.nameDynamic&&!h.to.name){const $=G(s.value,h.to.nameDynamic);$&&(T.name=$)}if(h.to.paramsDynamic){let $=!1;if(k(h.to.paramsDynamic,(j,K)=>{const Q=G(s.value,j);if(z(Q))return $=!0,!1;y[K]=Q}),$)return}if(h.to.queryDynamic){let $=!1;if(k(h.to.queryDynamic,(j,K)=>{const Q=G(s.value,j);if(z(Q))return $=!0,!1;D[K]=Q}),$)return}return T.params=y,T.query=D,T}},A=({rowAction:h})=>h.href?h.href:U(h.hrefCallback)?h.hrefCallback({row:s.value,rowIndex:o.value,rowAction:h}):!1,w=({rowAction:h})=>{if(h.extra)return h.extra;if(U(h.extraCallback))return h.extraCallback({row:s.value,rowIndex:o.value,rowAction:h})},S=({rowAction:h})=>{if(h.textScreenReader)return h.textScreenReader;if(U(h.textScreenReaderCallback))return h.textScreenReaderCallback({row:s.value,rowIndex:o.value,rowAction:h})},L=({rowActionIndexVisible:h})=>{if(t.value==="dropdown")return{id:r.value,ids:[r.value,c.value]};if(h<f.value){const T=`${r.value}_${h}`;return{buttonId:T,id:T,ids:[T,c.value]}}return{id:r.value,ids:[r.value,c.value]}},M=h=>{k(h,(T,y)=>{Wl(y,"Callback")&&(h[y]=void 0)})},O=i(()=>{const h=[];let T=0;return k(V(d.value),y=>{if(St({rowAction:y,row:s.value,rowIndex:o.value})){if(y.type!=="divider"){const D=_({rowAction:y});D&&(y.text=D);const $=m({rowAction:y});$&&(y.html=$);const j=b({rowAction:y});j?y.title=j:D&&(y.title=D);const K=p({rowAction:y});K&&(y.disabled=K);const Q=v({rowAction:y});Q&&(y.class=Q);const E=C({rowAction:y});E&&(y.iconLeft=E);const H=I({rowAction:y});H&&(y.iconRight=H);const q=w({rowAction:y});q&&(y.extra=q);const Y=S({rowAction:y});if(q&&(y.textScreenReader=Y),y.type==="link"){const B=g({rowAction:y});B?y.to=B:y.href=A({rowAction:y})}if(U(y.callback)){const{buttonId:B,id:W,ids:Z}=L({rowActionIndexVisible:T});y.id=B;const de=y.callback;y.callback=()=>de({row:s.value,rowIndex:o.value,id:W,ids:Z,rowAction:y})}M(y),T++}h.push(y)}}),h}),x=i(()=>!l.value&&O.value.length>0);return{buttonActionsId:r,isRowActionsDropdownVisible:x,rowActionsFiltered:O}}function rs(e){const t=u(e,"rowIndex");return{rowNumber:i(()=>t.value+1)}}const us={name:"ATableTdAction",props:{columnActionsBtnGroupMaxWidthStyle:{type:String,required:!1,default:void 0},columnActionsView:{type:String,required:!0},disabledRowActions:{type:Boolean,required:!1},isFooter:{type:Boolean,required:!1},isRowActionsStickyLocal:{type:Boolean,required:!0},row:{type:Object,required:!0},rowActionsClass:{type:[String,Object],required:!1,default:void 0},rowIndex:{type:Number,required:!0}},inject:["columnActionsOnePlusDropdownOptions","columnsScrollInvisible","tableId","useRem"],setup(e){const{isMobileWidth:t}=ge(),{buttonActionsId:l,isRowActionsDropdownVisible:s,rowActionsFiltered:o}=as(e),{columnsScrollInvisibleText:n,countColumnsScrollInvisible:d,isColumnsScrollInvisibleDropdownVisible:c}=ns(),{rowNumber:r}=rs(e),{stylesThTd:f}=Rt();return{buttonActionsId:l,columnsScrollInvisibleText:n,countColumnsScrollInvisible:d,isColumnsScrollInvisibleDropdownVisible:c,isMobileWidth:t,isRowActionsDropdownVisible:s,rowActionsFiltered:o,rowNumber:r,stylesThTd:f}},render(){return a("div",{role:"cell",class:["a_table__td a_table__cell a_table__cell_action",{a_table__cell_action_sticky:this.isRowActionsStickyLocal}],...this.stylesThTd},[a("div",{class:["a_table__cell__child",this.rowActionsClass]},[this.isColumnsScrollInvisibleDropdownVisible&&a(he,{buttonClass:"a_btn a_btn_link a_text_nowrap",buttonIconLeft:ui,buttonIconClass:"a_table__cell_action__additional_icon",buttonTitle:"_A_TABLE_DROPDOWN_HIDE_FIELDS_TITLE_{{count}}_",buttonTextScreenReader:"_A_TABLE_DROPDOWN_HIDE_FIELDS_TITLE_{{count}}_",buttonText:this.columnsScrollInvisibleText,buttonTextClass:"a_table__cell_action__additional_text",buttonTextAriaHidden:!0,extra:{count:this.countColumnsScrollInvisible},dropdownClass:"a_p_0 a_overflow_x_hidden a_table__extra_dropdown",dropdownTag:"div",hasCaret:!1,floatingFlip:{use:!0,fallbackPlacements:["top-end","left"]},inBody:!0,placement:"bottom-end",menuWidth:600,isCloseByClickInside:!1,useRem:this.useRem},{dropdown:()=>[a("dl",{class:"a_list_dl a_list_dl_dt_right"},[this.columnsScrollInvisible.map((e,t)=>a(os,{column:e,columnIndex:t,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter},this.$slots))])]}),this.isRowActionsDropdownVisible||this.$slots.rowActions?a("div",{class:"a_table__cell_action__group"},[this.$slots.rowActions?this.$slots.rowActions({tableId:this.tableId,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter}):"",this.isRowActionsDropdownVisible?this.columnActionsView==="dropdown"||this.isMobileWidth&&this.columnActionsOnePlusDropdownOptions.indexFirstDropdownActionMobile===0?a(he,{id:this.buttonActionsId,actions:this.rowActionsFiltered,buttonClass:"a_btn a_btn_secondary a_table__cell_action__btn",buttonIconLeft:Fe,buttonTextScreenReader:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",buttonTitle:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",disabled:this.disabledRowActions,extra:{rowNumber:this.rowNumber},hasCaret:!1,inBody:!0,placement:"bottom-end",useRem:this.useRem},this.$slots):a(xe,{class:"a_d_inline_block",style:this.columnActionsBtnGroupMaxWidthStyle,actions:this.rowActionsFiltered,dropdownAttributes:{id:this.buttonActionsId,buttonClass:"a_btn a_btn_secondary a_table__cell_action__btn",buttonIconLeft:ft,buttonTextScreenReader:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",buttonTitle:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",extra:{rowNumber:this.rowNumber},hasCaret:!1,inBody:!0,placement:"bottom-end"},disabled:this.disabledRowActions,btnGroupClass:z(this.columnActionsOnePlusDropdownOptions.btnGroupClass)?"a_btn_group a_btn_group_table":this.columnActionsOnePlusDropdownOptions.btnGroupClass,hasDividerBeforeDropdown:this.columnActionsOnePlusDropdownOptions.hasDividerBeforeDropdown||!1,indexFirstDropdownAction:z(this.columnActionsOnePlusDropdownOptions.indexFirstDropdownAction)?1:this.columnActionsOnePlusDropdownOptions.indexFirstDropdownAction,indexFirstDropdownActionMobile:z(this.columnActionsOnePlusDropdownOptions.indexFirstDropdownActionMobile)?1:this.columnActionsOnePlusDropdownOptions.indexFirstDropdownActionMobile,minDropdownActions:z(this.columnActionsOnePlusDropdownOptions.minDropdownActions)?1:this.columnActionsOnePlusDropdownOptions.minDropdownActions,actionsClasses:this.columnActionsOnePlusDropdownOptions.actionsClasses||["a_btn a_btn_primary a_text_truncate"]},this.$slots):""]):""])])}};function ds(e,{hasChildren:t=i(()=>!1),hasPreviewLocal:l=i(()=>!1),rowClassChildren:s=i(()=>{}),rowClassLevelChildren:o=i(()=>{}),rowClassPreview:n=i(()=>{}),toggleChildren:d=()=>{}}){const c=u(e,"disabledPreview"),r=u(e,"disabledPreviewRowCallback"),f=u(e,"isFooter"),_=u(e,"isTreeCollapsible"),m=u(e,"level"),b=u(e,"row"),p=u(e,"rowClass"),v=u(e,"rowIndex"),C=P("isMobile"),I=P("onTogglePreview"),g=P("tableId"),A=i(()=>{const T=f.value?"_footer":"";return`${g.value}${T}_${v.value}`}),w=i(()=>U(p.value)?p.value({level:m.value,row:b.value,rowindex:v.value}):p.value),S=i(()=>["a_table__row a_table__body__row a_table__row_hover",s.value,o.value,n.value,w.value]),L=i(()=>C.value?"listitem":"row"),M=i(()=>U(r.value)?r.value({row:b.value,rowIndex:v.value}):c.value),O=T=>{xi({$event:T,tagsName:["A","BUTTON","INPUT","LABEL"],classStop:"a_table__row"})||(t.value?d():l.value&&I({row:b.value,rowIndex:v.value}))},x=T=>{T.keyCode===ee.enter&&O(T)},h=i(()=>(_.value&&t.value||l.value)&&!M.value?{tabindex:0,onClick:O,onKeydown:x}:{});return{disabledPreviewRow:M,eventsLocal:h,roleLocal:L,rowClassComputed:S,rowHtmlId:A}}function cs(e,{emit:t}){const l=u(e,"areAllRowsSelected"),s=u(e,"row"),o=u(e,"rowIndex"),n=u(e,"selectedRowsIndexes"),d=P("currentMultipleActions"),c=P("isMultipleActionsActive"),r=i(()=>!!n.value[o.value]||l.value),f=i(()=>{if(c.value){if(U(G(d.value,"isHiddenCallback")))return d.value.isHiddenCallback({row:s.value,rowIndex:o.value});if(l.value)return!0}return!1}),_=i(()=>r.value?"_A_TABLE_DESELECT_THIS_ROW_":"_A_TABLE_SELECT_THIS_ROW_");return{isCheckboxDisabled:f,isRowSelected:r,labelCheckbox:_,toggleCheckbox:()=>{f.value||t("setSelectedRowsIndexes",{rowIndex:o.value})}}}function _s(e){const t=u(e,"isTree"),l=u(e,"keyChildren"),s=u(e,"level"),o=u(e,"row"),n=u(e,"rowIndex"),d=u(e,"rowsLength"),c=i(()=>{if(!l.value)return[];const b=G(o.value,l.value);return ae(b)?b:[]}),r=i(()=>c.value.length>0),f=i(()=>s.value+1),_=i(()=>t.value?{"aria-level":s.value,"aria-posinset":n.value+1,"aria-setsize":d.value}:{}),m=i(()=>{if(t.value)return`a_table__row_level a_table__row_level_${s.value}`});return{ariaTreeAttributes:_,children:c,hasChildren:r,levelForChildren:f,rowClassLevelChildren:m}}function hs(e,{hasChildren:t=i(()=>!1)}){const l=u(e,"isOneOfParentsClose"),s=u(e,"isTreeCollapsible"),o=u(e,"isTreeOpened"),n=R(!1),d=i(()=>{if(t.value)return n.value}),c=i(()=>({a_table__row_has_children:t.value,a_table__row_hide:l.value,a_table__row_level_open:t.value&&n.value})),r=i(()=>!!(l.value||!n.value));return{ariaExpanded:d,initIsChildrenOpen:()=>{(!s.value||o.value)&&(n.value=!0)},isOneOfParentsCloseForChildren:r,rowClassChildren:c,toggleChildren:()=>{n.value=!n.value}}}function bs(e){const t=u(e,"allVisibleMobileColumns"),l=u(e,"countVisibleMobileColumns"),s=P("isMobile"),o=R(!1),n=i(()=>t.value.length-l.value),d=i(()=>s.value&&t.value.length>l.value),c=i(()=>n.value===1?"_A_TABLE_MOBILE_TR_PLUS_FIELD_":"_A_TABLE_MOBILE_TR_PLUS_FIELDS_{{count}}_"),r=i(()=>o.value?"_A_TABLE_MOBILE_TR_CLOSE_":c.value);return{countInvisibleMobileColumns:n,isAllColumnsVisibleMobile:o,isBtnToggleAllColumnsVisible:d,textBtnToggleAllColumns:r,toggleAllColumnsVisibleMobile:({$event:_})=>{o.value=!o.value,_.stopPropagation()}}}function fs(e,{hasChildren:t=i(()=>!1)}){const l=u(e,"isFooter"),s=u(e,"rowIndex"),o=P("hasPreview"),n=P("previewRightRowIndex"),d=P("previewRightRowIndexLast"),c=i(()=>!!(!t.value&&o.value&&!l.value)),r=i(()=>s.value===n.value),f=i(()=>!r.value&&s.value===d.value),_=i(()=>De({placeholder:r.value?"_A_TABLE_ROW_PREVIEW_CLOSE_":"_A_TABLE_ROW_PREVIEW_OPEN_"})),m=i(()=>c.value?{"aria-label":_.value}:{}),b=i(()=>{if(c.value)return{a_table__row_preview_open:r.value,a_table__row_preview_was_open:f.value}});return{hasPreviewLocal:c,previewAttributes:m,rowClassPreview:b}}const st={name:"ATableTr",props:{allVisibleMobileColumns:{type:Array,required:!0},areAllRowsSelected:{type:Boolean,required:!0},columnActionsBtnGroupMaxWidthStyle:{type:String,required:!1,default:void 0},columnActionsView:{type:String,required:!0},countVisibleMobileColumns:{type:Number,required:!0},disabledPreview:{type:Boolean,required:!1},disabledPreviewRowCallback:{type:Function,required:!1},disabledRowActions:{type:Boolean,required:!1},isFooter:{type:Boolean,required:!1},isOneOfParentsClose:{type:Boolean,required:!1},isPreviewDownOpen:{type:Boolean,required:!1},isRowActionsStickyLocal:{type:Boolean,required:!0},isTree:{type:Boolean,required:!1},isTreeCollapsible:{type:Boolean,required:!1,default:!0},isTreeOpened:{type:Boolean,required:!1},keyChildren:{type:String,required:!1,default:void 0},keyId:{type:String,required:!1,default:"id"},level:{type:Number,required:!0},row:{type:Object,required:!0},rowActionsClass:{type:[String,Object],required:!1,default:void 0},rowClass:{type:[String,Object,Function],required:!1,default:void 0},rowIndex:{type:Number,required:!0},rowsLength:{type:Number,required:!0},selectedRowsIndexes:{type:Object,required:!0}},emits:["setSelectedRowsIndexes"],setup(e,t){const{ariaTreeAttributes:l,children:s,hasChildren:o,levelForChildren:n,rowClassLevelChildren:d}=_s(e),{ariaExpanded:c,initIsChildrenOpen:r,isOneOfParentsCloseForChildren:f,rowClassChildren:_,toggleChildren:m}=hs(e,{hasChildren:o}),{hasPreviewLocal:b,previewAttributes:p,rowClassPreview:v}=fs(e,{hasChildren:o}),{disabledPreviewRow:C,eventsLocal:I,roleLocal:g,rowClassComputed:A,rowHtmlId:w}=ds(e,{hasChildren:o,hasPreviewLocal:b,rowClassChildren:_,rowClassLevelChildren:d,rowClassPreview:v,toggleChildren:m}),{countInvisibleMobileColumns:S,isAllColumnsVisibleMobile:L,isBtnToggleAllColumnsVisible:M,textBtnToggleAllColumns:O,toggleAllColumnsVisibleMobile:x}=bs(e),{isCheckboxDisabled:h,isRowSelected:T,labelCheckbox:y,toggleCheckbox:D}=cs(e,t);return r(),{ariaExpanded:c,ariaTreeAttributes:l,children:s,countInvisibleMobileColumns:S,disabledPreviewRow:C,eventsLocal:I,hasChildren:o,isAllColumnsVisibleMobile:L,isBtnToggleAllColumnsVisible:M,isCheckboxDisabled:h,isOneOfParentsCloseForChildren:f,isRowSelected:T,labelCheckbox:y,levelForChildren:n,previewAttributes:p,roleLocal:g,rowClassComputed:A,rowHtmlId:w,textBtnToggleAllColumns:O,toggleAllColumnsVisibleMobile:x,toggleCheckbox:D,toggleChildren:m}},inject:["columnsFilteredForRender","isActionColumnVisible","isMultipleActionsActive","isMobile"],render(){let e=[];this.isMobile&&!this.isAllColumnsVisibleMobile?k(this.allVisibleMobileColumns,(s,o)=>{if(o+1>this.countVisibleMobileColumns)return!1;e.push(a(it,{key:s.id,column:s,columnIndex:o,disabledPreview:this.disabledPreviewRow,level:this.level,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter},this.$slots))}):e=this.columnsFilteredForRender.map((s,o)=>a(it,{key:s.id,column:s,columnIndex:o,disabledPreview:this.disabledPreviewRow,level:this.level,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter,showIconChildren:!!(this.isTreeCollapsible&&this.hasChildren&&o===0)},this.$slots));const t=this.isActionColumnVisible&&a(us,{columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,disabledRowActions:this.disabledRowActions,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter,rowActionsClass:this.rowActionsClass,isRowActionsStickyLocal:this.isRowActionsStickyLocal},this.$slots),l=this.isMobile?a("div",{class:"a_table_mobile__dl__wrapper"},[this.$slots.rowMobilePrepend?this.$slots.rowMobilePrepend({row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter}):"",this.isTreeCollapsible&&this.hasChildren?a(X,{"aria-hidden":!0,class:"a_table__row_level__icon",classDefault:"",iconLeft:vt,type:"text"}):"",a("dl",{class:"a_table_mobile__dl"},e),this.$slots.rowMobileAppend?this.$slots.rowMobileAppend({row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter}):""]):e;return[a("div",{id:this.rowHtmlId,role:this.roleLocal,class:this.rowClassComputed,"aria-expanded":this.ariaExpanded,...this.previewAttributes,...this.ariaTreeAttributes,...this.eventsLocal},[this.isMultipleActionsActive&&a("div",{class:"a_table__td a_table__cell a_table__cell_checkbox",style:"width: 50px; min-width: 50px; max-width: 50px;"},[!this.isFooter&&a(Me,{isWidthAuto:!0,modelValue:this.isRowSelected,disabled:this.isCheckboxDisabled,label:this.labelCheckbox,labelClass:"a_sr_only",isLabelTitle:!0,"onUpdate:modelValue":this.toggleCheckbox})]),l,this.isMobile?a("div",{class:"a_table_mobile__actions_parent"},[this.isBtnToggleAllColumnsVisible&&a(X,{class:"a_btn a_btn_link a_table_mobile__columns_btn_toggle",extra:{count:this.countInvisibleMobileColumns},text:this.textBtnToggleAllColumns,type:"button",onClick:this.toggleAllColumnsVisibleMobile}),t]):t]),this.isPreviewDownOpen&&a(is,{row:this.row,rowIndex:this.rowIndex},{preview:s=>this.$slots.preview?this.$slots.preview(s):void 0}),this.hasChildren?this.children.map((s,o)=>a(Ve("ATableTr"),{key:s[this.keyId]||o,allVisibleMobileColumns:this.allVisibleMobileColumns,areAllRowsSelected:this.areAllRowsSelected,columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,countVisibleMobileColumns:this.countVisibleMobileColumns,disabledPreview:this.disabledPreviewRow,disabledRowActions:this.disabledRowActions,isFooter:this.isFooter,isOneOfParentsClose:this.isOneOfParentsCloseForChildren,isPreviewDownOpen:!1,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isTree:this.isTree,isTreeCollapsible:this.isTreeCollapsible,isTreeOpened:this.isTreeOpened,keyChildren:this.keyChildren,keyId:this.keyId,level:this.levelForChildren,row:s,rowActionsClass:this.rowActionsClass,rowClass:this.rowClass,rowIndex:o,rowsLength:this.children.length,selectedRowsIndexes:this.selectedRowsIndexes},{get:n=>[a(Le,{data:n.row,keyLabel:n.column.keyLabel,filter:n.column.filter,filterParameters:n.column.filterParameters,defaultValue:n.column.defaultValue,tag:n.column.filterTag||"div"})],...this.$slots})):""]}};function vs(e,{columnActionsWidthDefaultsRemLocal:t=i(()=>({})),columnActionsWidthMinRemLocal:l=()=>{},columnActionsWidthRemLocal:s=()=>{},isMobile:o=i(()=>!1),rowsLocal:n=R([])}){const d=u(e,"columnActionsView"),c=u(e,"rowActions"),r=i(()=>d.value==="onePlusDropdown"),f=i(()=>{let v=!1;e:for(let C=0;C<n.value.length;C++){const I=n.value[C];for(let g=0;g<c.value.length;g++){const A=c.value[g];if(St({rowAction:A,row:I,rowIndex:C})&&A.type!=="divider"){v=!0;break e}}}return v}),_=i(()=>!c.value.length||!r.value?!1:f.value),m=i(()=>z(s.value)?_.value&&d.value==="onePlusDropdown"?t.value.onePlusDropdown:t.value.default:s.value),b=i(()=>z(l.value)?_.value&&d.value==="onePlusDropdown"?t.value.onePlusDropdownMin:t.value.min:l.value);return{columnActionsBtnGroupMaxWidthStyle:i(()=>{const v=t.value.btnGroupMaxWidth;if(!o.value&&d.value!=="dropdown"&&!z(v))return`max-width: ${v}px`}),columnActionsWidthLocal:m,columnActionsWidthMinLocal:b,isColumnActionWide:_}}function ms(e,{columnsScrollInvisible:t=R([]),indexFirstScrollInvisibleColumn:l=R(void 0),modelColumnsVisibleLocal:s=R({}),modelIsTableWithoutScrollComputed:o=i(()=>!1),columnsOrderedFromSimpleTable:n=i(()=>[])}){const d=u(e,"columns"),c=u(e,"isActionColumnVisible"),r=u(e,"isSimpleTable"),f=u(e,"modelColumnsOrdering"),_=u(e,"multipleActions"),m=i(()=>ke(d.value,"id")),b=i(()=>{const A={true:[],false:[],trueObject:{},falseObject:{},trueColumns:[],falseColumns:[]};return k(V(d.value),w=>{const S=w.id;w.locked?(A.true.push(S),A.trueColumns.push(w),A.trueObject[S]=!0):(A.false.push(S),A.falseColumns.push(w),A.falseObject[S]=!0)}),A}),p=i(()=>{if(r.value&&n.value&&n.value.length)return n.value;if(!f.value.length)return[...b.value.trueColumns,...b.value.falseColumns];const A=[],w=V(m.value);return k(f.value,S=>{w[S]&&A.push(w[S])}),A}),v=i(()=>{const A=[],w={};return k(p.value,(S,L)=>{Di({column:S,columnIndex:L,modelIsTableWithoutScroll:o.value,modelColumnsVisibleLocal:s.value,indexFirstScrollInvisibleColumn:l.value})&&(w[A.length]=L,A.push(S))}),{columns:A,columnsIndexesMapping:w}}),C=i(()=>v.value.columnsIndexesMapping),I=i(()=>v.value.columns),g=i(()=>{let A=I.value.length;return o.value&&(A+=t.value.length),c.value&&A++,_.value.length&&A++,A});return{columnIdsGroupByLocked:b,columnsFilteredForRender:I,columnsFilteredForRenderIndexesMapping:C,columnsOrdered:p,countNotHiddenColumns:g}}function ps(e,{modelSort:t=R([])}){const l=u(e,"columns"),s=u(e,"showFirstSortingSequenceNumber"),o=u(e,"sortingSequenceNumberClass"),n=i(()=>ne(l.value,g=>Pi({column:g}))),d=i(()=>le(n.value,(g,A)=>({...g,_index:g.prio||A}))),c=i(()=>le(d.value,g=>(g.group&&g.group.length&&(g.group=le(g.group,(A,w)=>[A,w].join("%%%"))),g))),r=({groups:g,group:A,level:w,columnsOrderedFromGroups:S,firstLevelGroupObject:L})=>{const M=A?ne(g,h=>Je(h,A[w-1])):g,O=Gl(M,h=>h[w]),x=le(O,h=>{const T={id:h[w].split("%%%")[0]};let y;return w===0?(y=T,y.columnIndexes=[]):y=L,h.length>w+1?T.children=G(r({groups:g,group:h,level:w+1,columnsOrderedFromGroups:S,firstLevelGroupObject:y}),"recursiveGroup"):h.length===w+1&&(T.columns=ne(c.value,D=>Je(D.group,h[w])),y.columnIndexes.push(...le(T.columns,"_index")),S.push(...T.columns)),T});return{columnsOrderedFromGroups:S,recursiveGroup:x}},f=i(()=>le(c.value,g=>G(g,"group",g))),_=i(()=>ne(f.value,g=>ae(g))),m=i(()=>ne(f.value,g=>!ae(g))),b=i(()=>{const g=[];return r({groups:_.value,group:null,level:0,columnsOrderedFromGroups:g})}),p=i(()=>ye([...b.value.columnsOrderedFromGroups,...m.value],"_index")),v=g=>a(Oe,{ref:"th",class:"a_table__cell__child_group",column:g,columnGroupNames:le(g.group,A=>A.split("%%%")[0]),columnIndex:g._index,hasMultipleActions:!1,modelSort:t.value,showFirstSortingSequenceNumber:s.value,sortingSequenceNumberClass:o.value}),C=g=>a("div",{class:"a_table__th_group"},[a("div",{class:"a_table__th_child_group"},[a("div",{class:"a_table__cell_group a_text_center"},[g.id&&a(F,{html:g.id,tag:"span","aria-hidden":!0})]),a("div",{class:"a_table__th_group_container"},g.children?le(g.children,A=>C(A)):le(g.columns,A=>v(A)))])]),I=i(()=>{const g=ye([...b.value.recursiveGroup,...m.value],A=>A.columnIndexes?Ul(A.columnIndexes):A._index);return le(g,A=>A.columnIndexes?C(A):v(A))});return{columnsOrderedFromSimpleTable:p,renderedGroupedColumns:I}}function ws(e,{emit:t},{checkVisibleColumns:l=()=>{},columnIdsGroupByLocked:s=i(()=>({true:[],false:[],trueObject:{},falseObject:{},trueColumns:[],falseColumns:[]})),columnsFilteredForRenderIndexesMapping:o=i(()=>({}))}){const n=u(e,"columns"),d=u(e,"modelColumnsOrdering"),c=({columnIndexDraggable:_,columnIndexOver:m,reset:b,inHeader:p})=>{if(_===m&&!b)return;p&&(_=o.value[_],m=o.value[m]);let v;if(b)v=[...s.value.true,...s.value.false];else{v=V(d.value);const C=v[_];v.splice(_,1),v.splice(m,0,C)}t("changeColumnsOrdering",{columnIndexDraggable:_,columnIndexOver:m,modelColumnsOrdering:v}),setTimeout(()=>{l()})},r=()=>{let _=[],m=!1;if(!d.value.length)_=[...s.value.true,...s.value.false];else{_=[...s.value.true];const b=V(s.value.falseObject);k(d.value,p=>{b[p]&&(_.push(p),delete b[p])}),k(b,(p,v)=>{_.push(v)}),JSON.stringify(d.value)!==JSON.stringify(_)&&(m=!0)}return{shouldFixColumns:m,modelColumnsOrderingLocal:_}},f=()=>{const{shouldFixColumns:_,modelColumnsOrderingLocal:m}=r();_&&t("changeColumnsOrdering",{modelColumnsOrdering:m,shouldFixColumns:_})};return re(n,()=>{f()},{deep:!0}),{changeColumnsOrdering:c,checkColumnsOrdering:r}}function As(e){const t=u(e,"countAllRows"),l=u(e,"data"),s=u(e,"isTree"),o=u(e,"keyChildren"),n=u(e,"keyCountAllRowsInData"),d=i(()=>Ce(l.value)),c=i(()=>ae(l.value)),r=i(()=>J(t.value)?d.value?+G(l.value,n.value):c.value?s.value?Bl({array:l.value,keyChildren:o.value}):l.value.length:0:t.value),f=i(()=>J(t.value)?l.value.length:t.value);return{countAllRowsLocal:r,totalRowsCount:f}}function gs({tableRef:e=R(void 0)}){return{scrollToTable:()=>{var s;if(e.value&&((s=e.value)!=null&&s.getBoundingClientRect)){let n=e.value.getBoundingClientRect().top+window.scrollY-window.innerHeight/2;n<0&&(n=0),document.documentElement.scrollTop=n}},setFocusToTable:()=>{e.value&&(e.value.setAttribute("tabindex","-1"),e.value.focus(),e.value.removeAttribute("tabindex"))}}}function Cs(e,{emit:t},{checkColumnsOrdering:l=()=>{},checkVisibleColumns:s=()=>{},modelColumnsVisibleLocal:o=R({})}){const n=u(e,"modelColumnsVisible"),d=u(e,"columns");return{initTable:()=>{const{shouldFixColumns:r,modelColumnsOrderingLocal:f}=l();let _=!1;_t(n.value)?o.value=V(n.value):(_=!0,o.value=pt(d.value),s()),t("initTable",V({columnsOrdering:{model:f,shouldFix:r},columnsVisible:{model:o.value,shouldFix:_}}))}}}function Ss(e,{emit:t},{closePreviewAll:l=()=>{},scrollToTable:s=()=>{},setFocusToTable:o=()=>{},viewCurrent:n=i(()=>({}))}){const d=u(e,"isTree"),c=u(e,"offsetStart"),r=u(e,"pagination"),f=R(void 0),_=R(void 0),m=()=>{f.value=r.value.limitStart||10,_.value=c.value},b=i(()=>{var g;return d.value?!1:(g=r.value)!=null&&g.use?n.value?n.value.usePagination||!1:!0:!1}),p=i(()=>r.value.position==="top"||r.value.position==="y"),v=i(()=>r.value.position==="bottom"||r.value.position==="y"||!p.value);return{changeLimit:g=>{o(),s(),f.value=g,_.value=c.value,t("changeLimit",{offset:_.value,limit:g}),l()},changeOffset:g=>{let A,w;Ce(g)?(A=g.offset,w=g.reload):(A=g,w=!0),w&&(o(),s()),_.value=A,t("changeOffset",{offset:A,limit:f.value}),w&&l()},initLocalVars:m,limit:f,offset:_,usePaginationBottom:v,usePaginationLocal:b,usePaginationTop:p}}function Is({columnsOrdered:e=R([]),isMobile:t=R(!1),modelColumnsVisibleLocal:l=R({})}){return{allVisibleMobileColumns:i(()=>t.value?ne(e.value,o=>o.isRender!==!1&&l.value[o.id]!==!1):[])}}function Rs(e,{emit:t},{checkVisibleColumns:l=()=>{},isMultipleActionsActive:s=R(void 0),rowsLocalAll:o=i(()=>[]),rowsLocalLength:n=i(()=>0)}){const d=u(e,"id"),c=u(e,"multipleActions"),r=R(void 0),f=R({}),_=R(!1),m=i(()=>c.value.length>0),b=i(()=>U(G(r.value,"isHiddenCallback"))),p=i(()=>ne(o.value,(O,x)=>f.value[x])),v=()=>{f.value={}},C=()=>{s.value=!1,r.value=void 0,_.value=!1,v()},I=()=>{if(window.isScrollDisabled)return;const O=gt({tableId:d.value});ve({selector:`#${O}`})},g=({isActive:O,action:x}={})=>{if(O){s.value=!0,r.value=x,setTimeout(()=>{l(),I()}),t("toggleMultipleActions",{isActive:O,action:x});return}s.value?C():s.value=!0,setTimeout(()=>{l(),I()}),t("toggleMultipleActions",{isActive:O,action:x})},A=i(()=>_t(f.value)),w=i(()=>n.value>0&&n.value===A.value),S=i(()=>A.value>0);return{areAllRowsSelected:_,areAllVisibleRowsSelected:w,areSomeRowsSelected:S,closeMultipleActionsActive:C,currentMultipleActions:r,hasMultipleActions:m,selectedRows:p,selectedRowsIndexes:f,setEmptySelectedRowsIndexes:v,setSelectedRowsIndexes:({rowIndex:O,isAll:x})=>{if(x){if(S.value)v();else{const h={};b.value?Ze(n.value,T=>{r.value.isHiddenCallback({row:o.value[T],rowIndex:T})||(h[T]=!0)}):Ze(n.value,T=>{h[T]=!0}),f.value=h}return}f.value[O]?delete f.value[O]:f.value[O]=!0},toggleBtnAllRows:()=>{_.value=!_.value,_.value&&v()},toggleMultipleActionsActive:g}}function Ts(e,{emit:t},{aTableRef:l=R({}),previewBoxWidthRemLocal:s=i(()=>0),tableGrandparentRef:o=R({})}){const{previewRef:n,removePreviewRef:d}=rt(),c=200,r=50;let f,_=0,m=0,b=0;const p=()=>{var T;if(!((T=l.value)!=null&&T.getBoundingClientRect))return;m=l.value.getBoundingClientRect().left},v=({clientWidth:h})=>{_=h,f=h/100*r,p()},C=({clientWidthLocal:h,clientXTableParent:T,previewBoxWidth:y})=>{if(!l.value)return;const D=h-T-y;l.value.style.width=`${D}px`},I=({clientX:h=0,previewRef:T,previewBoxWidth:y=0})=>{let D=y||_-h;D<c?D=c:D>f&&(D=f),C({clientWidthLocal:_,clientXTableParent:m,previewBoxWidth:D}),T&&(T.style.width=`${D}px`)},g=({previewRef:h})=>{G(h,"style.removeProperty")&&h.style.removeProperty("width"),G(l,"value.style.removeProperty")&&l.value.style.removeProperty("width")},A=({previewRef:h})=>{_=document.documentElement.clientWidth,b=G(o,"value.offsetWidth",0),p(),I({previewRef:h,previewBoxWidth:s.value})},w=({previewRef:h,isOpen:T})=>{T?A({previewRef:h}):g({previewRef:h})},S=({previewRightWidth:h})=>{t("mouseupResizePreviewRight",{previewRightWidth:h})},L=()=>{A({previewRef:n.value})},M=new ResizeObserver(ht(h=>{const T=h[0].contentRect;b!==T.width&&(b=T.width,L())},300)),O=()=>{M.observe(o.value)},x=()=>{M.unobserve(o.value)};return Ie(()=>{d(),x()}),{addEventListenerWindowResize:O,mousedownResizePreviewRight:v,mousemoveResizePreviewRight:I,mouseupResizePreviewRight:S,removeEventListenerWindowResize:x,togglePreviewResize:w}}function ys(e,t,{aTableRef:l=R({}),isMobile:s=R(void 0),previewBoxWidthRemLocal:o=i(()=>0),rowsLocalAll:n=i(()=>[]),tableGrandparentRef:d=R({})}){const{isDropdownGlobalOpen:c}=kl(),{addEventListenerWindowResize:r,mousedownResizePreviewRight:f,mousemoveResizePreviewRight:_,mouseupResizePreviewRight:m,removeEventListenerWindowResize:b,togglePreviewResize:p}=Ts(e,t,{aTableRef:l,previewBoxWidthRemLocal:o,tableGrandparentRef:d}),v=u(e,"keyId"),C=u(e,"preview"),I=u(e,"id"),g=t.emit,A=R({}),w=R(void 0),S=R(void 0),L=i(()=>!!C.value),M=({rowIndex:B})=>{window.isScrollDisabled||setTimeout(()=>{const W=`#${I.value}_${B}`;ve({selector:W})})},O=()=>{window.isScrollDisabled||setTimeout(()=>{const B=`#${At({tableId:I.value})}`;ve({selector:B})})},x=i(()=>C.value==="right"||s.value),h=i(()=>!J(w.value)),T=()=>{M({rowIndex:w.value}),g("togglePreview",{row:n.value[w.value],rowIndex:w.value,typeToggle:"close"}),S.value=w.value,w.value=void 0,b()},y=()=>{g("togglePreview",{row:n.value[w.value],rowIndex:w.value,typeToggle:"close"}),S.value=void 0,w.value=void 0,b()},D=i(()=>C.value==="down"),$=({rowIndex:B,row:W})=>{const Z=Ae({row:W,rowIndex:B,keyId:v.value});delete A.value[Z]},j=()=>{A.value={}},K=()=>{y(),j()},Q=({rowIndex:B,row:W}={})=>{x.value?T():D.value&&$({rowIndex:B,row:W})},E=({rowIndex:B})=>{!s.value&&z(w.value)&&r(),g("togglePreview",{row:n.value[B],rowIndex:B,typeToggle:"open"}),w.value=B,S.value=void 0,O()},H=({rowIndex:B})=>{w.value===B?T():E({rowIndex:B})},q=({rowIndex:B,row:W})=>{const Z=Ae({row:W,rowIndex:B,keyId:v.value});A.value[Z]?delete A.value[Z]:A.value[Z]=!0};return{closePreview:Q,closePreviewAll:K,hasPreview:L,isPreviewRightOpen:h,mousedownResizePreviewRight:f,mousemoveResizePreviewRight:_,mouseupResizePreviewRight:m,onTogglePreview:({row:B,rowIndex:W})=>{if(!c.value){if(x.value){H({rowIndex:W});return}D.value&&q({row:B,rowIndex:W})}},previewDownRowIds:A,previewRightRowIndex:w,previewRightRowIndexLast:S,togglePreviewResize:p}}function Ls(e,{dataSorted:t=i(()=>[]),limit:l=R(0),offset:s=R(0),setEmptySelectedRowsIndexes:o=()=>{},usePaginationLocal:n=i(()=>!1)}){const d=u(e,"clearSelectedRowsOnDataChange"),c=u(e,"pagination"),r=u(e,"rowsCountRenderPerTick"),f=R([]),_=R([]);let m=!0,b=0,p;const v=i(()=>{if(l.value&&!c.value.isOutside&&n.value){const x=s.value,h=x+l.value;return t.value.slice(x,h)}return t.value}),C=i(()=>v.value),I=i(()=>C.value.length),g=i(()=>!!I.value),A=()=>{const x=b*r.value,h=x+r.value;le(v.value.slice(x,h),T=>_.value.push(T)),b++},w=()=>{p=setInterval(()=>{b*r.value>=v.value.length?clearInterval(p):A()})},S=()=>{clearInterval(p)},L=({row:x,rowIndex:h})=>{h>_.value.length-1||(_.value[h]=x)},M=({row:x})=>{_.value.unshift(x)},O=({index:x})=>{_.value.splice(x,1)};return re(v,x=>{Hl(x,f.value)||(f.value=[...x],!m&&d.value&&o(),m=!1,_.value=[],b=0,S(),r.value>0?(A(),w()):_.value=v.value)},{immediate:!0,deep:!0}),{addRow:M,deleteRow:O,hasRows:g,rowsLocal:_,rowsLocalAll:C,rowsLocalLength:I,stopRenderRows:S,updateRow:L}}function xs(e,{emit:t},{columnActionsWidthLocal:l=i(()=>0),columnActionsWidthMinLocal:s=i(()=>0),columnsOrdered:o=i(()=>[]),columnsScrollInvisible:n=R([]),columnWidthDefaultRemLocal:d=i(()=>0),indexFirstScrollInvisibleColumn:c=R(void 0),isMobile:r=R(!1),isMultipleActionsActive:f=R(void 0),modelColumnsVisibleLocal:_=R({}),modelIsTableWithoutScroll:m=R(!1),modelIsTableWithoutScrollComputed:b=i(()=>!1)}){const p=u(e,"isActionColumnVisible"),v=u(e,"isSimpleTable"),C=u(e,"useRem"),{scalePxWithRem:I}=Ee(),g=R(void 0),A=R(0),w=R(void 0);let S=!1;const L=20,M=E=>C.value?I(E):E,O=i(()=>p.value?s.value:0),x=i(()=>{const E=f.value?s.value:0,H=v.value?0:L;return E+H}),h=({sumGrows:E=0,freeSpaceWidth:H=0})=>{E>0?A.value=H/E:A.value=0},T=()=>{if(J(c.value)||o.value.length<c.value)n.value=[];else{const E=[];for(let H=c.value;H<o.value.length;H++){const q=o.value[H];fe({column:q,modelColumnsVisibleLocal:_.value})&&E.push(V(q))}n.value=E}},y=()=>{n.value=[],A.value=0,c.value=1e3,w.value=0},D=()=>{if(r.value||w.value===0){y();return}if(z(w.value))return;const E=w.value-x.value-O.value,H=w.value-x.value-l.value;let q=0,Y=0,B=0,W=!1;if(k(o.value,se=>{if(!fe({column:se,modelColumnsVisibleLocal:_.value})){Y++;return}const oe=+M(se.width)||d.value;if(q+oe>E)return W=!0,!1;q+=oe,Y++,B+=J(se.grow)?1:se.grow}),W&&q>H)for(let se=Y-1;se>=0;se--){Y--;const oe=o.value[Y];if(!fe({column:oe,modelColumnsVisibleLocal:_.value}))continue;const me=+M(oe.width)||d.value;if(q-=me,B-=J(oe.grow)?1:oe.grow,q<=H)break}let Z=0;const de=W?H:E;(b.value||Y===o.value.length)&&(Z=de-q),c.value=Y,h({sumGrows:B,freeSpaceWidth:Z}),T()},$=({entries:E,forceAdjust:H})=>{const q=E[0].contentRect;(H||w.value>q.width+L||w.value<q.width-L)&&(S||(S=!0,w.value=q.width,D(),S=!1))},j=new ResizeObserver(ht(E=>{z(w.value)?$({entries:E,forceAdjust:!0}):$({entries:E})},300)),K=E=>{E?(j.unobserve(g.value),y()):(j.observe(g.value),m.value&&D())},Q=E=>{m.value=E,t("updateModelIsTableWithoutScroll",E),m.value&&D()};return qe(()=>{r.value||j.observe(g.value)}),Ie(()=>{j.unobserve(g.value)}),re(o,()=>{D()}),{aTableRef:g,changeModelIsTableWithoutScroll:Q,checkVisibleColumns:D,columnsVisibleAdditionalSpaceForOneGrow:A,onWatchMobileScrollControl:K}}function Ps(e){const t=u(e,"hasMobile"),l=u(e,"isActionColumnVisible"),s=u(e,"isActionColumnVisible"),o=u(e,"isColumnsDnd"),n=u(e,"isSimpleTable"),d=u(e,"modelIsTableWithoutScrollStart"),c=u(e,"rowActions"),r=R(void 0),f=()=>{r.value=d.value},{isMobileWidth:_}=ge(),m=i(()=>n.value?c.value&&!!c.value.length&&l.value:s.value),b=i(()=>!!(s.value&&!n.value)),p=i(()=>!!(o.value&&!n.value)),v=i(()=>t.value?!!_.value:!1),C=i(()=>n.value?!1:r.value);return{initModelIsTableWithoutScroll:f,isActionColumnVisibleLocal:m,isActionIconVisibleLocal:b,isColumnsDndLocal:p,isMobile:v,modelIsTableWithoutScroll:r,modelIsTableWithoutScrollComputed:C}}function Os(e,{viewCurrent:t=i(()=>({}))}){const l=u(e,"data"),s=u(e,"isSortingOutside"),o=u(e,"modelSort"),n=u(e,"useAdditionalSorting"),d=R([]),c=i(()=>n.value?t.value?t.value.useAdditionalSorting||!1:!0:!1),r=()=>{Ne(o.value)?d.value=[o.value]:ae(o.value)&&(d.value=V(o.value))},f=i(()=>{const m={models:[],directions:[]};return d.value.length&&k(d.value,b=>{let p="asc",v=b;ct(b,"-")&&(p="desc",v=b.slice(1)),m.models.push(v),m.directions.push(p)}),m}),_=i(()=>d.value.length&&!s.value?$l(l.value||[],f.value.models,f.value.directions):l.value||[]);return re(o,()=>{r()}),{dataSorted:_,initModelSort:r,modelSortLocal:d,useAdditionalSortingLocal:c}}function Ds(e,{emit:t},{modelSortLocal:l=R([]),closePreviewAll:s=()=>{}}){const o=u(e,"id"),n=u(e,"isSortingMultiColumn"),d=u(e,"sortingMultiColumnKey"),c=i(()=>`${d.value}Key`),r=b=>n.value&&b[c.value],f=({sortId:b})=>{const p=l.value.indexOf(b);if(p!==-1){l.value.splice(p,1,`-${b}`);return}const v=l.value.indexOf(`-${b}`);if(v!==-1){l.value.splice(v,1);return}l.value.push(b)},_=({sortId:b})=>{if(l.value.indexOf(b)!==-1){l.value=[`-${b}`];return}if(l.value.indexOf(`-${b}`)!==-1){l.value=[];return}l.value=[b]};return{changeModelSort:({sortId:b,$event:p,modelAll:v})=>{v?l.value=v:r(p)?f({sortId:b}):_({sortId:b}),t("changeSorting",{modelSort:V(l.value)}),Te.$emit("changeTableSorting",{modelSort:V(l.value),tableId:o.value}),s()}}}function Ms(e,{isMobile:t=R(void 0),modelIsTableWithoutScrollComputed:l=i(()=>{})}){const s=u(e,"rowActionsSticky");return{isRowActionsStickyLocal:i(()=>!!(!t.value&&s.value&&!l.value))}}function Es(e,{countNotHiddenColumns:t=i(()=>-1),isMobile:l=R(!1)}){const s=u(e,"id"),o=u(e,"isLabelVisible"),n=i(()=>{const r={};return l.value||(r.role="table",r["aria-colcount"]=t.value),r}),d=i(()=>l.value?"list":"rowgroup"),c=i(()=>{if(o.value)return Ct({tableId:s.value})});return{tableChildRole:d,tableLabelId:c,tableRoleAttributes:n}}function Bs(e,{emit:t},{modelColumnsVisibleLocal:l=R({}),checkVisibleColumns:s=()=>{}}){return{changeModelColumnsVisible:n=>{l.value=n,t("update:modelColumnsVisible",V(l.value)),s()}}}function ks(e){const t=u(e,"texts");return{emptyText:i(()=>z(t.value.empty)?"_A_TABLE_EMPTY_TEXT_":t.value.empty)}}function Ns(){const e=R([]),t=R(void 0),l=R(void 0),s=R({}),o=R(void 0),n=R(void 0);return{columnsScrollInvisible:e,indexFirstScrollInvisibleColumn:t,isMultipleActionsActive:l,modelColumnsVisibleLocal:s,tableGrandparentRef:o,tableRef:n}}function Fs(e,{emit:t},{closePreviewAll:l=()=>{}}){const s=u(e,"views"),o=u(e,"modelFilters"),n=u(e,"modelView"),d=i(()=>ke(s.value,"id")),c=i(()=>d.value[n.value]),r=i(()=>s.value.length>1),f=()=>{if(r.value){const b=dt(s.value,["active",!0]);let p=s.value[0].id;b&&(p=b.id),t("updateView",{_modelView:p,view:d.value[p],modelFilters:o.value,init:!0})}},_=b=>{l(),t("updateView",{_modelView:b,view:d.value[b],modelFilters:o.value})},m=i(()=>!c.value||c.value.type==="table");return{hasViews:r,initViewCurrent:f,isViewTableVisible:m,updateViewCurrent:_,viewCurrent:c}}function qs(e){const t=u(e,"columnActionsWidth"),l=u(e,"columnActionsWidthDefaults"),s=u(e,"columnActionsWidthMin"),o=u(e,"columnWidthDefault"),n=u(e,"previewBoxWidth"),d=u(e,"useRem"),{scalePxWithRem:c}=Ee(),r=i(()=>d.value?c(t.value):t.value),f=i(()=>d.value?c(s.value):s.value),_=i(()=>d.value?c(o.value):o.value),m=i(()=>d.value?c(n.value):n.value);return{columnActionsWidthDefaultsRemLocal:i(()=>d.value?{default:c(l.value.default||170),min:c(l.value.min||50),onePlusDropdown:c(l.value.onePlusDropdown||320),onePlusDropdownMin:c(l.value.onePlusDropdownMin||200),btnGroupMaxWidth:c(l.value.btnGroupMaxWidth||180)}:l.value),columnActionsWidthMinRemLocal:f,columnActionsWidthRemLocal:r,columnWidthDefaultRemLocal:_,previewBoxWidthRemLocal:m}}const Gs={name:"ATable",props:{additionalSortingColumns:{type:Array,required:!1,default:()=>[]},clearSelectedRowsOnDataChange:{type:Boolean,required:!1,default:!0},columnActionsOnePlusDropdownOptions:{type:Object,required:!1,default:()=>({actionsClasses:["a_btn a_btn_primary a_text_truncate"],btnGroupClass:"a_btn_group a_btn_group_table",hasDividerBeforeDropdown:!1,indexFirstDropdownAction:1,indexFirstDropdownActionMobile:1,minDropdownActions:1})},columnActionsView:{type:String,required:!1,default:"dropdown",validator:e=>["onePlusDropdown","onePlusDropdownEmptyPlace","dropdown"].indexOf(e)!==-1},columnActionsWidth:{type:Number,required:!1,default:void 0},columnActionsWidthDefaults:{type:Object,required:!1,default:()=>({default:170,min:50,onePlusDropdown:320,onePlusDropdownMin:200,btnGroupMaxWidth:180})},columnActionsWidthMin:{type:Number,required:!1,default:void 0},columns:{type:Array,required:!0},columnsDefaultValue:{type:[String,Number],required:!1,default:""},columnWidthDefault:{type:Number,required:!1,default:250},countAllRows:{type:Number,required:!1,default:void 0},countVisibleMobileColumns:{type:Number,required:!1,default:4,validator:e=>e>0},borderType:{type:String,required:!1,default:()=>at.value.propsDefault.borderType,validator:e=>["bordered","innerBordered"].indexOf(e)!==-1},data:{type:[Array,Object,Promise],required:!1},disabledActions:{type:Boolean,required:!1},disabledMultipleActions:{type:Boolean,required:!1},disabledOptions:{type:Boolean,required:!1},disabledPreview:{type:Boolean,required:!1},disabledPreviewRowCallback:{type:Function,required:!1},disabledRowActions:{type:Boolean,required:!1},disabledSort:{type:Boolean,required:!1},disabledViews:{type:Boolean,required:!1},extra:{type:Object,required:!1,default:void 0},hasMobile:{type:Boolean,required:!1,default:!0},hasScrollClass:{type:Boolean,required:!1,default:!0},id:{type:String,required:!1,default:()=>zl("a_table")},isActionColumnVisible:{type:Boolean,required:!1,default:!1},isActionIconVisible:{type:Boolean,required:!1,default:!0},isColumnsDnd:{type:Boolean,required:!1,default:!1},isLabelVisible:{type:Boolean,required:!1,default:!0},isLoadingMultipleActions:{type:Boolean,required:!1},isLoadingOptions:{type:Boolean,required:!1},isLoadingTable:{type:Boolean,required:!1},isQuickSearch:{type:Boolean,required:!1},isSimpleTable:{type:Boolean,required:!1,default:!1},isSortingMultiColumn:{type:Boolean,required:!1,default:!1},isSortingOutside:{type:Boolean,required:!1},isTree:{type:Boolean,required:!1},isTreeCollapsible:{type:Boolean,required:!1,default:!0},isTreeOpened:{type:Boolean,required:!1},keyCountAllRowsInData:{type:String,required:!1,default:"count"},keyId:{type:String,required:!1,default:void 0},keyChildren:{type:String,required:!1,default:"children"},label:{type:[String,Number],required:!1,default:""},labelClass:{type:[String,Object],required:!1,default:void 0},labelTag:{type:String,required:!1,default:"h2"},modelColumnsOrdering:{type:Array,required:!1,default:()=>[]},modelColumnsVisible:{type:Object,required:!1,default:()=>({})},modelIsTableWithoutScrollStart:{type:Boolean,required:!1,default:!1},modelQuickSearch:{type:String,required:!1,default:""},modelSort:{type:[String,Array],required:!1,default:()=>[]},modelView:{type:[String,Number],required:!1,default:void 0},multipleActions:{type:Array,required:!1,default:()=>[]},offsetStart:{type:Number,required:!1,default:0},pagination:{type:Object,required:!1,default:()=>({use:!1,maxPages:5,limitsPerPage:[],limitStart:10,disabled:!1,isOutside:!1,outside:!1,position:"bottom",modes:{desktop:{pagination:{mode:"normal",position:0},perPage:{mode:"inline",position:1}},mobile:{pagination:{mode:"loadMore"}}}})},preview:{type:String,required:!1,default:void 0,validator:e=>["right","down"].indexOf(e)!==-1},previewBoxWidth:{type:Number,required:!1,default:300},previewStyles:{type:[String,Object],required:!1,default:void 0},rowActions:{type:Array,required:!1,default:()=>[]},rowActionsClass:{type:[String,Object],required:!1,default:void 0},rowActionsSticky:{type:Boolean,required:!1,default:!0},rowClass:{type:[String,Object,Function],required:!1,default:void 0},rowsCountRenderPerTick:{type:Number,required:!1,default:25,validator:e=>Be(e)&&e>=0},rowsFooter:{type:Array,required:!1,default:()=>[]},showCount:{type:Boolean,required:!1,default:!0},showFirstSortingSequenceNumber:{type:Boolean,required:!1,default:!1},sortingMultiColumnKey:{type:String,required:!1,default:"shift",validator:e=>["shift","ctrl","alt"].indexOf(e)!==-1},sortingSequenceNumberClass:{type:[String,Object],required:!1,default:"a_badge"},tableActions:{type:Array,required:!1,default:()=>[]},tableActionsIndexFirstDropdownAction:{type:Number,required:!1,default:-1},tableActionsIndexFirstDropdownActionMobile:{type:Number,required:!1,default:0},texts:{type:Object,required:!1,default:()=>({empty:"_A_TABLE_EMPTY_TEXT_"})},useAdditionalSorting:{type:Boolean,required:!1,default:!0},useViewSlot:{type:Boolean,required:!1},useRem:{type:Boolean,required:!1,default:!0},valuesForColumnDefault:{type:Array,required:!1,default:()=>[null,void 0,""]},views:{type:Array,required:!1,default:()=>[]}},emits:["changeColumnsOrdering","changeColumnsVisible","changeLimit","changeOffset","changeSorting","mouseupResizePreviewRight","initTable","togglePreview","toggleMultipleActions","update:modelColumnsOrder","update:modelColumnsVisible","update:modelQuickSearch","updateModelIsTableWithoutScroll","updateView"],provide(){return{changeModelColumnsVisible:this.changeModelColumnsVisible,columnActionsOnePlusDropdownOptions:i(()=>this.columnActionsOnePlusDropdownOptions),columns:i(()=>this.columns),columnsDefaultValue:i(()=>this.columnsDefaultValue),isLoadingOptions:i(()=>this.isLoadingOptions),isLoadingTable:i(()=>this.isLoadingTable),keyId:i(()=>this.keyId),rowActions:i(()=>this.rowActions),tableId:i(()=>this.id),valuesForColumnDefault:i(()=>this.valuesForColumnDefault),useRem:i(()=>this.useRem)}},setup(e,t){const{columnActionsWidthDefaultsRemLocal:l,columnActionsWidthMinRemLocal:s,columnActionsWidthRemLocal:o,columnWidthDefaultRemLocal:n,previewBoxWidthRemLocal:d}=qs(e),{initModelIsTableWithoutScroll:c,isActionColumnVisibleLocal:r,isActionIconVisibleLocal:f,isColumnsDndLocal:_,isMobile:m,modelIsTableWithoutScroll:b,modelIsTableWithoutScrollComputed:p}=Ps(e),{countAllRowsLocal:v,totalRowsCount:C}=As(e),{columnsScrollInvisible:I,indexFirstScrollInvisibleColumn:g,isMultipleActionsActive:A,modelColumnsVisibleLocal:w,tableGrandparentRef:S,tableRef:L}=Ns(),{scrollToTable:M,setFocusToTable:O}=gs({tableRef:L}),{hasViews:x,initViewCurrent:h,isViewTableVisible:T,updateViewCurrent:y,viewCurrent:D}=Fs(e,t,{closePreviewAll:be}),{dataSorted:$,initModelSort:j,modelSortLocal:K,useAdditionalSortingLocal:Q}=Os(e,{viewCurrent:D}),{columnsOrderedFromSimpleTable:E,renderedGroupedColumns:H}=ps(e,{modelSort:K}),{columnIdsGroupByLocked:q,columnsFilteredForRender:Y,columnsFilteredForRenderIndexesMapping:B,columnsOrdered:W,countNotHiddenColumns:Z}=ms(e,{columnsScrollInvisible:I,indexFirstScrollInvisibleColumn:g,modelColumnsVisibleLocal:w,modelIsTableWithoutScrollComputed:p,columnsOrderedFromSimpleTable:E}),{changeLimit:de,changeOffset:se,initLocalVars:oe,limit:me,offset:We,usePaginationBottom:Ot,usePaginationLocal:Ue,usePaginationTop:Dt}=Ss(e,t,{closePreviewAll:be,scrollToTable:M,setFocusToTable:O,viewCurrent:D}),{addRow:Mt,deleteRow:Et,hasRows:Bt,rowsLocal:Ge,rowsLocalAll:pe,rowsLocalLength:He,stopRenderRows:kt,updateRow:Nt}=Ls(e,{dataSorted:$,limit:me,offset:We,setEmptySelectedRowsIndexes:Qe,usePaginationLocal:Ue}),{columnActionsBtnGroupMaxWidthStyle:Ft,columnActionsWidthLocal:$e,columnActionsWidthMinLocal:ze,isColumnActionWide:qt}=vs(e,{columnActionsWidthDefaultsRemLocal:l,columnActionsWidthMinRemLocal:s,columnActionsWidthRemLocal:o,isMobile:m,rowsLocal:Ge}),{aTableRef:je,changeModelIsTableWithoutScroll:Vt,checkVisibleColumns:ce,columnsVisibleAdditionalSpaceForOneGrow:Wt,onWatchMobileScrollControl:Ut}=xs(e,t,{columnActionsWidthLocal:$e,columnActionsWidthMinLocal:ze,columnsOrdered:W,columnsScrollInvisible:I,columnWidthDefaultRemLocal:n,indexFirstScrollInvisibleColumn:g,isMobile:m,isMultipleActionsActive:A,modelColumnsVisibleLocal:w,modelIsTableWithoutScroll:b,modelIsTableWithoutScrollComputed:p}),{changeColumnsOrdering:Gt,checkColumnsOrdering:Ht}=ws(e,t,{checkVisibleColumns:ce,columnIdsGroupByLocked:q,columnsFilteredForRenderIndexesMapping:B}),{isRowActionsStickyLocal:$t}=Ms(e,{isMobile:m,modelIsTableWithoutScrollComputed:p}),{areAllRowsSelected:zt,areAllVisibleRowsSelected:jt,areSomeRowsSelected:Xt,closeMultipleActionsActive:Kt,currentMultipleActions:Qt,hasMultipleActions:Yt,selectedRows:Jt,selectedRowsIndexes:Zt,setEmptySelectedRowsIndexes:el,setSelectedRowsIndexes:tl,toggleBtnAllRows:ll,toggleMultipleActionsActive:il}=Rs(e,t,{checkVisibleColumns:ce,isMultipleActionsActive:A,rowsLocalAll:pe,rowsLocalLength:He}),{changeModelColumnsVisible:sl}=Bs(e,t,{modelColumnsVisibleLocal:w,checkVisibleColumns:ce}),{closePreview:ol,closePreviewAll:nl,hasPreview:al,isPreviewRightOpen:rl,onTogglePreview:Xe,mousedownResizePreviewRight:ul,mousemoveResizePreviewRight:dl,mouseupResizePreviewRight:cl,previewDownRowIds:_l,previewRightRowIndex:Ke,previewRightRowIndexLast:hl,togglePreviewResize:bl}=ys(e,t,{aTableRef:je,isMobile:m,previewBoxWidthRemLocal:d,rowsLocalAll:pe,tableGrandparentRef:S}),{tableChildRole:fl,tableLabelId:vl,tableRoleAttributes:ml}=Es(e,{countNotHiddenColumns:Z,isMobile:m}),{allVisibleMobileColumns:pl}=Is({columnsOrdered:W,isMobile:m,modelColumnsVisibleLocal:w}),{changeModelSort:wl}=Ds(e,t,{modelSortLocal:K,closePreviewAll:be}),{initTable:Al}=Cs(e,t,{checkColumnsOrdering:Ht,checkVisibleColumns:ce,modelColumnsVisibleLocal:w}),{emptyText:gl}=ks(e);function be(){nl()}function Qe(){el()}return re(m,Re=>{Ut(Re),be()}),re(qt,(Re,Cl)=>{Re!==Cl&&ce()}),N("changeModelIsTableWithoutScroll",Vt),N("changeModelSort",wl),N("columnsOrdered",W),N("columnsFilteredForRender",Y),N("columnsScrollInvisible",I),N("columnWidthDefault",n),N("columnsVisibleAdditionalSpaceForOneGrow",Wt),N("columnActionsWidthLocal",$e),N("columnActionsWidthMinLocal",ze),N("currentMultipleActions",Qt),N("hasPreview",al),N("indexFirstScrollInvisibleColumn",g),N("isActionColumnVisible",r),N("isActionIconVisible",f),N("isColumnsDnd",_),N("isMobile",m),N("isMultipleActionsActive",A),N("modelIsTableWithoutScroll",p),N("onTogglePreview",Xe),N("previewRightRowIndex",Ke),N("previewRightRowIndexLast",hl),N("rowsLocalAll",pe),N("modelColumnsVisibleLocal",w),N("changeColumnsOrdering",Gt),oe(),c(),h(),Al(),j(),{addRow:Mt,allVisibleMobileColumns:pl,areAllRowsSelected:zt,areAllVisibleRowsSelected:jt,areSomeRowsSelected:Xt,aTableRef:je,changeLimit:de,changeModelColumnsVisible:sl,changeOffset:se,checkVisibleColumns:ce,closeMultipleActionsActive:Kt,closePreview:ol,closePreviewAll:be,columnActionsBtnGroupMaxWidthStyle:Ft,columnsFilteredForRender:Y,columnsOrdered:W,countAllRowsLocal:v,deleteRow:Et,emptyText:gl,hasMultipleActions:Yt,hasRows:Bt,hasViews:x,isMobile:m,isMultipleActionsActive:A,isPreviewRightOpen:rl,isRowActionsStickyLocal:$t,isViewTableVisible:T,limit:me,modelColumnsVisibleLocal:w,modelIsTableWithoutScrollComputed:p,modelSortLocal:K,mousedownResizePreviewRight:ul,mousemoveResizePreviewRight:dl,mouseupResizePreviewRight:cl,offset:We,onTogglePreview:Xe,previewDownRowIds:_l,previewRightRowIndex:Ke,renderedGroupedColumns:H,rowsLocal:Ge,rowsLocalAll:pe,rowsLocalLength:He,selectedRows:Jt,selectedRowsIndexes:Zt,setEmptySelectedRowsIndexes:Qe,setSelectedRowsIndexes:tl,stopRenderRows:kt,tableChildRole:fl,tableGrandparentRef:S,tableLabelId:vl,tableRef:L,tableRoleAttributes:ml,toggleBtnAllRows:ll,toggleMultipleActionsActive:il,togglePreviewResize:bl,totalRowsCount:C,updateRow:Nt,updateViewCurrent:y,useAdditionalSortingLocal:Q,usePaginationBottom:Ot,usePaginationLocal:Ue,usePaginationTop:Dt,viewCurrent:D}},data(){return{resolved:void 0,error:void 0}},computed:{hasRowsFooter(){return this.rowsFooter.length>0}},methods:{updateModelQuickSearch(e){this.$emit("update:modelQuickSearch",e)}},render(){return a("div",{ref:"tableGrandparentRef",class:["a_table__grandparent",{a_table_mobile:this.isMobile,a_table__grandparent_without_scroll:!this.hasScrollClass}]},[this.$slots.tablePrepend&&this.$slots.tablePrepend({id:this.id}),a("div",{ref:"aTableRef",class:["a_table__parent",{a_table__parent_scrollable:this.hasScrollClass&&!this.modelIsTableWithoutScrollComputed}]},[a(ts,{additionalSortingColumns:this.additionalSortingColumns,areAllRowsSelected:this.areAllRowsSelected,areSomeRowsSelected:this.areSomeRowsSelected,closeMultipleActionsActive:this.closeMultipleActionsActive,countAllRows:this.countAllRowsLocal,disabledActions:this.disabledActions,disabledMultipleActions:this.disabledMultipleActions,disabledSort:this.disabledSort,disabledViews:this.disabledViews,extra:this.extra,hasViews:this.hasViews,isLabelVisible:this.isLabelVisible,isLoadingMultipleActions:this.isLoadingMultipleActions,isQuickSearch:this.isQuickSearch,isSortingMultiColumn:this.isSortingMultiColumn,label:this.label,labelClass:this.labelClass,labelTag:this.labelTag,modelQuickSearch:this.modelQuickSearch,modelSort:this.modelSortLocal,modelView:this.modelView,multipleActions:this.multipleActions,selectedRows:this.selectedRows,showCount:this.showCount,tableActions:this.tableActions,tableActionsIndexFirstDropdownAction:this.tableActionsIndexFirstDropdownAction,tableActionsIndexFirstDropdownActionMobile:this.tableActionsIndexFirstDropdownActionMobile,useAdditionalSorting:this.useAdditionalSortingLocal,useViewSlot:this.useViewSlot,viewCurrent:this.viewCurrent,views:this.views,onUpdateViewCurrent:this.updateViewCurrent,onUpdateModelQuickSearch:this.updateModelQuickSearch,onToggleMultipleActionsActive:this.toggleMultipleActionsActive,onToggleBtnAllRows:this.toggleBtnAllRows},this.$slots),this.$slots.topPanelAppend?this.$slots.topPanelAppend():"",this.usePaginationLocal&&this.usePaginationTop?a(tt,{class:"a_table__pagination_top",countAllRows:this.countAllRowsLocal,disabled:this.pagination.disabled,hasRows:this.hasRows,limit:this.limit,limitsPerPage:this.pagination.limitsPerPage,maxPages:this.pagination.maxPages,offset:this.offset,rowsLength:this.rowsLocalLength,totalRowsCount:this.totalRowsCount,"onUpdate:limit":this.changeLimit,"onUpdate:offset":this.changeOffset}):"",this.isViewTableVisible&&a("div",{ref:"tableRef","aria-labelledby":this.isLabelVisible?this.tableLabelId:void 0,class:["a_table",{a_table_simple:this.isSimpleTable,a_table_bordered:this.borderType==="bordered",a_table_inner_bordered:this.borderType==="innerBordered"}],...this.tableRoleAttributes},[this.isSimpleTable?a(Ei,{areAllRowsSelected:this.areAllRowsSelected,areAllVisibleRowsSelected:this.areAllVisibleRowsSelected,areSomeRowsSelected:this.areSomeRowsSelected,disabledOptions:this.disabledOptions,disabledSort:this.disabledSort,hasMultipleActions:this.hasMultipleActions,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSortLocal,rowsLocalLength:this.rowsLocalLength,showFirstSortingSequenceNumber:this.showFirstSortingSequenceNumber,sortingSequenceNumberClass:this.sortingSequenceNumberClass,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes,columnsForRender:this.renderedGroupedColumns}):a(Fi,{areAllRowsSelected:this.areAllRowsSelected,areAllVisibleRowsSelected:this.areAllVisibleRowsSelected,areSomeRowsSelected:this.areSomeRowsSelected,disabledOptions:this.disabledOptions,disabledSort:this.disabledSort,hasMultipleActions:this.hasMultipleActions,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSortLocal,rowsLocalLength:this.rowsLocalLength,showFirstSortingSequenceNumber:this.showFirstSortingSequenceNumber,sortingSequenceNumberClass:this.sortingSequenceNumberClass,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes}),a("div",{class:"a_table__loading"},[a(Nl,{isLoading:this.isLoadingTable},()=>[a("div",{class:"a_table__body",role:this.tableChildRole},{default:()=>this.rowsLocal.map((e,t)=>{const l=Ae({row:e,rowIndex:t,keyId:this.keyId});return a(st,{key:l,allVisibleMobileColumns:this.allVisibleMobileColumns,areAllRowsSelected:this.areAllRowsSelected,columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,countVisibleMobileColumns:this.countVisibleMobileColumns,disabledPreview:this.disabledPreview,disabledPreviewRowCallback:this.disabledPreviewRowCallback,disabledRowActions:this.disabledRowActions,isFooter:!1,isPreviewDownOpen:this.previewDownRowIds[l],isRowActionsStickyLocal:this.isRowActionsStickyLocal,isTree:this.isTree,isTreeCollapsible:this.isTreeCollapsible,isTreeOpened:this.isTreeOpened,keyChildren:this.keyChildren,keyId:this.keyId,level:1,row:e,rowActionsClass:this.rowActionsClass,rowClass:this.rowClass,rowIndex:t,rowsLength:this.rowsLocal.length,selectedRowsIndexes:this.selectedRowsIndexes,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes},{get:s=>[a(Le,{data:s.row,keyLabel:s.column.keyLabel,filter:s.column.filter,filterParameters:s.column.filterParameters,defaultValue:s.column.defaultValue,tag:s.column.filterTag||"div"})],...this.$slots})})}),this.isViewTableVisible&&!this.hasRows&&a(F,{class:"a_table__empty_text",text:this.emptyText}),this.hasRowsFooter&&a("div",{class:"a_table__footer",role:this.tableChildRole},this.rowsFooter.map((e,t)=>{const l=Ae({row:e,rowIndex:t,keyId:this.keyId});return a(st,{key:l,allVisibleMobileColumns:this.allVisibleMobileColumns,areAllRowsSelected:this.areAllRowsSelected,columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,countVisibleMobileColumns:this.countVisibleMobileColumns,disabledPreview:this.disabledPreview,disabledPreviewRowCallback:this.disabledPreviewRowCallback,disabledRowActions:this.disabledRowActions,isFooter:!0,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isTree:this.isTree,isTreeCollapsible:this.isTreeCollapsible,isTreeOpened:this.isTreeOpened,keyChildren:this.keyChildren,keyId:this.keyId,level:1,row:e,rowActionsClass:this.rowActionsClass,rowClass:this.rowClass,rowIndex:t,rowsLength:this.rowsFooter.length,selectedRowsIndexes:this.selectedRowsIndexes,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes},{get:s=>[a(Le,{data:s.row,keyLabel:s.column.footerPath,filter:s.column.footerFilter,filterParameters:s.column.footerFilterParameters,defaultValue:s.column.footerDefaultValue})],...this.$slots})}))])])]),!this.isViewTableVisible&&this.viewCurrent&&this.$slots[this.viewCurrent.type]&&this.$slots[this.viewCurrent.type]({isLoading:this.isLoadingTable,rows:this.rowsLocalAll}),this.usePaginationLocal&&this.usePaginationBottom?a(tt,{class:"a_table__pagination_bottom",countAllRows:this.countAllRowsLocal,disabled:this.pagination.disabled,hasRows:this.hasRows,limit:this.limit,limitsPerPage:this.pagination.limitsPerPage,maxPages:this.pagination.maxPages,offset:this.offset,rowsLength:this.rowsLocalLength,totalRowsCount:this.totalRowsCount,"onUpdate:limit":this.changeLimit,"onUpdate:offset":this.changeOffset}):"",this.isPreviewRightOpen?a(Gi,{countAllRows:this.countAllRowsLocal,isMobile:this.isMobile,isLoadingTable:this.isLoadingTable,limitPagination:this.limit,offsetPagination:this.offset,previewStyles:this.previewStyles,rowIndex:this.previewRightRowIndex,rows:this.rowsLocalAll,disabledPreviewRowCallback:this.disabledPreviewRowCallback,usePagination:!!this.usePaginationLocal,onClosePreview:this.closePreview,onMousedownResizePreviewRight:this.mousedownResizePreviewRight,onMousemoveResizePreviewRight:this.mousemoveResizePreviewRight,onMouseupResizePreviewRight:this.mouseupResizePreviewRight,onTogglePreview:this.onTogglePreview,onTogglePreviewResize:this.togglePreviewResize,"onUpdate:offset":this.changeOffset},this.$slots):""])])}};export{Gs as A,xe as a};
