import{h as ae,i as ie,j as K}from"./chunk.AForm.D7gs2-jc.js";import{W as H,S as re,V as se,U as ne,F as de,E as w,at as oe,X as ue,au as k,av as N,g as q,T as ce,l as x,A as P,c as fe,b as G,aw as T,ax as _e,i as pe,k as j,h as he,j as ve,m as $,a as Fe,$ as ye,ay as W}from"./bundle.index.D9gcatRx.js";import{t as o,a as c,h as u,b as U,m as X,bn as be,u as Y,r as I,bo as Se,bj as Ae,bp as me,b3 as Te,bh as Ie,bq as Ee,S as Le,T as Re}from"./chunk.vendor.Ca3-nzbX.js";import{h as Me,m as R,c as V,a as ge,k as Z,n as O,g as Ce,f as L,u as J,d as z,a4 as De,a2 as xe,j as Be}from"./chunk.vendor-lodash.-viuv_rg.js";function qe(){return{componentTypesMapping:{...ae,...ie}}}function Ve(e){const t=o(e,"filter");return{isContainer:c(()=>!!H.value[t.value.type])}}function Pe(e){const t=o(e,"filter");return{filterSpecificAttributes:c(()=>{const a={},r=re[t.value.type],i=se[t.value.type];return r&&Me(t.value.inputWidth)&&(a.inputWidth="auto"),i&&(a.inputWidth="inherit",a.inputAttributes={style:"min-width: 181px"}),a})}}function Oe(e){const t=o(e,"id");return{idPrefix:c(()=>`${t.value}_`)}}function He(e,{isContainer:t=c(()=>!1)}){const l=o(e,"filter"),a=o(e,"onUpdateModelFilters"),r=o(e,"unappliedModel");return{onUpdateModelFiltersLocal:s=>{if(t.value)a.value({model:s});else{const d=R(r.value);d[l.value.id]=R(s),a.value({model:d})}}}}function we(e){const t=o(e,"filter"),l=o(e,"updateDataKeyByIdFromFilter"),a=["select","multiselect","radio","checkbox","group","fieldset"],r=({dataKeyByKeyId:s,item:d})=>{let f=t.value.id;d&&(f=d.id),l.value({filterId:f,dataKeyByKeyId:s})};return{emitForComponentsWithData:c(()=>{const s={};return a.indexOf(t.value.type)!==-1&&(s.onUpdateData=r),s})}}const Ue={name:"AFiltersHorizontalFilterUi",props:{excludeRenderAttributes:{type:Array,required:!1,default:()=>[]},filter:{type:Object,required:!1,default:void 0},id:{type:String,required:!0},isLabelVisible:{type:Boolean,required:!0},onUpdateModelFilters:{type:Function,required:!0},unappliedModel:{type:Object,required:!0},updateDataKeyByIdFromFilter:{type:Function,required:!0}},setup(e){const{attributesToExcludeFromRender:t}=ne(e),{isContainer:l}=Ve(e),{onUpdateModelFiltersLocal:a}=He(e,{isContainer:l}),{emitForComponentsWithData:r}=we(e),{idPrefix:i}=Oe(e),{componentTypesMapping:s}=qe(),{filterSpecificAttributes:d}=Pe(e);return{attributesToExcludeFromRender:t,componentTypesMapping:s,emitForComponentsWithData:r,filterSpecificAttributes:d,idPrefix:i,isContainer:l,onUpdateModelFiltersLocal:a}},render(){return u(this.componentTypesMapping[this.filter.type],{idPrefix:this.idPrefix,modelValue:this.isContainer?this.unappliedModel:this.unappliedModel[this.filter.id],"onUpdate:modelValue":this.onUpdateModelFiltersLocal,excludeRenderAttributes:this.excludeRenderAttributes,...this.filter,...this.filterSpecificAttributes,label:this.isLabelVisible?this.filter.label:void 0,...this.emitForComponentsWithData,...this.attributesToExcludeFromRender},this.$slots)}};function Ke(e){const t=o(e,"id");return{idFilterRight:c(()=>`${t.value}_filter_right`)}}const Ne={name:"AFilersRight",props:{appliedModel:{type:Object,required:!0},disabled:{type:Boolean,required:!1},excludeRenderAttributes:{type:Array,required:!1,default:()=>[]},filters:{type:Array,required:!1,default:()=>[]},filtersKeyById:{type:Object,required:!0},id:{type:String,required:!0},onUpdateModelFilters:{type:Function,required:!0},updateDataKeyByIdFromFilter:{type:Function,required:!0}},emits:["startSearch"],setup(e){const{idFilterRight:t}=Ke(e);return{idFilterRight:t}},render(){return u("div",{id:this.idFilterRight,class:"a_filters_right"},[u("form",{},[this.filters.map(e=>u(Ue,{id:this.id,class:"a_filters_right__filter_ui",excludeRenderAttributes:this.excludeRenderAttributes,filter:e,isLabelVisible:!0,onUpdateModelFilters:this.onUpdateModelFilters,unappliedModel:this.appliedModel,updateDataKeyByIdFromFilter:this.updateDataKeyByIdFromFilter},this.$slots))])])}};function ke(e){const t=o(e,"closeFilterValue"),l=o(e,"disabled"),a=o(e,"filter");return{closeCurrentFilterValue:({modelValue:i})=>{l.value||t.value({filter:a.value,modelArray:i.modelArray,keyId:i.keyId})}}}function $e(e,{emit:t},{modelValuesForCurrentFilter:l=c(()=>[])}){const a=o(e,"filter"),r=c(()=>l.value.length>0);return{isLeastOneFilterVisible:r,updateVisibleChildFilters:({destroy:s}={})=>{t("updateVisibleChildFilters",{id:a.value.id,isVisible:s?!1:r.value})}}}function ze(e){const t=o(e,"filter"),l=o(e,"id"),a=c(()=>`eventATableFilterTopOnOpen_${l.value}`);return{goToFilter:({modelValue:i}={})=>{let s=de({id:t.value.id,idPrefix:`${l.value}_filter_top`,htmlId:t.value.htmlId});i.idSuffix&&(s+=i.idSuffix),t.value.main||w.$emit(a.value,s)}}}function Ge({filter:e,currentModel:t}){return!(!e||e.hideFilterCenter||V(t)||t===""||ge(t)&&!t.length)}function je(e){const t=o(e,"filter"),l=o(e,"model");return{hasCurrentFilter:c(()=>Ge({filter:t.value,currentModel:l.value}))}}function We(e,{emit:t},{hasCurrentFilter:l=c(()=>!1)}){const a=o(e,"dataKeyByKeyIdPerFilter"),r=o(e,"filter"),i=c(()=>l.value&&oe.value[r.value.type]?Z(a.value[r.value.id]):!1);return{isFilterLoading:i,updateLoadingChildFilters:(d,f)=>{d!==f&&t("updateLoadingChildFilters",{id:r.value.id,isLoading:i.value})}}}function Xe(e,{hasCurrentFilter:t=c(()=>!1)}){const l=o(e,"filter"),a=c(()=>t.value?l.value.label:""),r=c(()=>{if(t.value)return l.value.labelScreenReader}),i=c(()=>r.value||a.value);return{filterLabel:a,filterLabelForTitle:i}}function Ye(e,{filterLabel:t=c(()=>""),filterLabelForTitle:l=c(()=>""),hasCurrentFilter:a=c(()=>!1)}){const r=o(e,"dataKeyByKeyIdPerFilter"),i=o(e,"filter"),s=o(e,"model"),{filterBoolean:d,filterDate:f}=ue(),y=c(()=>{if(i.value)return r.value[i.value.id]}),h=c(()=>{var v;return(v=s.value)!=null&&v.length?O(s.value,F=>y.value&&y.value[F]):[]}),n=({label:v,suffixTranslated:F})=>{const A=q({placeholder:v});return F?`${A} ${F}`:A};return{modelValuesForCurrentFilter:c(()=>{var v,F,A,b,p,S,E,D,B;if(!a.value)return[];if(i.value.type==="switch"||i.value.type==="oneCheckbox")return[{filterLabelTranslated:n({label:t.value}),filterLabelForTitleTranslated:n({label:l.value}),label:d(s.value)}];if(i.value.type==="date")return[{filterLabelTranslated:n({label:t.value}),filterLabelForTitleTranslated:n({label:l.value}),label:f(s.value)}];if(i.value.type==="select"||i.value.type==="radio"){const m=Ce(y.value,`${s.value}.${k}`);return m?[{filterLabelTranslated:n({label:t.value}),filterLabelForTitleTranslated:n({label:l.value}),label:m}]:[]}if(N.value[i.value.type]||i.value.type==="radio"&&i.value.isModelArray){if(h.value.length){if(h.value.length===1){const m=(v=y.value)==null?void 0:v[h.value[0]];return[{filterLabelTranslated:n({label:t.value}),filterLabelForTitleTranslated:n({label:l.value}),label:m==null?void 0:m[k],item:m,modelArray:h.value}]}return[{filterLabelTranslated:n({label:t.value}),filterLabelForTitleTranslated:n({label:l.value}),label:q({placeholder:"_A_FILTERS_SELECTED_{{count}}_",extra:{count:h.value.length,modelArray:h.value}}),modelArray:h.value,extra:{count:h.value.length,modelArray:h.value}}]}return[]}if(i.value.type==="dateRange"){const m=i.value.keyFrom||"from",M=i.value.keyUntil||"until",C=[];if(!V((F=s.value)==null?void 0:F[m])&&((A=s.value)==null?void 0:A[m])!==""){const g=q({placeholder:i.value.labelFrom||"_A_DATEPICKER_RANGE_FROM_"});C.push({filterLabelTranslated:n({label:t.value,suffixTranslated:g}),filterLabelForTitleTranslated:n({label:l.value,suffixTranslated:g}),label:f(s.value[m]),idSuffix:"_from",keyId:m})}if(!V((b=s.value)==null?void 0:b[M])&&((p=s.value)==null?void 0:p[M])!==""){const g=q({placeholder:i.value.labelUntil||"_A_DATEPICKER_RANGE_UNTIL_"});C.push({filterLabelTranslated:n({label:t.value,suffixTranslated:g}),filterLabelForTitleTranslated:n({label:l.value,suffixTranslated:g}),label:f(s.value[M]),idSuffix:"_until",keyId:M})}return C}if(ce.indexOf(i.value.type)!==-1){const m=i.value.keyMax||"max",M=i.value.keyMin||"min",C=[];if(!V((S=s.value)==null?void 0:S[M])&&((E=s.value)==null?void 0:E[M])!==""){const g=q({placeholder:i.value.labelMin||"_A_INPUT_NUMBER_RANGE_LABEL_MIN_"});C.push({filterLabelTranslated:n({label:t.value,suffixTranslated:g}),filterLabelForTitleTranslated:n({label:l.value,suffixTranslated:g}),label:s.value[M],idSuffix:"_min",keyId:M})}if(!V((D=s.value)==null?void 0:D[m])&&((B=s.value)==null?void 0:B[m])!==""){const g=q({placeholder:i.value.labelMax||"_A_INPUT_NUMBER_RANGE_LABEL_MAX_"});C.push({filterLabelTranslated:n({label:t.value,suffixTranslated:g}),filterLabelForTitleTranslated:n({label:l.value,suffixTranslated:g}),label:s.value[m],idSuffix:"_max",keyId:m})}return C}return[{label:s.value,filterLabelTranslated:n({label:t.value}),filterLabelForTitleTranslated:n({label:l.value})}]})}}const Ze={name:"AFilterCenterItem",props:{closeFilterValue:{type:Function,required:!0},dataKeyByKeyIdPerFilter:{type:Object,required:!0},disabled:{type:Boolean,required:!1},filter:{type:Object,required:!1,default:void 0},id:{type:String,required:!0},model:{type:[String,Number,Object,Array,Boolean],required:!1,default:void 0}},emits:["updateVisibleChildFilters","updateLoadingChildFilters"],setup(e,t){const{hasCurrentFilter:l}=je(e),{isFilterLoading:a,updateLoadingChildFilters:r}=We(e,t,{hasCurrentFilter:l}),{filterLabel:i,filterLabelForTitle:s}=Xe(e,{hasCurrentFilter:l}),{modelValuesForCurrentFilter:d}=Ye(e,{filterLabel:i,filterLabelForTitle:s,hasCurrentFilter:l}),{isLeastOneFilterVisible:f,updateVisibleChildFilters:y}=$e(e,t,{modelValuesForCurrentFilter:d}),{goToFilter:h}=ze(e),{closeCurrentFilterValue:n}=ke(e);return U(f,()=>{y()},{immediate:!0}),U(a,(_,v)=>{r(_,v)},{immediate:!0}),X(()=>{y({destroy:!0})}),{closeCurrentFilterValue:n,filterLabel:i,goToFilter:h,hasCurrentFilter:l,isLeastOneFilterVisible:f,modelValuesForCurrentFilter:d}},render(){return this.hasCurrentFilter&&[this.modelValuesForCurrentFilter.map(e=>u("div",{role:"group",class:"a_filters_center__item a_btn_group a_btn_group_small"},[this.filter.hasNotClose&&u(x,{class:"a_btn a_btn_secondary",ariaHidden:!0,tabindex:-1,iconLeft:be,type:"text"}),u(x,{class:"a_btn a_btn_secondary",title:"_A_FILTERS_HOR_GO_TO_TITLE_{{filterLabel}}_{{filterValue}}_",textScreenReader:"_A_FILTERS_HOR_GO_TO_TITLE_{{filterLabel}}_{{filterValue}}_",extra:{filterLabel:e.filterLabelForTitleTranslated,filterValue:e.label},type:"button",onClick:()=>this.goToFilter({modelValue:e})},()=>[e.filterLabelTranslated?u("strong",{class:"a_filters_center__item__label",ariaHidden:!0},[u(P,{tag:"span",html:e.filterLabelTranslated,textAfter:":"})]):"",this.filter.slotName&&this.$slots[this.filter.slotName]?this.$slots[this.filter.slotName]({item:e.item,label:e.label,extra:e.extra,inFilterCenter:!0}):u("span",{class:"a_filters_center__item__value"},e.label)]),this.filter.hasNotClose?"":u(x,{class:"a_btn a_btn_secondary",disabled:this.disabled,iconLeft:Y,title:"_A_FILTERS_HOR_CLOSE_TITLE_{{filterLabel}}_{{filterValue}}_",textScreenReader:"_A_FILTERS_HOR_CLOSE_TITLE_{{filterLabel}}_{{filterValue}}_",extra:{filterLabel:e.filterLabelForTitleTranslated,filterValue:e.label},type:"button",onClick:()=>this.closeCurrentFilterValue({modelValue:e})})]))]}};function Je(){const e=I({}),t=({id:a,isLoading:r})=>{e.value[a]=r};return{isLeastOneChildFilterLoading:c(()=>{let a=!1;return L(e.value,r=>{if(r)return a=!0,!1}),a}),updateLoadingChildFilters:t}}function Qe(e){const t=o(e,"filtersGroup"),l=I({}),a=({id:d,isVisible:f})=>{l.value[d]=f},r=c(()=>{let d=!1;return L(l.value,f=>{if(f)return d=!0,!1}),d}),i=c(()=>!!(t.value.alwaysVisible.length||t.value.filters.length)),s=c(()=>r.value?void 0:"display: none;");return{hasFilters:i,styleHide:s,updateVisibleChildFilters:a}}const et={name:"AFilterCenter",props:{appliedModel:{type:Object,required:!0},closeAllFilters:{type:Function,required:!0},closeFilterValue:{type:Function,required:!0},dataKeyByKeyIdPerFilter:{type:Object,required:!0},disabled:{type:Boolean,required:!1},filtersGroup:{type:Object,required:!0,default:()=>({alwaysVisible:[],filters:[]})},filtersKeyById:{type:Object,required:!0},filtersVisibleAll:{type:Array,required:!0},id:{type:String,required:!0}},setup(e){const{hasFilters:t,styleHide:l,updateVisibleChildFilters:a}=Qe(e),{isLeastOneChildFilterLoading:r,updateLoadingChildFilters:i}=Je();return{hasFilters:t,isLeastOneChildFilterLoading:r,styleHide:l,updateLoadingChildFilters:i,updateVisibleChildFilters:a}},render(){return this.hasFilters?u("div",{class:"a_filters_center"},[u("div",{class:"a_filters_center__item"},[this.$slots.filtersHorizontal?this.$slots.filtersHorizontal():""]),this.filtersVisibleAll.map(e=>u(Ze,{key:e.id,id:this.id,disabled:this.disabled,filter:e,closeFilterValue:this.closeFilterValue,dataKeyByKeyIdPerFilter:this.dataKeyByKeyIdPerFilter,model:this.appliedModel[e.id],onUpdateVisibleChildFilters:this.updateVisibleChildFilters,onUpdateLoadingChildFilters:this.updateLoadingChildFilters},this.$slots)),this.isLeastOneChildFilterLoading?u("div",{style:this.styleHide,class:"a_filters_center__item"},[u(fe,{class:"a_spinner_small"})]):"",u("div",{class:"a_filters_center__item",style:this.styleHide},[u(G,{class:"a_btn a_btn_link a_btn_small",iconLeft:Se,text:"_A_FILTERS_DESELECT_ALL_",onClick:this.closeAllFilters})])]):null}};function tt(e){const t=o(e,"dataForm");return{hasDataForm:c(()=>t.value.length>0)}}function lt({emit:e}){return{updateModelLocal:l=>{e("update:modelValue",l)}}}const at={name:"AModalForm",inheritAttrs:!1,props:{alwaysTranslate:{type:Boolean,required:!1},backdropZIndex:{type:Number,required:!1,default:void 0},bodyHtml:{type:String,required:!1,default:""},bodyHtmlClass:{type:[String,Array,Object],required:!1,default:void 0},close:{type:Function,required:!0},closeButtonClass:{type:[String,Array,Object],required:!1,default:()=>T.value.propsDefault.closeButtonClass},closeButtonId:{type:String,required:!1,default:void 0},closeButtonText:{type:String,required:!1,default:()=>T.value.propsDefault.closeButtonText},closeButtonTextScreenReaderFooter:{type:String,required:!1,default:()=>T.value.propsDefault.closeButtonTextScreenReaderFooter},closeButtonTextScreenReaderHeader:{type:String,required:!1,default:()=>T.value.propsDefault.closeButtonTextScreenReaderHeader},dataForm:{type:Array,required:!1,default:()=>[]},disabled:{type:Boolean,required:!1,default:!1},disabledSave:{type:Boolean,required:!1,default:!1},errors:{type:Object,required:!1,default:()=>({})},extra:{type:Object,required:!1,default:void 0},focusStartId:{type:String,required:!1,default:void 0},headerTag:{type:String,required:!1,default:()=>T.value.propsDefault.headerTag},headerText:{type:String,required:!1,default:void 0},hideFooter:{type:Boolean,required:!1},hideHeader:{type:Boolean,required:!1},id:{type:String,required:!1,default:()=>J("a_modal_form_")},idPrefix:{type:String,required:!1,default:()=>T.value.propsDefault.idPrefix},isCloseButtonHide:{type:Boolean,required:!1,default:()=>T.value.propsDefault.isCloseButtonHide},isConfirm:{type:Boolean,required:!1},isDataFormHide:{type:Boolean,required:!1,default:()=>T.value.propsDefault.isDataFormHide},isDataFormRender:{type:Boolean,required:!1,default:()=>T.value.propsDefault.isDataFormRender},isFooterSticky:{type:Boolean,required:!1,default:()=>T.value.propsDefault.isFooterSticky},isModalHidden:{type:Boolean,required:!1,default:!1},isRequired:{type:Boolean,required:!1,default:T.value.propsDefault.isRequired},isSaveButtonHide:{type:Boolean,required:!1,default:()=>T.value.propsDefault.isSaveButtonHide},loading:{type:Boolean,required:!1},modalClass:{type:[String,Object],required:!1,default:()=>T.value.propsDefault.modalClass},modalStyle:{type:[String,Object],required:!1,default:()=>T.value.propsDefault.modalStyle},modelValue:{type:Object,required:!1,default:void 0},save:{type:Function,required:!1,default:void 0},saveButtonClass:{type:[String,Array,Object],required:!1,default:()=>T.value.propsDefault.saveButtonClass},saveButtonId:{type:String,required:!1,default:void 0},saveButtonText:{type:String,required:!1,default:()=>T.value.propsDefault.saveButtonText},saveButtonTextScreenReader:{type:String,required:!1,default:()=>T.value.propsDefault.saveButtonTextScreenReader},selectorClose:{type:[String,Array],required:!1,default:()=>T.value.propsDefault.selectorClose},selectorCloseIds:{type:[String,Array],required:!1,default:()=>T.value.propsDefault.selectorCloseIds},size:{type:String,validator:e=>["small","large","xl","xxl","fullscreen"].indexOf(e)!==-1,default:()=>T.value.propsDefault.size},stop:{type:Boolean,required:!1},textErrorHeader:{type:String,required:!1,default:void 0},textRequired:{type:String,required:!1,default:()=>T.value.propsDefault.textRequired},useEscape:{type:Boolean,required:!1,default:()=>T.value.propsDefault.useEscape},useFocusOnStart:{type:Boolean,required:!1,default:!0},zIndex:{type:Number,required:!1,default:void 0}},emits:["update:modelValue"],setup(e,t){const{bodyHtmlId:l}=_e(e),{hasDataForm:a}=tt(e),{updateModelLocal:r}=lt(t);return{bodyHtmlId:l,hasDataForm:a,updateModelLocal:r}},render(){return u(pe,{alwaysTranslate:this.alwaysTranslate,backdropZIndex:this.backdropZIndex,close:this.close,closeButtonClass:this.closeButtonClass,closeButtonId:this.closeButtonId,closeButtonText:this.closeButtonText,closeButtonTextScreenReaderFooter:this.closeButtonTextScreenReaderFooter,closeButtonTextScreenReaderHeader:this.closeButtonTextScreenReaderHeader,disabled:this.disabled,disabledSave:this.disabledSave,extra:this.extra,focusStartId:this.focusStartId,headerTag:this.headerTag,headerText:this.headerText,hideFooter:this.hideFooter,hideHeader:this.hideHeader,id:this.id,isCloseButtonHide:this.isCloseButtonHide,isConfirm:this.isConfirm,isFooterSticky:this.isFooterSticky,isModalHidden:this.isModalHidden,isSaveButtonHide:this.isSaveButtonHide,loading:this.loading,modalClass:this.modalClass,modalStyle:this.modalStyle,save:this.save,saveButtonClass:this.saveButtonClass,saveButtonId:this.saveButtonId,saveButtonText:this.saveButtonText,saveButtonTextScreenReader:this.saveButtonTextScreenReader,selectorClose:this.selectorClose,selectorCloseIds:this.selectorCloseIds,size:this.size,stop:this.stop,useEscape:this.useEscape,useFocusOnStart:this.useFocusOnStart,zIndex:this.zIndex,"aria-describedby":this.bodyHtmlId},{...this.$slots||{},modalBody:()=>[this.$slots.modalBodyPrepend&&this.$slots.modalBodyPrepend(),this.bodyHtml&&u(P,{id:this.bodyHtmlId,alwaysTranslate:this.alwaysTranslate,class:this.bodyHtmlClass,html:this.bodyHtml,extra:this.extra}),this.hasDataForm&&u(K,{alwaysTranslate:this.alwaysTranslate,modelValue:this.modelValue,data:this.dataForm,errors:this.errors,idPrefix:this.idPrefix,isRequired:this.isRequired,textRequired:this.textRequired,textErrorHeader:this.textErrorHeader,isHide:this.isDataFormHide,isRender:this.isDataFormRender,"onUpdate:modelValue":this.updateModelLocal},this.$slots),this.$slots.modalBodyAppend&&this.$slots.modalBodyAppend()]})}};function it(e,{model:t=I({})}){const l=o(e,"filtersSaved"),a=c(()=>{const d={};return L(l.value,f=>{d[f.label]=!0}),d}),r=c(()=>a.value[t.value.name]),i=c(()=>{if(r.value)return"_A_FILTERS_SAVE_MODAL_NAME_HELP_TEXT_{{name}}_"});return{dataForm:c(()=>[{id:"name",label:"_A_FILTERS_SAVE_LABEL_NAME_",type:"text",required:!0,extra:{name:t.value.name||""},helpText:i.value}]),isUpdate:r}}function rt(e){const t=o(e,"isModelFilterSavedNew"),l=o(e,"modelFiltersSaved"),a=I({});return{initModel:()=>{l.value&&!t.value&&(a.value={name:l.value})},model:a,updateModel:s=>{a.value=s}}}function st(e,{emit:t},{isUpdate:l=c(()=>!1),model:a=I({})}){const r=o(e,"changeModelFiltersSaved"),i=o(e,"updateFiltersSaved"),s=I(void 0),{addNotification:d}=j(),f=c(()=>!a.value.name),y=()=>{t("close")};return{close:y,disabledBtnSave:f,loading:s,save:async()=>{s.value=!0;const n=l.value;try{await i.value({action:n?"update":"create",label:a.value.name})}catch{d({text:"_A_FILTERS_SAVE_MSG_ERROR_",type:"danger"}),s.value=!1;return}d({text:n?"_A_FILTERS_SAVE_MSG_SUCCESS_UPDATE_{{name}}_":"_A_FILTERS_SAVE_MSG_SUCCESS_CREATE_{{name}}_",extra:{name:a.value.name}}),r.value({model:a.value.name,isCreateOrEdit:!0}),y(),s.value=!1}}}const nt={name:"AFiltersSaveModal",props:{changeModelFiltersSaved:{type:Function,required:!0},filtersSaved:{type:Array,required:!0},isModelFilterSavedNew:{type:Boolean,required:!0},modelFiltersSaved:{type:String,required:!1,default:void 0},selectorCloseIds:{type:String,required:!0},updateFiltersSaved:{type:Function,required:!0}},emits:["close"],setup(e,t){const{initModel:l,model:a,updateModel:r}=rt(e),{dataForm:i,isUpdate:s}=it(e,{model:a}),{close:d,disabledBtnSave:f,loading:y,save:h}=st(e,t,{isUpdate:s,model:a});return l(),{close:d,dataForm:i,disabledBtnSave:f,initModel:l,loading:y,model:a,save:h,updateModel:r}},render(){return u(at,{close:this.close,dataForm:this.dataForm,disabledSave:this.disabledBtnSave,headerText:"_A_FILTERS_SAVE_MODAL_HEADER_",modelValue:this.model,idPrefix:"modal_filter_top_",loading:this.loading,selectorCloseIds:this.selectorCloseIds,size:"large",save:this.save,stop:!0,zIndex:1901,backdropZIndex:1900,"onUpdate:modelValue":this.updateModel},{modalBodyPrepend:()=>[u(he,{type:"info",isVisible:!0,safeHtml:"_A_FILTERS_SAVE_MODAL_BODY_PREPEND_"})]})}};function dt(e){const t=o(e,"filtersGroup"),l=I(void 0),a=c(()=>!!(t.value.alwaysVisible.length||t.value.filters.length));return{closeDropdown:()=>{var s;(s=l.value)==null||s.onClose({trigger:"click"})},dropdownRef:l,isDropdownVisible:a,openDropdown:s=>{var d;(d=l.value)==null||d.onOpen({trigger:"click",selectorToFocus:s})}}}function ot(e,{openDropdown:t=()=>{}}){const a=`eventATableFilterTopOnOpen_${o(e,"id").value}`;return{destroyEventBus:()=>{w.$off(a,t)},initEventBus:()=>{w.$on(a,t)}}}function ut(e,{emit:t}){const l=o(e,"filtersGroup"),a=o(e,"filtersVisible"),r=({isAdd:h,filterId:n,filter:_})=>{t("toggleFiltersVisible",{isAdd:h,filterId:n,filter:_})},i=({model:h})=>{r({isAdd:!0,filterId:h})},s=({filter:h})=>{r({isAdd:!1,filterId:h.id,filter:h})},d=c(()=>!!(l.value.filters&&l.value.filters.length)),f=c(()=>{const h={};return L(a.value,n=>{h[n.id]=!0}),h}),y=c(()=>d.value?O(l.value.filters,h=>!f.value[h.id]):[]);return{addFiltersVisible:i,deleteFiltersVisible:s,filtersHidden:y,hasFiltersHiddenDefault:d}}function ct(e,{openDropdown:t=()=>({})}){const l=o(e,"filtersSaved"),a=o(e,"id"),r=o(e,"onUpdateModelFilters"),i="_A_FILTERS_HOR_FILTER_NEW_",s=I(void 0),d=I(void 0),f=I(void 0),y=c(()=>`${a.value}btn_save_`),h=c(()=>d.value===i),n=c(()=>{const b=[{label:i}];return L(R(l.value),p=>{p.group="_A_FILTERS_FILTER_SAVED_GROUP_MY_",b.push(p)}),b});return{buttonSaveComponentId:y,changeModelFiltersSaved:({model:b,item:p,isDelete:S,isCreateOrEdit:E})=>{if(E){d.value=b;return}if((p==null?void 0:p.label)===i||S){r.value({model:{},isUpdateFiltersVisible:!0}),d.value=i;return}b?(d.value=b,p&&(r.value({model:p.data||{},isUpdateFiltersVisible:!0}),t())):p&&(r.value({model:p.data||{},isUpdateFiltersVisible:!0}),t())},closeModalSave:()=>{s.value=!1},filtersSavedLocal:n,initModelFiltersSaved:()=>{d.value=i},isModalSaveVisible:s,isModelFilterSavedNew:h,modelFiltersSaved:d,openModalSave:()=>{f.value=y.value,s.value=!0},selectorCloseIds:f}}function ft(e,{changeModelFiltersSaved:t=()=>{},idFilterTop:l=c(()=>""),isModelFilterSavedNew:a=c(()=>!1),modelFiltersSaved:r=I(void 0)}){const i=o(e,"id"),s=o(e,"updateFiltersSaved"),{changeConfirmOptions:d,closeConfirm:f,isModalHidden:y,openConfirm:h}=ve(),{addNotification:n}=j(),_=c(()=>`${i.value}btn_save`),v=c(()=>a.value?"_A_FILTERS_DELETE_FILTER_SAVED_BTN_DISABLED_":{mobile:"_A_FILTERS_DELETE_FILTER_SAVED_BTN_"}),F=c(()=>a.value?"_A_FILTERS_DELETE_FILTER_SAVED_BTN_DISABLED_":"_A_FILTERS_DELETE_FILTER_SAVED_BTN_"),A=async()=>{d({loading:!0});try{await s.value({action:"delete",label:r.value})}catch{n({text:"_A_FILTERS_DELETE_FILTER_MSG_ERROR_{{name}}_",type:"danger",extra:{name:r.value}}),d({loading:!1});return}n({text:"_A_FILTERS_DELETE_FILTER_MSG_SUCCESS_{{name}}_",extra:{name:r.value}}),d({loading:!1}),f(),t({model:void 0,isDelete:!0})};return{buttonDeleteId:_,isConfirmHidden:y,openDeleteConfirm:()=>{h({headerText:"_A_FILTERS_DELETE_FILTER_HEADER_{{name}}_",bodyHtml:"_A_FILTERS_DELETE_FILTER_BODY_{{name}}_",extra:{name:r.value},save:A,selectorCloseIds:[_.value,l.value],saveButtonText:"_A_FILTERS_DELETE_FILTER_BTN_DELETE_",stop:!0,zIndex:1901,backdropZIndex:1900})},textScreenreaderButtonDeleteFiltersSaved:F,titleButtonDeleteFiltersSaved:v}}function _t(e){const t=o(e,"filtersGroup"),l=o(e,"filtersVisible"),a=o(e,"updateDataKeyByIdFromFilter"),r="a_column a_column_12_touch a_column_3_fullhd a_column_3_widescreen a_column_3_desktop",i="a_columns a_columns_count_12 a_columns_gab_x_2 a_columns_gab_y_2 a_columns_gab_y_1_touch",s="a_filters__form_element a_column a_column_12_touch a_column_9_fullhd a_column_9_widescreen a_column_9_desktop",d=["select","multiselect","radio","checkbox","group","fieldset"],f=({dataKeyByKeyId:h,item:n,filter:_})=>{let v=_.id;n&&(v=n.id),a.value({filterId:v,dataKeyByKeyId:h})};return{dataForForm:c(()=>{const h=[];return L(t.value.alwaysVisible,n=>{const _=R(n);_.labelClass=r,_.classColumn=s,d.indexOf(n.type)!==-1&&(_.onUpdateData=({dataKeyByKeyId:v,item:F})=>f({dataKeyByKeyId:v,item:F,filter:n})),h.push({type:"group",id:`group_${n.id}`,classColumns:i,children:[_]})}),L(l.value,n=>{const _=R(n);_.labelClass=r,_.classColumn=`${s}  a_d_flex a_align_items_center`,_.slotAppend="groupAppend",_.class="a_width_100",d.indexOf(n.type)!==-1&&(_.onUpdateData=({dataKeyByKeyId:v,item:F})=>f({dataKeyByKeyId:v,item:F,filter:n})),h.push({type:"group",id:`group_${n.id}`,classColumns:i,children:[_]})}),h})}}function pt(e){const t=o(e,"id");return{idFilterTop:c(()=>`${t.value}_filter_top`)}}function ht(e,{emit:t},{closeDropdown:l=()=>{}}){const a=o(e,"disabled");return{onSearch:()=>{a.value||(l(),t("startSearch"))}}}const vt={name:"AFiltersHorizontal",props:{canSave:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},excludeRenderAttributes:{type:Array,required:!1,default:()=>[]},filtersGroup:{type:Object,required:!0,default:()=>({alwaysVisible:[],filters:[]})},filtersKeyById:{type:Object,required:!0},filtersSaved:{type:Array,required:!0},filtersVisible:{type:Array,required:!0},id:{type:String,required:!0},mainModel:{type:Object,required:!1},onUpdateModelFilters:{type:Function,required:!0},unappliedModel:{type:Object,required:!0},updateDataKeyByIdFromFilter:{type:Function,required:!0},updateFiltersSaved:{type:Function,required:!0}},emits:["startSearch","toggleFiltersVisible"],setup(e,t){const{dataForForm:l}=_t(e),{closeDropdown:a,dropdownRef:r,isDropdownVisible:i,openDropdown:s}=dt(e),{idFilterTop:d}=pt(e),{onSearch:f}=ht(e,t,{closeDropdown:a}),{destroyEventBus:y,initEventBus:h}=ot(e,{openDropdown:s}),{addFiltersVisible:n,deleteFiltersVisible:_,filtersHidden:v,hasFiltersHiddenDefault:F}=ut(e,t),{buttonSaveComponentId:A,changeModelFiltersSaved:b,closeModalSave:p,filtersSavedLocal:S,initModelFiltersSaved:E,isModalSaveVisible:D,isModelFilterSavedNew:B,modelFiltersSaved:m,openModalSave:M,selectorCloseIds:C}=ct(e,{openDropdown:s}),{buttonDeleteId:g,isConfirmHidden:Q,openDeleteConfirm:ee,textScreenreaderButtonDeleteFiltersSaved:te,titleButtonDeleteFiltersSaved:le}=ft(e,{changeModelFiltersSaved:b,idFilterTop:d,isModelFilterSavedNew:B,modelFiltersSaved:m});return E(),h(),X(()=>{y()}),{addFiltersVisible:n,buttonDeleteId:g,buttonSaveComponentId:A,changeModelFiltersSaved:b,closeDropdown:a,closeModalSave:p,dataForForm:l,deleteFiltersVisible:_,dropdownRef:r,filtersHidden:v,filtersSavedLocal:S,hasFiltersHiddenDefault:F,idFilterTop:d,initModelFiltersSaved:E,isConfirmHidden:Q,isDropdownVisible:i,isModalSaveVisible:D,isModelFilterSavedNew:B,modelFiltersSaved:m,onSearch:f,openDeleteConfirm:ee,openModalSave:M,selectorCloseIds:C,textScreenreaderButtonDeleteFiltersSaved:te,titleButtonDeleteFiltersSaved:le}},render(){return this.isDropdownVisible?[u(ye,{ref:"dropdownRef",buttonIconLeft:Ee,buttonText:"Filter",buttonClass:"a_btn a_btn_primary a_btn_small a_filter_horizontal__btn_dropdown",dropdownTag:"div",dropdownClass:"a_filter_horizontal__wrapper",dropdownRenderDefault:!0,isCloseByClickInside:!1,hasCaret:!1,inBody:!0,lockArrowsNavigation:!1,lockTabNavigation:!1,useEscape:!this.isModalSaveVisible&&this.isConfirmHidden},{...this.$slots,dropdown:()=>u("div",{class:"a_filter_horizontal"},[u("div",{class:"a_filter_horizontal__header__wrapper"},[u("div",{class:"a_filter_horizontal__header"},[u("div",{class:"a_filter_horizontal__header__texts"},[u(P,{class:"a_filter_horizontal__header__texts__filter",tag:"span",text:"_A_FILTERS_HOR_FILTER_HEADER_"}),this.isModelFilterSavedNew?u(P,{class:"a_filter_horizontal__header__texts__new",tag:"em",text:this.modelFiltersSaved}):u("span",{},this.modelFiltersSaved)]),this.canSave?u($,{modelValue:this.modelFiltersSaved,change:this.changeModelFiltersSaved,class:"a_filters_top__save_select",data:this.filtersSavedLocal,deselectable:!1,keyId:"label",keyLabel:"label",keyGroup:"group",label:"_A_FILTERS_SAVE_SELECT_",menuWidthType:"by_content",search:!0,translateData:!0,type:"select"}):""])]),u("div",{class:"a_filter_horizontal__body__wrapper"},[u("div",{class:"a_filter_horizontal__body"},[u(K,{idPrefix:this.idFilterTop,class:"a_filter_horizontal__body__form",classColumnDefault:"",classColumns:"",data:this.dataForForm,excludeRenderAttributes:this.excludeRenderAttributes,modelValue:this.unappliedModel,showErrors:!1,onChange:this.onUpdateModelFilters},{...this.$slots,groupAppend:({item:e})=>u(x,{type:"button",class:"a_btn a_btn_primary a_ml_2",title:"_A_FILTERS_TOP_CLOSE_",textScreenReader:"_A_FILTERS_TOP_CLOSE_",iconLeft:Y,stop:!0,onClick:()=>this.deleteFiltersVisible({filter:e})}),formDataAppend:()=>u("div",{class:"a_filter_horizontal__add_filter__wrapper"},[u($,{buttonClassDefault:"a_btn a_btn_primary a_filter_horizontal__add_filter",change:this.addFiltersVisible,data:this.filtersHidden,hasCaret:!1,disabled:!this.filtersHidden.length,isLabelFloat:!1,keyGroup:"group",keyId:"id",keyLabel:"label",label:"_A_FILTERS_ADD_FILTER_",labelClass:"a_sr_only",menuWidthType:"by_content",sortOrderGroup:"asc",placement:"bottom-start",search:!0,translateData:!0,type:"select"},{fixedPlaceholder:()=>[u(P,{tag:"span",ariaHidden:!0,class:"a_position_absolute_all",title:"_A_FILTERS_ADD_FILTER_"}),u(Fe,{icon:Ae})]})]),formAppend:()=>this.canSave?u("div",{class:"a_filter_horizontal__save_actions"},[u(x,{id:this.buttonSaveComponentId,class:"a_btn a_btn_primary",iconLeft:me,type:"button",text:"_A_FILTERS_SAVE_FILTER_SAVED_BTN_TEXT_",onClick:this.openModalSave}),u(x,{id:this.buttonDeleteId,ariaDisabled:this.isModelFilterSavedNew,class:"a_btn a_btn_secondary",iconLeft:Te,text:{desktop:"_A_FILTERS_DELETE_FILTER_SAVED_BTN_TEXT_"},textAriaHidden:!0,textScreenReader:this.textScreenreaderButtonDeleteFiltersSaved,title:this.titleButtonDeleteFiltersSaved,type:"button",onClick:this.openDeleteConfirm})]):""})]),u("div",{class:"a_filter_horizontal__footer"},[u("div",{class:"a_filter_horizontal__footer__actions"},[u(x,{type:"button",class:"a_btn a_btn_primary a_text_nowrap a_filter_horizontal__footer__actions__btn_search",iconLeft:Ie,text:"_A_FILTERS_START_SEARCH_",disabled:this.disabled,onClick:this.onSearch}),u(x,{type:"button",class:"a_btn a_btn_secondary a_text_nowrap a_filter_horizontal__footer__actions__btn_close",text:"_A_FILTERS_HOR_CLOSE_DROPDOWN_",onClick:this.closeDropdown})])])])])}),this.isModalSaveVisible?u(nt,{changeModelFiltersSaved:this.changeModelFiltersSaved,filtersSaved:this.filtersSaved,isModelFilterSavedNew:this.isModelFilterSavedNew,modelFiltersSaved:this.modelFiltersSaved,selectorCloseIds:this.selectorCloseIds,updateFiltersSaved:this.updateFiltersSaved,onClose:this.closeModalSave}):""]:null}};function Ft(e){const t=o(e,"id");return{idFilterTop:c(()=>`${t.value}_filter_main`)}}function yt(e){const t=o(e,"filterMain"),l=c(()=>!!t.value),a=c(()=>l.value?[t.value]:[]);return{hasFilterMain:l,dataMainFilter:a}}function bt(e,{emit:t}){const l=o(e,"disabled");return{onSearch:()=>{l.value||t("startSearch")}}}const St={name:"AFiltersMain",props:{disabled:{type:Boolean,required:!1},excludeRenderAttributes:{type:Array,required:!1,default:()=>[]},filterMain:{type:Object,required:!1},id:{type:String,required:!0},mainModel:{type:Object,required:!1},updateDataKeyByIdFromFilter:{type:Function,required:!0},updateMainModel:{type:Function,required:!0}},emits:["startSearch"],setup(e,t){const{hasFilterMain:l,dataMainFilter:a}=yt(e),{idFilterTop:r}=Ft(e),{onSearch:i}=bt(e,t);return{hasFilterMain:l,dataMainFilter:a,idFilterTop:r,onSearch:i}},render(){return this.hasFilterMain?u("div",{id:this.idFilterTop,class:"a_filters_top"},[u(K,{idPrefix:this.idFilterTop,class:"a_filters_top__form",classColumns:"a_filters_top__main_wrapper",classColumnDefault:"a_filters_top__main",data:this.dataMainFilter,excludeRenderAttributes:this.excludeRenderAttributes,modelValue:this.mainModel,showErrors:!1,onChange:this.updateMainModel},{formDataAppend:()=>u(G,{class:"a_btn a_btn_primary a_text_nowrap a_filters_top__search",iconLeft:Le,type:"submit",text:{desktop:"_A_FILTERS_START_SEARCH_"},textScreenReader:{mobile:"_A_FILTERS_START_SEARCH_"},prevent:!0,stop:!0,disabled:this.disabled,onClick:this.onSearch})})]):null}};function At(e,{emit:t},{filtersHorizontalRef:l=I(void 0),filtersVisibleAll:a=c(()=>[]),onUpdateModelFilters:r=()=>{}}){const i=o(e,"appliedModel"),s=o(e,"unappliedModel"),d=()=>{var n;(n=l.value)==null||n.initModelFiltersSaved()},f=({filter:n,keyId:_,modelArray:v,appliedModelLocal:F,unappliedModelLocal:A})=>{const b=n.id;return N.value[n.type]?(F[b]&&F[b].length&&(v?F[b]=O(F[b],p=>v.indexOf(p)===-1):F[b]=[]),A[b]&&A[b].length&&(v?A[b]=O(A[b],p=>v.indexOf(p)===-1):A[b]=[])):W.value[n.type]&&_?(z(A==null?void 0:A[b])&&(A[b][_]=void 0),z(F==null?void 0:F[b])&&(F[b][_]=void 0)):(A[b]=void 0,F[b]=void 0),{appliedModelLocal:F,unappliedModelLocal:A}};return{closeAllFilters:()=>{let n=R(i.value),_=R(s.value);L(a.value,v=>{const F=f({filter:v,appliedModelLocal:n,unappliedModelLocal:_});n=F.appliedModelLocal,_=F.unappliedModelLocal}),d(),t("update:unappliedModel",_),t("update:appliedModel",n),setTimeout(()=>{r({model:i.value})})},closeFilterValue:({filter:n,keyId:_,modelArray:v})=>{const F=R(i.value),A=R(s.value),{appliedModelLocal:b,unappliedModelLocal:p}=f({filter:n,keyId:_,modelArray:v,appliedModelLocal:F,unappliedModelLocal:A});t("update:unappliedModel",p),t("update:appliedModel",b),setTimeout(()=>{r({model:i.value})})}}}function mt(){const e=I({});return{dataKeyByKeyIdPerFilter:e,updateDataKeyByIdFromFilter:({dataKeyByKeyId:l,filterId:a})=>{e.value[a]=R(l)}}}function Tt(e){const t=o(e,"excludeRenderAttributes"),l=["alwaysVisible"];return{excludeRenderAttributesComputed:c(()=>De(l,t.value))}}function It({filter:e={},modelObj:t={}}){var a;const l=e.id;return l in t?N.value[e.type]?!!((a=t[l])!=null&&a.length):W.value[e.type]?!!(t[l]&&!Z(t[l])):!0:!1}function Et(e,{emit:t}){const l=o(e,"filters"),a=o(e,"filterMain"),r=o(e,"unappliedModel"),i=I({}),s=I(void 0),d=I([]),f=c(()=>!!(l.value.length||a.value)),y=c(()=>{const p={};return L(R(l.value),S=>{p[S.id]=S,H.value[S.type]&&S.children&&S.children.length&&L(S.children,E=>{p[E.id]=E})}),p}),h=c(()=>{const p={alwaysVisible:[],filters:[]};return L(R(l.value),S=>{S.alwaysVisible?p.alwaysVisible.push(S):p.filters.push(S)}),p}),n=c(()=>{const p=[];return L(d.value,S=>{y.value[S]&&p.push(y.value[S])}),p}),_=c(()=>{const p=[];p.push(...l.value);const S=[];return L(p,E=>{S.push(E),H.value[E.type]&&E.children&&E.children.length&&L(E.children,D=>{S.push(D)})}),S}),v=()=>{const p=[];L(h.value.filters,S=>{It({filter:S,modelObj:r.value})&&p.push(S.id)}),d.value=p};return{filtersDataKeyById:i,filtersGroup:h,filtersHorizontalRef:s,filtersKeyById:y,filtersVisible:n,filtersVisibleAll:_,filtersVisibleIds:d,hasFilters:f,onUpdateModelFilters:({model:p,isUpdateFiltersVisible:S})=>{t("update:unappliedModel",p),S&&setTimeout(()=>{v()})},setFiltersVisibleIds:v,updateAppliedModel:({model:p})=>{t("update:appliedModel",p)},updateMainModel:({model:p})=>{t("update:mainModel",p)}}}function Lt(e){const t=o(e,"filtersSaved"),l=o(e,"unappliedModel"),a=o(e,"updateFiltersSaved"),r=I([]);return{filtersSavedLocal:r,initFiltersSaved:()=>{r.value=t.value||[]},updateFiltersSavedLocal:({action:d="",label:f=""})=>{if(d==="create")r.value.push({label:f,data:R(l.value)});else{const y=xe(r.value,["label",f]);y!==-1&&(d==="delete"?r.value.splice(y,1):d==="update"&&r.value.splice(y,1,{label:f,data:R(l.value)}))}Be(a.value)&&a.value({action:d,label:f,model:l.value,filtersSaved:r.value})}}}function Rt(e,{emit:t},{onUpdateModelFilters:l=()=>{}}){const a=o(e,"appliedModel"),r=o(e,"unappliedModel");return{startSearch:()=>{t("update:appliedModel",r.value),setTimeout(()=>{l({model:a.value})})}}}function Mt(e,{dataKeyByKeyIdPerFilter:t=I({}),filtersVisibleIds:l=I([]),onUpdateModelFilters:a=()=>{}}){const r=o(e,"unappliedModel");return{toggleFiltersVisible:({isAdd:s=!0,filterId:d,filter:f})=>{var y,h;if(s)l.value.push(d);else{const n=l.value.indexOf(d);n!==-1&&l.value.splice(n,1);const _=R(r.value);if(f&&f.modelId){const v=(y=t.value)==null?void 0:y[d];(h=_==null?void 0:_[f.modelId])!=null&&h.length&&v?_[f.modelId]=O(_[f.modelId],F=>!v[F]):_[d]=void 0}else _[d]=void 0;a({model:_})}}}}const Bt={name:"AFilters",props:{appliedModel:{type:Object,required:!1,default:()=>({})},canSave:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},excludeRenderAttributes:{type:Array,required:!1,default:()=>[]},filterMain:{type:Object,required:!1},filters:{type:Array,required:!1,default:()=>[]},filtersSaved:{type:Array,required:!1,default:()=>[]},id:{type:String,required:!1,default:()=>J("a_filters_")},mainModel:{type:Object,required:!1},unappliedModel:{type:Object,required:!1,default:()=>({})},updateFiltersSaved:{type:Function,required:!1,default:void 0},view:{type:String,required:!1,default:"top",validator:e=>["top","right"].indexOf(e)!==-1},viewRightTeleportSelector:{type:String,required:!1,default:void 0}},emits:["startSearch","update:appliedModel","update:mainModel","update:unappliedModel"],setup(e,t){const l=o(e,"filtersSaved"),{filtersDataKeyById:a,filtersGroup:r,filtersHorizontalRef:i,filtersKeyById:s,filtersVisible:d,filtersVisibleAll:f,filtersVisibleIds:y,hasFilters:h,onUpdateModelFilters:n,setFiltersVisibleIds:_,updateAppliedModel:v,updateMainModel:F}=Et(e,t),{closeAllFilters:A,closeFilterValue:b}=At(e,t,{filtersHorizontalRef:i,filtersVisibleAll:f,onUpdateModelFilters:n}),{dataKeyByKeyIdPerFilter:p,updateDataKeyByIdFromFilter:S}=mt(),{toggleFiltersVisible:E}=Mt(e,{dataKeyByKeyIdPerFilter:p,filtersVisibleIds:y,onUpdateModelFilters:n}),{startSearch:D}=Rt(e,t,{onUpdateModelFilters:n}),{filtersSavedLocal:B,initFiltersSaved:m,updateFiltersSavedLocal:M}=Lt(e),{excludeRenderAttributesComputed:C}=Tt(e);return U(l,()=>{m()},{deep:!0}),_(),m(),{closeAllFilters:A,closeFilterValue:b,dataKeyByKeyIdPerFilter:p,excludeRenderAttributesComputed:C,filtersDataKeyById:a,filtersGroup:r,filtersHorizontalRef:i,filtersKeyById:s,filtersSavedLocal:B,filtersVisible:d,filtersVisibleAll:f,filtersVisibleIds:y,hasFilters:h,onUpdateModelFilters:n,setFiltersVisibleIds:_,startSearch:D,toggleFiltersVisible:E,updateAppliedModel:v,updateDataKeyByIdFromFilter:S,updateFiltersSavedLocal:M,updateMainModel:F}},render(){if(this.hasFilters)return u("div",[this.view==="top"&&u(St,{id:this.id,disabled:this.disabled,excludeRenderAttributes:this.excludeRenderAttributesComputed,filterMain:this.filterMain,mainModel:this.mainModel,updateDataKeyByIdFromFilter:this.updateDataKeyByIdFromFilter,updateMainModel:this.updateMainModel,onStartSearch:this.startSearch},this.$slots),this.view==="right"&&u(Re,{to:this.viewRightTeleportSelector,disabled:!this.viewRightTeleportSelector},[u(Ne,{id:this.id,disabled:this.disabled,excludeRenderAttributes:this.excludeRenderAttributesComputed,filters:this.filters,filtersKeyById:this.filtersKeyById,appliedModel:this.appliedModel,onUpdateModelFilters:this.updateAppliedModel,updateDataKeyByIdFromFilter:this.updateDataKeyByIdFromFilter,onStartSearch:this.startSearch},this.$slots)]),u(et,{id:this.id,appliedModel:this.appliedModel,closeAllFilters:this.closeAllFilters,closeFilterValue:this.closeFilterValue,dataKeyByKeyIdPerFilter:this.dataKeyByKeyIdPerFilter,disabled:this.disabled,filtersGroup:this.filtersGroup,filtersKeyById:this.filtersKeyById,filtersVisibleAll:this.filtersVisibleAll},{filtersHorizontal:()=>this.view==="top"?u(vt,{ref:"filtersHorizontalRef",id:this.id,canSave:this.canSave,disabled:this.disabled,excludeRenderAttributes:this.excludeRenderAttributesComputed,filtersGroup:this.filtersGroup,filtersKeyById:this.filtersKeyById,filtersSaved:this.filtersSavedLocal,filtersVisible:this.filtersVisible,onUpdateModelFilters:this.onUpdateModelFilters,unappliedModel:this.unappliedModel,updateDataKeyByIdFromFilter:this.updateDataKeyByIdFromFilter,updateFiltersSaved:this.updateFiltersSavedLocal,onStartSearch:this.startSearch,onToggleFiltersVisible:this.toggleFiltersVisible},this.$slots):"",...this.$slots})])}};export{Bt as A};
