{"version":3,"file":"chunk.242.a8b7e97272475db314ba.js","mappings":"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","sources":["webpack://aloha-vue-docs/./src/views/PageApi/PageApi.pug","webpack://aloha-vue-docs/../src/compositionAPI/AHttpAPI.js","webpack://aloha-vue-docs/./src/views/PageApi/PageApi.js","webpack://aloha-vue-docs/./src/views/PageApi/PageApi.vue"],"sourcesContent":["<div><h1>PageApi</h1></div>","import {\n  ref,\n} from \"vue\";\n\nimport axios from \"axios\";\n\nimport {\n  forEach,\n  isArray,\n  isFunction,\n  isNil,\n  isPlainObject, isString,\n  keyBy,\n} from \"lodash-es\";\n\n\nconst BASE_URL = ref(\"/api/\");\nconst API = ref(axios.create());\nconst API_SAVED = ref({});\nconst ERROR_CALLBACKS = ref({});\nconst HEADER_PARAMS = ref({});\nconst abortGroupController = {};\nconst abortGroupPending = {};\n\nexport function create({ axiosCreateOptions = {} }) {\n  API.value = axios.create(axiosCreateOptions);\n}\n\nexport function setBaseUrl({ baseUrl = \"\" }) {\n  BASE_URL.value = baseUrl;\n}\n\nexport function setErrorCallbacks({ errorCallbacks = {} }) {\n  ERROR_CALLBACKS.value = errorCallbacks;\n}\n\nexport function setHeaderParams({ headerParams = {} } = {}) {\n  HEADER_PARAMS.value = headerParams;\n}\n\nexport function abortHttp({\n  all = false,\n  abortGroup,\n  excludeAbortGroup,\n}) {\n  const EXCLUDE_ABORT_GROUP_OBJ = getExcludeAbortGroup({ excludeAbortGroup });\n\n  if (all) {\n    forEach(abortGroupController, (abortController, abortKey) => {\n      if (EXCLUDE_ABORT_GROUP_OBJ[abortKey]) {\n        return;\n      }\n      abortController.abort();\n      delete abortGroupController[abortKey];\n      if (abortGroupPending[abortGroup]) {\n        delete abortGroupPending[abortGroup];\n      }\n    });\n  } else if (abortGroup) {\n    let abortGroupList = [];\n    if (isString(abortGroup)) {\n      abortGroupList.push(abortGroup);\n    } else if (isArray(abortGroup)) {\n      abortGroupList = abortGroup;\n    }\n    forEach(abortGroupList, abortKey => {\n      if (EXCLUDE_ABORT_GROUP_OBJ[abortKey]) {\n        return;\n      }\n      if (abortGroupController[abortKey]) {\n        abortGroupController[abortKey].abort();\n        delete abortGroupController[abortKey];\n        if (abortGroupPending[abortGroup]) {\n          delete abortGroupPending[abortGroup];\n        }\n      }\n    });\n  }\n}\n\nexport function clearAllApiSaved() {\n  API_SAVED.value = {};\n}\n\nexport default function AHttpAPI() {\n  return {\n    abortHttp,\n    deleteHttp,\n    getHttp,\n    getListHttp,\n    getOptionsHttp,\n    patchHttp,\n    postHttp,\n    putHttp,\n  };\n}\n\nexport function getHttp({\n  url,\n  urlBase,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  apiSaveId,\n  keyId,\n  fullResponse,\n  showError,\n  ignoreErrorHandler,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"get\",\n    url,\n    urlBase,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    apiSaveId,\n    keyId,\n    fullResponse,\n    showError,\n    ignoreErrorHandler,\n    abortable,\n    abortGroup,\n  });\n}\n\nexport function getListHttp({\n  url,\n  urlBase,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  apiSaveId,\n  keyId,\n  fullResponse,\n  showError,\n  ignoreErrorHandler,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"get\",\n    url,\n    urlBase,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    apiSaveId,\n    keyId,\n    fullResponse,\n    showError,\n    ignoreErrorHandler,\n    abortable,\n    abortGroup,\n    expectedList: true,\n  });\n}\n\nexport function getOptionsHttp({\n  url,\n  urlBase,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  keyId,\n  fullResponse,\n  showError,\n  ignoreErrorHandler,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"options\",\n    url,\n    urlBase,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    keyId,\n    fullResponse,\n    showError,\n    abortable,\n    abortGroup,\n    ignoreErrorHandler,\n  });\n}\n\nexport function postHttp({\n  url,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  fullResponse,\n  showError,\n  ignoreErrorHandler,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"post\",\n    url,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    fullResponse,\n    showError,\n    abortable,\n    abortGroup,\n    ignoreErrorHandler,\n  });\n}\n\nexport function putHttp({\n  url,\n  urlBase,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  fullResponse,\n  showError,\n  ignoreErrorHandler,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"put\",\n    url,\n    urlBase,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    fullResponse,\n    showError,\n    abortable,\n    abortGroup,\n    ignoreErrorHandler,\n  });\n}\n\nexport function patchHttp({\n  url,\n  urlBase,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  fullResponse,\n  showError,\n  ignoreErrorHandler,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"patch\",\n    url,\n    urlBase,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    fullResponse,\n    showError,\n    abortable,\n    abortGroup,\n    ignoreErrorHandler,\n  });\n}\n\nexport function deleteHttp({\n  url,\n  urlBase,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  fullResponse,\n  showError,\n  ignoreErrorHandler,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"delete\",\n    url,\n    urlBase,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    fullResponse,\n    showError,\n    abortable,\n    abortGroup,\n    ignoreErrorHandler,\n  });\n}\n\nexport function callHttpRequestAndCheckSavedApi({\n  methodHttp,\n  url,\n  urlBase,\n  urlParams,\n  data,\n  headerParams = {},\n  responseType = \"json\",\n  apiSaveId,\n  keyId,\n  fullResponse,\n  showError = false,\n  ignoreErrorHandler,\n  abortable = true,\n  abortGroup = \"\",\n  expectedList,\n}) {\n  let apiSavedData = undefined;\n  if (apiSaveId) {\n    apiSavedData = API_SAVED.value[apiSaveId];\n    if (apiSavedData) {\n      if (apiSavedData.loading) {\n        return apiSavedData.promise;\n      }\n    }\n  }\n\n  const PROMISE = new Promise((resolve, reject) => {\n    if (apiSavedData) {\n      if (!apiSavedData.loading) {\n        if (keyId) {\n          if (apiSavedData.keyData) {\n            return resolve(apiSavedData.keyData);\n          }\n          const KEY_DATA = setKeyData({ data: apiSavedData.data, keyId });\n          API_SAVED.value[apiSaveId].keyData = KEY_DATA;\n          return resolve(KEY_DATA);\n        }\n        return resolve(apiSavedData.data);\n      }\n    }\n    const URL_NEW = setUrlWithParams({ url, params: urlParams });\n    let url_full = `${ isNil(urlBase) ? BASE_URL.value : urlBase }${ URL_NEW }`;\n    url_full = url_full.replace(/\\/\\//g, \"/\");\n    const HEADER_PARAMS_LOCAL = {\n      ...HEADER_PARAMS.value,\n      ...headerParams,\n    };\n\n    const signal = getAbortGroupSignal({ abortGroup, abortable });\n    setAbortGroupPendingCurrent({ abortGroup, abortable });\n\n    API.value({\n      method: methodHttp,\n      url: url_full,\n      data,\n      headers: HEADER_PARAMS_LOCAL,\n      responseType,\n      signal,\n    }).then(\n      response => {\n        if (fullResponse) {\n          return resolve(response);\n        }\n        const DATA = checkedExpectedList({ expectedList, response });\n        const KEY_DATA = setKeyData({ data: DATA, keyId });\n        if (apiSaveId) {\n          API_SAVED.value[apiSaveId].data = DATA;\n          API_SAVED.value[apiSaveId].keyData = KEY_DATA;\n          API_SAVED.value[apiSaveId].loading = false;\n        }\n        if (keyId) {\n          return resolve(KEY_DATA);\n        }\n        return resolve(DATA);\n      },\n      error => {\n        if (ignoreErrorHandler || checkErrorStatus({ error: error.response, showError, client: API, reject, resolve })) {\n          return reject(error.response);\n        }\n      }\n    ).finally(\n      () => {\n        removeAbortGroupCurrent({ abortGroup, abortable });\n      }\n    );\n  });\n\n  if (!apiSavedData) {\n    API_SAVED.value[apiSaveId] = API_SAVED.value[apiSaveId] || {};\n    API_SAVED.value[apiSaveId].loading = true;\n    API_SAVED.value[apiSaveId].promise = PROMISE;\n  }\n\n  return PROMISE;\n}\n\nfunction checkErrorStatus({ error, showError, client, resolve, reject }) {\n  if (!error) {\n    return true;\n  }\n  const ERROR_CALLBACK = () => {\n    const CALLBACK = ERROR_CALLBACKS.value[error.status];\n    if (isFunction(CALLBACK)) {\n      return CALLBACK({ error, showError, client, resolve, reject });\n    }\n    if (isFunction(ERROR_CALLBACKS.value.all)) {\n      return ERROR_CALLBACKS.value.all({ error, showError, client, resolve, reject });\n    }\n  };\n\n  ERROR_CALLBACK();\n  // Let the promise handle the error\n  return true;\n}\n\nexport function setUrlWithParams({ url, params }) {\n  const URL = url || \"\";\n  let urlParams = \"\";\n  forEach(params, (value, key) => {\n    if (isArray(value)) {\n      urlParams = setUrlForArray({ id: key, array: value, url: urlParams });\n    } else if (isPlainObject(value)) {\n      forEach(value, (v, k) => {\n        if (v) {\n          if (urlParams) {\n            urlParams += \"&\";\n          }\n          urlParams += `${ k }=${ v }`;\n        }\n      });\n    } else if (!isNil(value)) {\n      if (urlParams) {\n        urlParams += \"&\";\n      }\n      urlParams += `${ key }=${ value }`;\n    }\n  });\n  const prefix = urlParams && URL ? URL.indexOf(\"?\") === -1 ? \"?\" : \"&\" : \"\";\n\n  return `${ URL }${ prefix }${ urlParams }`;\n}\n\nexport function setUrlForArray({ array, url, id }) {\n  if (!array.length) {\n    return url;\n  }\n  let URL = url || \"\";\n  if (id === \"fields\" || id === \"ordering\") { // TODO: soll in plugin sein.\n    if (URL) {\n      URL += \"&\";\n    }\n    URL += `${ id }=`;\n    URL += array.join(\",\");\n  } else {\n    forEach(array, v => {\n      if (URL) {\n        URL += \"&\";\n      }\n      URL += `${ id }=${ v }`;\n    });\n  }\n  return URL;\n}\n\nfunction setKeyData({ data, keyId }) {\n  if (!keyId) {\n    return undefined;\n  }\n  return keyBy(data, keyId);\n}\n\nfunction checkedExpectedList({ expectedList, response }) {\n  if (expectedList) {\n    if (isArray(response.data)) {\n      return response.data;\n    }\n    return response.data.results ? response.data.results : [];\n  }\n  return response.data;\n}\n\nfunction getAbortGroupSignal({ abortGroup = \"_global\", abortable } = {}) {\n  if (!abortable) {\n    return undefined;\n  }\n  abortGroupController[abortGroup] = abortGroupController[abortGroup] || new AbortController();\n  return abortGroupController[abortGroup].signal;\n}\n\nfunction getExcludeAbortGroup({ excludeAbortGroup }) {\n  const EXCLUDE_ABORT_GROUP_OBJ = {};\n  if (excludeAbortGroup) {\n    if (isString(excludeAbortGroup)) {\n      EXCLUDE_ABORT_GROUP_OBJ[excludeAbortGroup] = true;\n    } else if (isArray(excludeAbortGroup)) {\n      forEach(excludeAbortGroup, abortGroupkey => {\n        EXCLUDE_ABORT_GROUP_OBJ[abortGroupkey] = true;\n      });\n    }\n  }\n  return EXCLUDE_ABORT_GROUP_OBJ;\n}\n\nfunction setAbortGroupPendingCurrent({ abortGroup, abortable }) {\n  if (!abortable || !abortGroup) {\n    return;\n  }\n  if (abortGroupPending[abortGroup]) {\n    abortGroupPending[abortGroup]++;\n  } else {\n    abortGroupPending[abortGroup] = 1;\n  }\n}\n\nfunction removeAbortGroupCurrent({ abortGroup, abortable }) {\n  if (!abortable || !abortGroup) {\n    return;\n  }\n  if (abortGroupPending[abortGroup]) {\n    abortGroupPending[abortGroup]--;\n  }\n  if (abortGroupPending[abortGroup] === 0 && abortGroupController[abortGroup]) {\n    delete abortGroupPending[abortGroup];\n    delete abortGroupController[abortGroup];\n  }\n}\n","\nimport AHttpAPI from \"../../../../src/compositionAPI/AHttpAPI\";\n\nexport default {\n  name: \"PageCloak\",\n  setup() {\n    const {\n      abortHttp,\n      getHttp,\n    } = AHttpAPI();\n\n    const loadData = () => {\n      getHttp({\n        urlBase: \"\",\n        url: \"/api/get_response\",\n      }).then(\n        response => {\n          console.log(\"response\", response);\n        },\n        error => {\n          console.log(\"error\", error);\n        }\n      );\n      setTimeout(() => {\n        abortHttp({\n          all: true,\n        });\n      }, 1000);\n    };\n\n    loadData();\n  },\n};\n","import { render } from \"./PageApi.pug?vue&type=template&id=5d03f8a3&lang=pug&external\"\nimport script from \"./PageApi.js?vue&type=script&lang=js&external\"\nexport * from \"./PageApi.js?vue&type=script&lang=js&external\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["BASE_URL","API","create","API_SAVED","ERROR_CALLBACKS","HEADER_PARAMS","abortGroupController","abortGroupPending","abortHttp","all","abortGroup","excludeAbortGroup","EXCLUDE_ABORT_GROUP_OBJ","isString","isArray","forEach","abortGroupkey","getExcludeAbortGroup","abortController","abortKey","abort","abortGroupList","push","AHttpAPI","deleteHttp","getHttp","getListHttp","getOptionsHttp","patchHttp","postHttp","putHttp","url","urlBase","data","urlParams","headerParams","responseType","apiSaveId","keyId","fullResponse","showError","ignoreErrorHandler","abortable","callHttpRequestAndCheckSavedApi","methodHttp","expectedList","apiSavedData","value","loading","promise","PROMISE","Promise","resolve","reject","keyData","KEY_DATA","setKeyData","URL_NEW","params","URL","key","array","id","length","join","v","setUrlForArray","isPlainObject","k","isNil","prefix","indexOf","setUrlWithParams","url_full","replace","HEADER_PARAMS_LOCAL","signal","AbortController","getAbortGroupSignal","setAbortGroupPendingCurrent","method","headers","then","response","DATA","results","checkedExpectedList","error","client","CALLBACK","status","isFunction","ERROR_CALLBACK","checkErrorStatus","finally","removeAbortGroupCurrent","keyBy","name","setup","console","log","setTimeout"],"sourceRoot":""}