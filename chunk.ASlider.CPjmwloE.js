import{n as X,I as pe,s as Y,X as Te,Y as Ee,Z as Re,i as G,$ as we,a0 as Me,a1 as qe,a2 as De,a3 as ke,a4 as Ve}from"./bundle.index.C95SLoWK.js";import{J as Fe,j as K,a0 as Pe,l as H,R as z,a7 as Oe,a8 as Ne,K as $e,x as J,g as Ce,a as W,r as He,d as je,u as Ke}from"./chunk.vendor-lodash.qxhehls9.js";import{t as i,d as t,r as I,f as Ue,K as Xe,h as g,x as Ye,o as ze}from"./chunk.vendor.BNArDUz4.js";function Ge(e,{firstValue:l=t(()=>0),formatValueLocal:u=()=>{},htmlIdLocal:_=t(()=>""),maxValueDataLocal:b=t(()=>0),minValueDataLocal:m=t(()=>0),secondValue:d=t(()=>0)}){const c=i(e,"label"),y=i(e,"labelScreenReader"),h=i(e,"range"),B=i(e,"rangeFirstButtonAriaLabel"),S=i(e,"rangeSecondButtonAriaLabel"),v=i(e,"rangeAriaLabel"),r=i(e,"vertical"),s=t(()=>m.value),A=t(()=>h.value?d.value:b.value),L=t(()=>h.value&&B.value?X({attr:"aria-label",placeholder:B.value,extra:{min:u({value:m.value}),max:u({value:b.value})}}):{}),w=t(()=>l.value),p=t(()=>b.value),T=t(()=>h.value&&S.value?X({attr:"aria-label",placeholder:S.value,extra:{min:u({value:m.value}),max:u({value:b.value})}}):{}),E=t(()=>r.value?"vertical":"horizontal"),R=t(()=>{if(c.value||y.value)return`${_.value}_label`}),M=t(()=>h.value?"group":void 0),F=t(()=>h.value&&v.value?X({attr:"aria-label",placeholder:v.value,extra:{min:u({value:m.value}),max:u({value:b.value})}}):{});return{buttonAriaLabelledby:R,buttonAriaOrientation:E,firstButtonAriaLabelObj:L,firstButtonAriaValueMax:A,firstButtonAriaValueMin:s,secondButtonAriaLabelObj:T,secondButtonAriaValueMax:p,secondButtonAriaValueMin:w,sliderAriaLabelObj:F,sliderRole:M}}function Je(e,{htmlIdLocal:l=t(()=>"")}){return{secondButtonHtmlId:t(()=>`${l.value}_second`)}}const q="_a_id";function We(e){const l=i(e,"data"),u=i(e,"isDataSimpleArray"),_=i(e,"keyId"),b=i(e,"max"),m=i(e,"min"),d=i(e,"step"),c=t(()=>{var A;const v=Fe(m.value,b.value+d.value,d.value),r=((A=d.value.toString().split(".")[1])==null?void 0:A.length)||0,s=[];return K(v,L=>{const w=Number(L.toFixed(r));s.push({[q]:w})}),s}),y=t(()=>{const v=[];u.value?K(l.value,s=>{H(s)||v.push({[q]:J(s)})}):K(l.value,s=>{const A=Ce(s,_.value);H(A)||v.push({[q]:J(A)})});let r=pe(v,q);if(r=Pe(r,q),!H(m.value)){const s=z(r,A=>A[q]>=m.value);s!==-1&&(r=r.slice(s))}if(!H(b.value)){const s=Oe(r,A=>A[q]<=b.value);s!==-1&&(r=r.slice(0,s+1))}return r}),h=t(()=>{var v;return(v=l.value)!=null&&v.length&&y.value.length?y.value:c.value}),B=t(()=>{var v;return(v=Ne(h.value))==null?void 0:v[q]}),S=t(()=>{var v;return(v=$e(h.value))==null?void 0:v[q]});return{dataLocal:h,maxValueDataLocal:S,minValueDataLocal:B}}function Ze(e,{dragging:l=I(!1),firstValue:u=t(()=>0),getPosition:_=()=>{},htmlIdLocal:b=t(()=>""),resetSize:m=()=>{},secondButtonHtmlId:d=t(()=>""),secondValue:c=t(()=>0),setPosition:y=()=>{},sliderSize:h=I(1)}){const B=i(e,"disabled"),S=i(e,"vertical"),v=I(0),r=I(0),s=I(!1),A=I(!1),L=I(!1),w=I(!1),p=I(0),T=I(0),E=I(0),R=I(0),M=a=>{if(!l.value)return;m();let n;S.value?(r.value=a.clientY,n=(R.value-r.value)/h.value*100):(v.value=a.clientX,n=(v.value-E.value)/h.value*100),p.value=T.value+n,y({percent:p.value,isFirstButton:!0})},F=a=>{if(!l.value)return;m();let n;S.value?(r.value=a.clientY,n=(R.value-r.value)/h.value*100):(v.value=a.clientX,n=(v.value-E.value)/h.value*100),p.value=T.value+n,y({percent:p.value,isFirstButton:!1})},D=()=>{l.value&&(setTimeout(()=>{l.value=!1,s.value=!1,Y({selector:`#${b.value}`})},0),N())},P=()=>{l.value&&(setTimeout(()=>{l.value=!1,A.value=!1,Y({selector:`#${d.value}`})},0),$())},k=()=>{document.addEventListener("mousemove",M),document.addEventListener("mouseup",D),document.addEventListener("contextmenu",D)},O=()=>{document.addEventListener("mousemove",F),document.addEventListener("mouseup",P),document.addEventListener("contextmenu",P)};function N(){document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",D),document.removeEventListener("contextmenu",D)}function $(){document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",P),document.removeEventListener("contextmenu",P)}return{draggingFirst:s,draggingSecond:A,hoveringFirst:L,hoveringSecond:w,onButtonMouseDown:(a,n=!0)=>{B.value||(a.preventDefault(),l.value=!0,n?s.value=!0:A.value=!0,S.value?R.value=a.clientY:E.value=a.clientX,T.value=_(n?{value:u.value}:{value:c.value}),n?k():O())},onButtonMouseEnter:a=>{a?L.value=!0:w.value=!0},onButtonMouseLeave:a=>{a?L.value=!1:w.value=!1},removeEventListenersFirstButton:N,removeEventListenersSecondButton:$}}function Qe(){return{clickLabel:({id:l})=>{Y({selector:`#${l}`})}}}function et(e){const l=i(e,"marks"),u=i(e,"max"),_=i(e,"min");return{markList:t(()=>l.value?Object.keys(l.value).map(parseFloat).sort((d,c)=>d-c).filter(d=>d<=u.value&&d>=_.value).map(d=>({point:d,position:(d-_.value)*100/(u.value-_.value),mark:l.value[d]})):[])}}function tt(e,{changeModel:l=()=>{},dataLocal:u=t(()=>[]),maxValueDataLocal:_=t(()=>0),minValueDataLocal:b=t(()=>0)}){const m=i(e,"disabled"),d=i(e,"height"),c=i(e,"modelValue"),y=i(e,"range"),h=i(e,"rangeAllowCross"),B=i(e,"vertical"),S=I(!1),v=I(null),r=I(null),s=I(null),A=I(1),L=t(()=>u.value.length-1),w=t(()=>L.value/100),p=({value:o})=>{if(!u.value.length)return 0;const f=z(u.value,n=>n[q]===o);return f===-1?0:f/L.value*100},T=t(()=>y.value?W(c.value)?c.value:[]:c.value),E=t(()=>y.value?T.value[0]:T.value),R=t(()=>y.value?T.value[1]:0),M=t(()=>y.value?Math.min(E.value,R.value):b.value),F=t(()=>y.value?Math.max(E.value,R.value):E.value),D=()=>{s.value&&(A.value=s.value[`client${B.value?"Height":"Width"}`])},P=({index:o,isFirstButton:f=!0})=>{var n;if(H(o)||o===-1)return;o<0?o=0:o>L.value&&(o=L.value);const a=(n=u.value)==null?void 0:n[o][q];if(y.value){const x=[...T.value];f?x[0]=a:x[1]=a,y.value&&!h.value&&(f&&a>x[1]?x[0]=x[1]:!f&&a<x[0]&&(x[1]=x[0])),l({model:x})}else l({model:a})},k=({percent:o,isFirstButton:f=!0})=>{if(o===null||isNaN(o))return;o<0?o=0:o>100&&(o=100);const a=(o*w.value).toFixed();P({index:a,isFirstButton:f})},O=o=>{if(m.value||S.value)return;D();let f;if(B.value)f=(s.value.getBoundingClientRect().bottom-o.clientY)/A.value*100;else{const n=s.value.getBoundingClientRect().left;f=(o.clientX-n)/A.value*100}if(y.value){const a=p({value:E.value}),n=p({value:R.value}),x=Math.abs(f-a),V=Math.abs(f-n);x<=V?k({percent:f,isFirstButton:!0}):k({percent:f,isFirstButton:!1})}else k({percent:f,isFirstButton:!0})},N=o=>{if(m.value||S.value)return;const f=o;if(y.value){const a=p({value:E.value}),n=p({value:R.value}),x=Math.abs(f-a),V=Math.abs(f-n);x<=V?k({percent:f,isFirstButton:!0}):k({percent:f,isFirstButton:!1})}else k({percent:f,isFirstButton:!0})},$=(o,f=!0)=>{if(m.value)return;let a=!0,n;const x=f?E.value:R.value,V=z(u.value,U=>U[q]===x);switch(o.key){case"ArrowLeft":case"ArrowDown":n=V-1;break;case"ArrowRight":case"ArrowUp":n=V+1;break;case"Home":n=0;break;case"End":n=L.value;break;case"PageDown":n=V-4;break;case"PageUp":n=V+4;break;default:a=!1;break}a&&(o.preventDefault(),n!==V&&P({index:n,isFirstButton:f}))},j=()=>{D(),y.value&&(!W(T.value)||T.value.length!==2)&&l({model:[b.value,_.value]})};return Ue(()=>[B.value,d.value],()=>{Xe(D)}),{dragging:S,firstButtonRef:v,firstValue:E,getPosition:p,initSlider:j,maxValue:F,minValue:M,modelValueLocal:T,onButtonKeyDown:$,onMarkerClick:N,onSliderClick:O,resetSize:D,secondButtonRef:r,secondValue:R,setPosition:k,sliderRef:s,sliderSize:A}}function at(e,{dataLocal:l=t(()=>[])}){const u=i(e,"showStops"),_=i(e,"vertical"),b=t(()=>1/(l.value.length-1)*100),m=t(()=>{if(!u.value)return[];const c=[];return K(l.value,(y,h)=>{if(h>0&&h<l.value.length-1){const B=h*b.value;c.push({stylesVertical:{bottom:`${B}%`},stylesHorizontal:{left:`${B}%`}})}}),c});return{getStopStyle:c=>_.value?{bottom:`${c}%`}:{left:`${c}%`},stops:m}}function lt(e,{firstValue:l=t(()=>0),getPosition:u=()=>{},secondValue:_=t(()=>0)}){const b=i(e,"height"),m=i(e,"range"),d=i(e,"vertical"),c=t(()=>u({value:l.value})),y=t(()=>u({value:_.value})),h=t(()=>d.value?{height:b.value||"100%"}:{}),B=t(()=>{const r=m.value?`${Math.abs(y.value-c.value)}%`:`${c.value}%`,s=m.value?`${c.value}%`:"0%";return d.value?{height:r,bottom:s}:{width:r,left:s}}),S=t(()=>{const r=`${c.value}%`;return d.value?{bottom:r}:{left:r}}),v=t(()=>{if(!m.value)return{};const r=`${y.value}%`;return d.value?{bottom:r}:{left:r}});return{barStyle:B,firstButtonStyle:S,runwayStyle:h,secondButtonStyle:v}}function nt(e,{firstValue:l=t(()=>0),secondValue:u=t(()=>0)}){const _=i(e,"formatValue"),b=({value:c})=>He(_.value)?`${_.value({value:c})}`:je(c)?`${c}`:"",m=t(()=>b({value:l.value})),d=t(()=>b({value:u.value}));return{firstButtonTitle:m,formatValueLocal:b,secondButtonTitle:d}}const ut={name:"ASlider",inheritAttrs:!1,props:{alwaysTranslate:{type:Boolean,required:!1},change:{type:Function,required:!1,default:()=>{}},data:{type:Array,required:!1,default:void 0},dependencies:{type:[Array,Object],required:!1,default:void 0},disabled:{type:Boolean,required:!1},errors:{type:[String,Array],required:!1,default:void 0},excludeRenderAttributes:{type:Array,required:!1,default:()=>[]},extra:{type:Object,required:!1,default:void 0},formatValue:{type:Function,required:!1,default:void 0},height:{type:String,required:!1,default:void 0},helpText:{type:String,required:!1,default:void 0},htmlId:{type:String,required:!1,default:void 0},id:{type:[String,Number],required:!1,default:()=>Ke("a_slider_")},idPrefix:{type:String,required:!1,default:void 0},isDataSimpleArray:{type:Boolean,required:!1},isHide:{type:Boolean,required:!1},isRender:{type:Boolean,required:!1,default:!0},isTitleHtml:{type:Boolean,required:!1,default:!0},keyId:{type:String,required:!1,default:void 0},keyLabel:{type:String,required:!1,default:void 0},label:{type:[String,Number],required:!1,default:void 0},labelClass:{type:[String,Object],required:!1,default:void 0},labelDescription:{type:String,required:!1,default:void 0},labelScreenReader:{type:[String,Number],required:!1,default:void 0},marks:{type:Object,required:!1,default:void 0},max:{type:Number,required:!1,default:100},min:{type:Number,required:!1,default:0},modelDependencies:{type:Object,required:!1,default:()=>({})},modelUndefined:{type:[Number,Array],required:!1,default:0},modelValue:{type:[String,Number,Array],required:!1,default:void 0},range:{type:Boolean,required:!1,default:!1},rangeAriaLabel:{type:String,required:!1,default:"_A_SLIDER_RANGE_ARIA_LABEL_{{min}}_{{max}}_"},rangeFirstButtonAriaLabel:{type:String,required:!1,default:"_A_SLIDER_RANGE_FIRST_BUTTON_ARIA_LABEL_"},rangeSecondButtonAriaLabel:{type:String,required:!1,default:"_A_SLIDER_RANGE_SECOND_BUTTON_ARIA_LABEL_"},rangeAllowCross:{type:Boolean,required:!1,default:!1},readonly:{type:Boolean,required:!1},readonlyDefault:{type:String,required:!1,default:""},required:{type:Boolean,required:!1,default:!1},showStops:{type:Boolean,required:!1},step:{type:Number,required:!1,default:1},vertical:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue","input","change"],setup(e,l){const{disabledAttribut:u}=qe(e),{attributesToExcludeFromRender:_}=De(e),{componentStyleHide:b}=ke(e),{ariaDescribedbyLocal:m,changeModel:d,errorsId:c,helpTextId:y,htmlIdLocal:h,isErrors:B,isModel:S,labelDescriptionId:v,onBlur:r,onFocus:s}=Ve(e,l),{secondButtonHtmlId:A}=Je(e,{htmlIdLocal:h}),{dataLocal:L,maxValueDataLocal:w,minValueDataLocal:p}=We(e),{clickLabel:T}=Qe(),{dragging:E,firstButtonRef:R,firstValue:M,getPosition:F,initSlider:D,maxValue:P,minValue:k,modelValueLocal:O,onButtonKeyDown:N,onMarkerClick:$,onSliderClick:j,resetSize:o,secondButtonRef:f,secondValue:a,setPosition:n,sliderRef:x,sliderSize:V}=tt(e,{changeModel:d,dataLocal:L,maxValueDataLocal:w,minValueDataLocal:p}),{firstButtonTitle:U,formatValueLocal:C,secondButtonTitle:Z}=nt(e,{firstValue:M,secondValue:a}),{draggingFirst:Q,draggingSecond:ee,hoveringFirst:te,hoveringSecond:ae,onButtonMouseDown:le,onButtonMouseEnter:ne,onButtonMouseLeave:re,removeEventListenersFirstButton:se,removeEventListenersSecondButton:ie}=Ze(e,{dragging:E,firstValue:M,getPosition:F,htmlIdLocal:h,resetSize:o,secondButtonHtmlId:A,secondValue:a,setPosition:n,sliderSize:V}),{markList:ue}=et(e),{barStyle:oe,firstButtonStyle:de,runwayStyle:ce,secondButtonStyle:ve}=lt(e,{firstValue:M,getPosition:F,secondValue:a}),{buttonAriaLabelledby:fe,buttonAriaOrientation:he,firstButtonAriaLabelObj:me,firstButtonAriaValueMax:be,firstButtonAriaValueMin:ye,secondButtonAriaLabelObj:Ae,secondButtonAriaValueMax:_e,secondButtonAriaValueMin:ge,sliderAriaLabelObj:Be,sliderRole:Se}=Ge(e,{firstValue:M,formatValueLocal:C,htmlIdLocal:h,maxValueDataLocal:w,minValueDataLocal:p,secondValue:a}),{getStopStyle:Le,stops:xe}=at(e,{dataLocal:L}),Ie=()=>S.value?e.range&&Array.isArray(O.value)?`${C(O.value[0])} - ${C(O.value[1])}`:C(O.value):e.readonlyDefault;return Ye(()=>{D()}),ze(()=>{se(),ie()}),{buttonAriaLabelledby:fe,buttonAriaOrientation:he,firstButtonAriaValueMax:be,firstButtonAriaValueMin:ye,sliderAriaLabelObj:Be,draggingFirst:Q,draggingSecond:ee,sliderRole:Se,ariaDescribedbyLocal:m,clickLabel:T,attributesToExcludeFromRender:_,barStyle:oe,componentStyleHide:b,dataLocal:L,disabledAttribut:u,firstButtonAriaLabelObj:me,errorsId:c,firstButtonRef:R,firstButtonStyle:de,firstButtonTitle:U,secondButtonAriaLabelObj:Ae,firstValue:M,secondButtonAriaValueMax:_e,secondButtonAriaValueMin:ge,formatValueLocal:C,secondButtonHtmlId:A,getStopStyle:Le,helpTextId:y,hoveringFirst:te,hoveringSecond:ae,htmlIdLocal:h,isErrors:B,isModel:S,labelDescriptionId:v,markList:ue,maxValue:P,minValue:k,modelValueLocal:O,modelValueReadonly:Ie,onBlur:r,onButtonKeyDown:N,onButtonMouseDown:le,onButtonMouseEnter:ne,onButtonMouseLeave:re,onFocus:s,onMarkerClick:$,onSliderClick:j,resetSize:o,runwayStyle:ce,secondButtonRef:f,secondButtonStyle:ve,secondButtonTitle:Z,secondValue:a,sliderRef:x,stops:xe}},render(){return this.isRender?this.readonly?g(Te,{...this.$attrs,id:this.htmlIdLocal,alwaysTranslate:this.alwaysTranslate,excludeRenderAttributes:this.excludeRenderAttributes,extra:this.extra,helpText:this.helpText,label:this.label,labelClass:this.labelClass,labelScreenReader:this.labelScreenReader,modelValue:this.modelValueReadonly(),readonlyDefault:this.readonlyDefault,required:this.required,style:this.componentStyleHide}):g("div",{...this.$attrs,style:this.componentStyleHide,...this.attributesToExcludeFromRender},[g("div",{class:["a_form_element__parent",{a_form_element__parent_not_empty:this.isModel}]},[this.label||this.labelScreenReader?g(Ee,{id:this.htmlIdLocal,alwaysTranslate:this.alwaysTranslate,clickLabel:this.clickLabel,extra:this.extra,hideFor:!0,isError:this.isErrors,label:this.label,labelClass:this.labelClass,labelScreenReader:this.labelScreenReader,required:this.required,tag:"div"}):"",g(Re,{id:this.labelDescriptionId,alwaysTranslate:this.alwaysTranslate,html:this.labelDescription,extra:this.extra,isLabelFloat:!1}),g("div",{class:"a_form_element"},[g("div",{class:["a_slider",{a_slider_vertical:this.vertical,a_slider_disabled:this.disabled,a_slider_invalid:this.isErrors}],role:this.sliderRole,...this.sliderAriaLabelObj},[g("div",{ref:"sliderRef",class:"a_slider__runway",style:this.runwayStyle,onClick:this.onSliderClick},[g("div",{class:"a_slider__bar",style:this.barStyle}),g(G,{ref:"firstButtonRef",id:this.htmlIdLocal,type:"button",tag:"div",ariaDisabled:this.disabled,classDefault:"",class:["a_slider__button",{a_slider__button_dragging:this.draggingFirst,a_slider__button_hover:this.hoveringFirst}],style:this.firstButtonStyle,tabindex:this.disabled?-1:0,title:this.firstButtonTitle,isTitleHtml:this.isTitleHtml,role:"slider","aria-valuemin":this.firstButtonAriaValueMin,"aria-valuemax":this.firstButtonAriaValueMax,"aria-valuenow":this.firstValue,"aria-valuetext":this.firstButtonTitle,"aria-orientation":this.buttonAriaOrientation,"aria-disabled":this.disabledAttribut,...this.firstButtonAriaLabelObj,onMousedown:e=>this.onButtonMouseDown(e,!0),onMouseenter:()=>this.onButtonMouseEnter(!0),onMouseleave:()=>this.onButtonMouseLeave(!0),onKeydown:e=>this.onButtonKeyDown(e,!0)},()=>[g("div",{class:"a_slider__button__child"})]),this.range&&g(G,{ref:"secondButtonRef",id:this.secondButtonHtmlId,type:"button",tag:"div",ariaDisabled:this.disabled,classDefault:"",class:["a_slider__button",{a_slider__button_dragging:this.draggingSecond,a_slider__button_hover:this.hoveringSecond}],style:this.secondButtonStyle,tabindex:this.disabled?-1:0,title:this.secondButtonTitle,isTitleHtml:this.isTitleHtml,role:"slider","aria-valuemin":this.secondButtonAriaValueMin,"aria-valuemax":this.secondButtonAriaValueMax,"aria-valuenow":this.secondValue,"aria-valuetext":this.secondButtonTitle,"aria-orientation":this.buttonAriaOrientation,"aria-disabled":this.disabledAttribut,...this.secondButtonAriaLabelObj,onMousedown:e=>this.onButtonMouseDown(e,!1),onMouseenter:()=>this.onButtonMouseEnter(!1),onMouseleave:()=>this.onButtonMouseLeave(!1),onKeydown:e=>this.onButtonKeyDown(e,!1)},()=>[g("div",{class:"a_slider__button__child"})]),this.stops.length>0?g("div",{"aria-hidden":"true",class:"a_slider__stops"},this.stops.map(e=>g("div",{class:"a_slider__stop",style:this.vertical?e.stylesVertical:e.stylesHorizontal}))):"",this.markList.length>0&&[g("div",{class:"a_slider__stops"},this.markList.map(e=>g("div",{class:["a_slider__stop","a_slider__marks-stop"],style:this.getStopStyle(e.position)}))),g("div",{class:"a_slider__marks"},this.markList.map(e=>g("div",{class:"a_slider__marks-text",style:this.getStopStyle(e.position),onClick:()=>this.onMarkerClick(e.position)},e.mark)))]])])]),g(we,{id:this.helpTextId,alwaysTranslate:this.alwaysTranslate,html:this.helpText,extra:this.extra}),this.isErrors&&g(Me,{id:this.errorsId,alwaysTranslate:this.alwaysTranslate,errors:this.errors})])]):null}};export{ut as A};
