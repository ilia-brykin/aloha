{"version":3,"file":"chunk.644.2e1e3ac264217505f441.js","mappings":"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","sources":["webpack://aloha-vue-docs/./src/views/Form/PageAJson/PageAJson.pug","webpack://aloha-vue-docs/../src/const/frameworks.js","webpack://aloha-vue-docs/../src/AJson/AJson.js","webpack://aloha-vue-docs/./src/views/Form/PageAJson/PageAJson.js","webpack://aloha-vue-docs/../src/API/frameworksApi.js","webpack://aloha-vue-docs/./src/views/Form/PageAJson/PageAJson.vue"],"sourcesContent":["<div><h1>Form element</h1><h2>Input</h2><a-json id=\"input1\" v-model=\"model1\" label=\"JSON\" :required=\"true\"></a-json><pre>model1: {{ model1 }}</pre></div>","export default [\n  \"bootstrap\",\n  \"bulma\",\n  \"foundation\",\n  \"uikit\",\n];\n","import {\n  h,\n} from \"vue\";\n\nimport AFormElementBtnClear from \"../AFormElement/AFormElementBtnClear/AFormElementBtnClear\";\nimport ALabel from \"../ui/ALabel/ALabel\";\nimport ATranslation from \"../ATranslation/ATranslation\";\n\nimport {\n  frameworksApi,\n} from \"../API/frameworksApi\";\n\nimport autosize from \"../utils/autosize\";\nimport frameworks from \"../const/frameworks\";\n\n\nimport {\n  isUndefined,\n} from \"lodash-es\";\n\n\nexport default {\n  name: \"AJson\",\n  components: {\n    AFormElementBtnClear,\n    ALabel,\n    ATranslation,\n  },\n  props: {\n    clearButtonClass: {\n      type: [String, Object],\n      required: false,\n    },\n    disabled: {\n      type: Boolean,\n      required: false,\n    },\n    id: {\n      type: String,\n      required: true,\n    },\n    inputAttributes: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n    inputClass: {\n      required: false,\n    },\n    isClearButton: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    isError: {\n      type: Boolean,\n      default: false,\n    },\n    label: {\n      type: String,\n      required: false,\n    },\n    labelClass: {\n      required: false,\n    },\n    maxlength: {\n      type: String,\n      required: false,\n    },\n    options: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n    required: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    modelValue: {\n      type: [String, Number, Object, Array],\n      required: false,\n    },\n    framework: {\n      type: String,\n      required: false,\n      validator: framework => frameworks.indexOf(framework) !== -1,\n    },\n    nullValue: {\n      required: false,\n      default: \"\",\n    },\n    isScalable: {\n      type: Boolean,\n      required: false,\n    },\n    rows: {\n      type: [String, Number],\n      required: false,\n    },\n  },\n  emits: [\n    \"update:modelValue\",\n    \"change\",\n  ],\n  setup(props) {\n    const {\n      frameworkLocal,\n    } = frameworksApi(props);\n    return {\n      frameworkLocal,\n    };\n  },\n  data() {\n    return {\n      jsonString: undefined,\n      jsonStringInput: undefined,\n      initialModelValue: undefined,\n      isAutosizeStarted: undefined,\n      parseError: undefined,\n    };\n  },\n  computed: {\n    disabledLocal() {\n      return this.disabled || false;\n    },\n\n    isClearButtonLocal() {\n      if (!isUndefined(this.isClearButton)) {\n        return this.isClearButton;\n      }\n      return true;\n    },\n\n    isModel() {\n      return !!(this.modelValue || this.modelValue === 0);\n    },\n\n    inputClassLocal() {\n      if (this.frameworkLocal) {\n        const INPUT_CLASS_FRAMEWORK = {\n          bootstrap: \"form-control\",\n          bulma: \"input\",\n          foundation: \"\",\n          uikit: \"uk-input\",\n        };\n        return INPUT_CLASS_FRAMEWORK[this.frameworkLocal];\n      }\n    },\n\n    requiredLocal() {\n      return this.required || false;\n    },\n\n    ariaRequired() {\n      return `${ this.requiredLocal }`;\n    },\n\n    ariaInvalid() {\n      if (this.isError) {\n        return \"true\";\n      }\n    },\n\n    disabledClearButton() {\n      return this.disabledLocal || !this.isModel;\n    },\n\n    rowsLocal() {\n      if (this.rows) {\n        return this.rows;\n      }\n      if (this.isScalable) {\n        return 1;\n      }\n    },\n\n    isFormatJsonButtonDisabled() {\n      return !!this.parseError;\n    },\n  },\n  created() {\n    this.setInitialValue();\n    this.onJSONtoString();\n  },\n  mounted() {\n    this.initAutosize();\n  },\n  beforeUnmount() {\n    this.destroyAutosize();\n  },\n  methods: {\n    setInitialValue() {\n      this.initialModelValue = this.modelValue || \"\";\n    },\n\n    onJSONtoString() {\n      if (this.modelValue) {\n        this.jsonString = JSON.stringify(this.modelValue, undefined, 2);\n      } else {\n        this.jsonString = \"\";\n      }\n      this.jsonStringInput = this.jsonString;\n      this.parseError = undefined;\n    },\n\n    initAutosize() {\n      if (this.isScalable) {\n        autosize(this.$refs.textarea);\n        this.isAutosizeStarted = true;\n      }\n    },\n\n    stringToJSON($event) {\n      const value = $event.target.value;\n      if (!value || value.length === 0) {\n        this.changeModel({\n          modelValue: this.nullValue,\n          $event,\n        });\n      } else {\n        try {\n          const MODEL = JSON.parse(value);\n          this.jsonString = JSON.stringify(MODEL, undefined, 2);\n          this.parseError = undefined;\n          this.changeModel({\n            modelValue: MODEL,\n            $event,\n          });\n        } catch (e) {\n          this.parseError = e.toString();\n        }\n      }\n      this.jsonStringInput = value;\n    },\n\n    onInput($event) {\n      if (this.disabledLocal) {\n        return;\n      }\n      let value = $event.target.value;\n      if (!value) {\n        value = this.nullValue;\n      }\n      this.changeModel({\n        modelValue: value,\n        $event,\n      });\n    },\n\n    changeModel({ modelValue, $event }) {\n      this.$emit(\"update:modelValue\", modelValue);\n      this.$emit(\"change\", {\n        model: modelValue,\n        props: this.$props,\n        $event,\n      });\n    },\n\n    clearModel() {\n      if (this.disabledClearButton) {\n        return;\n      }\n      this.changeModel({\n        modelValue: this.nullValue,\n      });\n      setTimeout(() => {\n        autosize.update(this.$refs.textarea);\n      });\n    },\n\n    destroyAutosize() {\n      if (this.isAutosizeStarted) {\n        autosize.destroy(this.$refs.textarea);\n      }\n    },\n\n    formatJson() {\n      try {\n        this.jsonStringInput = JSON.stringify(JSON.parse(this.jsonStringInput), undefined, 2);\n      } catch (e) {\n        this.parseError = e.toString();\n      }\n    },\n\n    resetJson($event) {\n      this.changeModel({ modelValue: this.initialModelValue, $event });\n      setTimeout(() => this.onJSONtoString());\n    },\n  },\n  render() {\n    return h(\"div\", {\n      class: \"a_form_element__parent\",\n    }, [\n      this.label && h(ALabel, {\n        id: this.id,\n        label: this.label,\n        labelClass: this.labelClass,\n        required: this.required,\n      }),\n      h(\"div\", {}, [\n        h(\"button\", {\n          disabled: this.isFormatJsonButtonDisabled,\n          onClick: this.formatJson,\n        }, [\n          \"format\",\n        ]),\n        h(\"button\", {\n          title: \"Eingabe aktuellen Wert zurücksetzen\",\n          onClick: this.onJSONtoString,\n        }, [\n          \"JSONtoString\",\n        ]),\n        h(\"button\", {\n          title: \"ALLE Änderungen verwefen\",\n          onClick: this.resetJson,\n        }, [\n          \"reset\",\n        ]),\n      ]),\n      h(\"div\", {\n        class: \"a_form_element\",\n      }, [\n        h(\"textarea\", {\n          id: this.id,\n          ref: \"textarea\",\n          value: this.jsonStringInput,\n          rows: this.rowsLocal,\n          class: [\n            \"a_textarea\",\n            this.inputClass,\n            this.inputClassLocal,\n            {\n              a_textarea_scalable: this.isScalable,\n              a_form_element_with_btn_close: this.isClearButtonLocal,\n            },\n          ],\n          disabled: this.disabledLocal,\n          \"aria-required\": this.ariaRequired,\n          \"aria-invalid\": this.ariaInvalid,\n          maxlength: this.maxlength,\n          ...this.inputAttributes,\n          onInput: this.stringToJSON,\n        }),\n        this.isClearButtonLocal && h(AFormElementBtnClear, {\n          disabled: this.disabledClearButton,\n          clearButtonClass: this.clearButtonClass,\n          onClear: this.clearModel,\n        }),\n      ]),\n      this.parseError && h(\"div\", {}, [\n        this.parseError,\n      ]),\n    ]);\n  },\n};\n","import AJson from \"../../../../../src/AJson/AJson\";\n\n\nexport default {\n  name: \"PageAJson\",\n  components: {\n    AJson,\n  },\n  data() {\n    return {\n      model1: {\n        aloha: {\n          hola: [\"aloha\"],\n        },\n      },\n    };\n  },\n};\n","import {\n  computed,\n  inject,\n  toRef,\n} from \"vue\";\n\nexport function frameworksApi(props) {\n  const framework = toRef(props, \"framework\");\n  const $aloha = inject(\"$aloha\", \"{}\");\n  const frameworkInject = inject(\"framework\", undefined) || {};\n  const frameworkLocal = computed(() => framework.value || frameworkInject.value || $aloha.framework || \"bootstrap\");\n  const isBootstrap = computed(() => frameworkLocal.value === \"bootstrap\");\n  const isFoundation = computed(() => frameworkLocal.value === \"foundation\");\n\n  return {\n    frameworkLocal,\n    isBootstrap,\n    isFoundation,\n  };\n}\n","import { render } from \"./PageAJson.pug?vue&type=template&id=70cb1e24&lang=pug&external\"\nimport script from \"./PageAJson.js?vue&type=script&lang=js&external\"\nexport * from \"./PageAJson.js?vue&type=script&lang=js&external\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["name","components","AJson","AFormElementBtnClear","ALabel","ATranslation","props","clearButtonClass","type","String","Object","required","disabled","Boolean","id","inputAttributes","default","inputClass","isClearButton","isError","label","labelClass","maxlength","options","modelValue","Number","Array","framework","validator","frameworks","indexOf","nullValue","isScalable","rows","emits","setup","frameworkLocal","$aloha","frameworkInject","undefined","value","isBootstrap","isFoundation","frameworksApi","data","jsonString","jsonStringInput","initialModelValue","isAutosizeStarted","parseError","computed","disabledLocal","this","isClearButtonLocal","isUndefined","isModel","inputClassLocal","bootstrap","bulma","foundation","uikit","requiredLocal","ariaRequired","ariaInvalid","disabledClearButton","rowsLocal","isFormatJsonButtonDisabled","created","setInitialValue","onJSONtoString","mounted","initAutosize","beforeUnmount","destroyAutosize","methods","JSON","stringify","autosize","$refs","textarea","stringToJSON","$event","target","length","MODEL","parse","changeModel","e","toString","onInput","$emit","model","$props","clearModel","setTimeout","update","destroy","formatJson","resetJson","render","h","class","onClick","title","ref","a_textarea_scalable","a_form_element_with_btn_close","onClear","model1","aloha","hola"],"sourceRoot":""}