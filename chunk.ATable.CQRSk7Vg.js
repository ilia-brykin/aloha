import{Z as ae,Q as Qe,$ as ve,b as Z,a0 as rl,a1 as de,a2 as ul,a3 as pe,a4 as ue,G as Y,l as K,A as q,m as dl,a as te,a5 as Ye,a6 as cl,g as Le,a7 as be,e as Ze,d as He,i as _l,a8 as Je,E as Ce,j as hl,a9 as bl,aa as fl,ab as vl}from"./bundle.index.nIhxAj4P.js";import{g as G,c as Q,X as ml,j as H,a as se,h as z,f as B,m as W,o as et,Y as pl,l as xe,Z as Se,G as wl,n as ie,I as Oe,N as tt,S as lt,b as Pe,d as we,_ as Al,M as ee,$ as gl,V as Ge,P as Cl,s as ot,T as $e,H as it,R as Sl,Q as Il,u as Tl}from"./chunk.vendor-lodash.ClBXVCWL.js";import{w as st,h as a,t as r,a as o,b as ne,r as T,v as O,q as De,n as Ae,m as Me,y as V}from"./chunk.vendor.D-Y3mz6a.js";import{i as Rl}from"./chunk.utilsMath.7PmiGUbm.js";import{A as yl,b as Ee,j as Ll,f as xl}from"./chunk.AForm.DQGeW1Bh.js";const Ie={name:"AGet",props:{keyLabel:{type:[String,Array],required:!0,info:"Weg zu Informationen. Z.B.('a[0].b.c', 'vertrag.antrag_obj.pk', ['vertrag', aloha, 'pk'])"},data:{type:[String,Number,Boolean,Array,Object,Date,Function,Symbol],required:!1,default:void 0,info:"Haupt-Objekt oder -Array, wo man sucht"},tag:{type:String,required:!1,default:"span",info:"Semantisch-relevanter HTML-Tag.(span, div, ...)"},defaultValue:{type:[String,Number,Boolean,Array,Object,Date,Function,Symbol],required:!1,default:void 0,info:"Standardwert, wenn Lodash-Funktion 'get' undefined zurückschickt"},filter:{type:String,required:!1,default:void 0},filterParameters:{type:[Object,String,Number,Boolean],required:!1,default:()=>{}},replacedWithDefault:{type:[String,Number,Boolean,Array,Object,Date,Function,Symbol],required:!1,default:void 0,info:"Wenn das Wert, das Lodash-Funktion 'get' zurückschickt, === this.replacedWithDefault, dann this.defaultValue"}},setup(){return ae()},computed:{valueLocal(){let e=G(this.data,this.keyLabelLocal);if(Q(e)&&(e=this.defaultValue),this.isValueEqualsWithValueThenDefaultValue(e))return this.defaultValue;if(this.filter){const t=`filter${ml(this.filter)}`;if(H(this[t]))return this[t](e,this.filterParameters);console.warn(`filter "${t}" ist not defined`)}return e},keyLabelLocal(){return se(this.keyLabel)?this.keyLabel.join("."):this.keyLabel}},methods:{isValueEqualsWithValueThenDefaultValue(e){if(z(this.replacedWithDefault))return!1;let t=!1;return se(this.replacedWithDefault)?B(this.replacedWithDefault,l=>{if(l===e)return t=!0,!1}):this.replacedWithDefault===e&&(t=!0),t}},render(){return st(a(this.tag),[[Qe,this.valueLocal]])}};function Ol(e){const t=r(e,"isLast"),l=r(e,"hasDropdownActions"),i=r(e,"hasDividerBeforeDropdown"),s=o(()=>t.value&&l.value),n=o(()=>s.value&&!i.value);return{isDropdownActionsAfterGroup:o(()=>s.value&&i.value),isDropdownActionsInGroup:n}}const Pl={name:"AGroupButtonDropdownItem",props:{actionsClasses:{type:Array,required:!0},actionsIds:{type:Array,required:!0},actionsDropdown:{type:Array,required:!0},btnGroupClass:{type:[String,Array,Object],required:!1,default:"a_btn_group"},data:{type:Object,required:!0},disabled:{type:Boolean,required:!1},dropdownAttributes:{type:Object,required:!0},hasDividerBeforeDropdown:{type:Boolean,required:!0},hasDropdownActions:{type:Boolean,required:!0},isLast:{type:Boolean,required:!0}},setup(e){const{isDropdownActionsAfterGroup:t,isDropdownActionsInGroup:l}=Ol(e);return{isDropdownActionsAfterGroup:t,isDropdownActionsInGroup:l}},render(){return[!!this.data.children.length&&a("div",{class:this.btnGroupClass},[...this.data.children.map(e=>{let t=e.classButton?e.classButton:this.actionsClasses[e.actionNotDividerIndex];e.classExtra&&(t=ve({class1:t,class2:e.classExtra}));const l=e.id?e.id:this.actionsIds[e.actionNotDividerIndex],i=this.disabled||e.disabled;if(e.type==="button")return a(Z,{...e,id:l,class:t,classButton:void 0,classExtra:void 0,disabled:i,onClick:e.callback,callback:void 0,actionNotDividerIndex:void 0,isHidden:void 0});if(e.type==="link")return a(rl,{...e,id:l,classButton:void 0,classExtra:void 0,disabled:i,class:t,actionNotDividerIndex:void 0,isHidden:void 0,type:void 0});if(e.type==="template"&&e.slotName&&this.$slots[e.slotName])return this.$slots[e.slotName]({id:l,class:t,action:e})}),this.isDropdownActionsInGroup&&a(de,{isHideWithoutActionAndSlot:!0,actions:this.actionsDropdown,disabled:this.disabled,...this.dropdownAttributes},this.$slots)]),this.isDropdownActionsAfterGroup&&a(de,{isHideWithoutActionAndSlot:!0,actions:this.actionsDropdown,disabled:this.disabled,...this.dropdownAttributes},this.$slots)]}};function Dl(e){const t=r(e,"actions"),l=r(e,"indexFirstDropdownAction"),i=r(e,"indexFirstDropdownActionMobile"),s=r(e,"minDropdownActions"),{isMobileWidth:n}=pe(),u=o(()=>ul({actions:t.value})),f=o(()=>{const m=W(u.value);return B(m,h=>{h.classButton=ve({class1:h.classButton,class2:h.class}),h.class=ve({class1:h.classDropdown,class2:h.class}),delete h.classDropdown,h.classExtra&&(h.class=ve({class1:h.classExtra,class2:h.class}))}),m}),d=o(()=>n.value?i.value:l.value),v=({actions:m=[],minCountActions:h=0})=>{let A=0;return B(m,S=>{if(A>=h)return!1;S.type!=="divider"&&A++}),A>=h},_=o(()=>{const m=W(f.value),h={buttons:[],dropdown:[]};let A=0,S=!0;return B(m,(g,w)=>{if(A===d.value){const C=m.slice(w,m.length);if(v({actions:C,minCountActions:s.value}))return h.dropdown=m.splice(w,m.length),d.value===0&&h.buttons.push({type:"group",children:[]}),!1}g.type!=="divider"?(g.actionNotDividerIndex=A,A++,S?h.buttons.push({type:"group",children:[g]}):et(h.buttons).children.push(g),S=!1):S=!0}),h}),p=o(()=>_.value.dropdown.length>0),b=o(()=>f.value.length>0);return{actionsAllWithClassesFiltered:f,actionsGrouped:_,hasActionsAllFiltered:b,hasDropdownActions:p}}const Te={name:"AGroupButtonDropdown",props:{actions:{type:Array,required:!1,default:()=>[]},actionsClasses:{type:Array,required:!1,default:()=>ue.value.propsDefault.actionsClasses},actionsIds:{type:Array,required:!1,default:()=>[]},btnGroupClass:{type:[String,Array,Object],required:!1,default:"a_btn_group"},disabled:{type:Boolean,required:!1},dropdownAttributes:{type:Object,required:!1,default:()=>ue.value.propsDefault.dropdownAttributes},hasDividerBeforeDropdown:{type:Boolean,required:!1,default:()=>ue.value.propsDefault.hasDividerBeforeDropdown},indexFirstDropdownAction:{type:Number,required:!1,default:()=>ue.value.propsDefault.indexFirstDropdownAction,validator:e=>e>=-1},indexFirstDropdownActionMobile:{type:Number,required:!1,default:()=>ue.value.propsDefault.indexFirstDropdownActionMobile,validator:e=>e>=-1},minDropdownActions:{type:Number,required:!1,default:()=>ue.value.propsDefault.minDropdownActions},innerFlagHasActions:{type:Boolean,required:!1}},emits:["update:innerFlagHasActions"],setup(e,{emit:t}){const{actionsAllWithClassesFiltered:l,actionsGrouped:i,hasActionsAllFiltered:s,hasDropdownActions:n}=Dl(e);return ne(s,u=>{t("update:innerFlagHasActions",u)},{immediate:!0}),{actionsAllWithClassesFiltered:l,actionsGrouped:i,hasActionsAllFiltered:s,hasDropdownActions:n}},render(){if(this.hasActionsAllFiltered)return a("div",{class:"aloha_group_btn_dropdown"},[...this.actionsGrouped.buttons.map((e,t)=>a(Pl,{btnGroupClass:this.btnGroupClass,data:e,disabled:this.disabled,actionsDropdown:this.actionsGrouped.dropdown,hasDropdownActions:this.hasDropdownActions,dropdownAttributes:this.dropdownAttributes,actionsClasses:this.actionsClasses,actionsIds:this.actionsIds,isLast:t===this.actionsGrouped.buttons.length-1,hasDividerBeforeDropdown:this.hasDividerBeforeDropdown},this.$slots))])}};function Ml(e,{currentItem:t=o(()=>1),maxItems:l=o(()=>1)}){const i=r(e,"disabled"),s=o(()=>i.value||t.value===1),n=o(()=>i.value||t.value===l.value);return{disabledButtonFirstPage:s,disabledButtonLastPage:n}}function El(e){const t=r(e,"paginationMaxItems"),l=r(e,"offset"),i=r(e,"limit"),s=r(e,"totalRowsCount"),n=o(()=>Rl(t.value)),u=o(()=>(l.value/i.value>>0)+1),f=o(()=>pl(s.value/i.value)),d=o(()=>Math.floor(t.value/2)),v=o(()=>t.value*2-1),_=({currentItemIndex:b,paginationLength:m})=>{let h=-1,A=m+1;const S=d.value,g=v.value;if(b<=S?(h=0,A=t.value):b>=g-(S+1)?(h=g-t.value,A=g):n.value?(h=b-S+1,A=b+S+1):(h=b-S,A=b+S+1),A>m){const w=A-m;A=m+1,h=h-w,h<0&&(h=0)}return{indexStart:h,indexEnd:A}},p=o(()=>{const b=[];let m=-1;for(let S=t.value-1;S>-t.value;S--){const g=u.value-S;g>0&&g<=f.value&&b.push(g),S===0&&(m=b.length-1)}const{indexStart:h,indexEnd:A}=_({currentItemIndex:m,paginationLength:b.length});return b.slice(h,A)});return{currentItem:u,maxItems:f,paginationItems:p}}function Bl(e,{emit:t},{currentItem:l=o(()=>1),disabledButtonFirstPage:i=o(()=>!1),disabledButtonLastPage:s=o(()=>!1),maxItems:n=o(()=>1)}){const u=r(e,"disabled"),f=r(e,"limit"),d=r(e,"offset"),v=C=>{if(u.value||C===l.value)return;const I=(C-1)*f.value;t("update:offset",I)},_=()=>{i.value||t("update:offset",0)},p=()=>{i.value||t("update:offset",d.value-f.value)},b=()=>{s.value||t("update:offset",(n.value-1)*f.value)},m=()=>{s.value||t("update:offset",d.value+f.value)};return{keyDownUpdateOffset:(C,I)=>{(C.keyCode===Y.enter||C.keyCode===Y.space)&&(v(I),C.stopPropagation(),C.preventDefault())},keyDownUpdateOffsetFirst:C=>{(C.keyCode===Y.enter||C.keyCode===Y.space)&&(_(),C.stopPropagation(),C.preventDefault())},keyDownUpdateOffsetLast:C=>{(C.keyCode===Y.enter||C.keyCode===Y.space)&&(b(),C.stopPropagation(),C.preventDefault())},keyDownUpdateOffsetNext:C=>{(C.keyCode===Y.enter||C.keyCode===Y.space)&&(m(),C.stopPropagation(),C.preventDefault())},keyDownUpdateOffsetPrevious:C=>{(C.keyCode===Y.enter||C.keyCode===Y.space)&&(p(),C.stopPropagation(),C.preventDefault())},updateOffset:v,updateOffsetFirst:_,updateOffsetLast:b,updateOffsetNext:m,updateOffsetPrevious:p}}const kl={name:"APaginationPages",props:{disabled:{type:Boolean,required:!1},limit:{type:Number,required:!0},mode:{type:String,required:!1,default:"normal",validator:e=>["normal","short","loadMore"].indexOf(e)!==-1},offset:{type:Number,required:!0},paginationMaxItems:{type:Number,required:!1,default:5,validator:e=>xe(e)&&e>0},totalRowsCount:{type:Number,required:!0}},emits:["update:offset"],setup(e,t){const{currentItem:l,maxItems:i,paginationItems:s}=El(e),{disabledButtonFirstPage:n,disabledButtonLastPage:u}=Ml(e,{currentItem:l,maxItems:i}),{keyDownUpdateOffset:f,keyDownUpdateOffsetFirst:d,keyDownUpdateOffsetLast:v,keyDownUpdateOffsetNext:_,keyDownUpdateOffsetPrevious:p,updateOffset:b,updateOffsetFirst:m,updateOffsetLast:h,updateOffsetNext:A,updateOffsetPrevious:S}=Bl(e,t,{currentItem:l,disabledButtonFirstPage:n,disabledButtonLastPage:u,maxItems:i});return{currentItem:l,disabledButtonFirstPage:n,disabledButtonLastPage:u,keyDownUpdateOffset:f,keyDownUpdateOffsetFirst:d,keyDownUpdateOffsetLast:v,keyDownUpdateOffsetNext:_,keyDownUpdateOffsetPrevious:p,maxItems:i,paginationItems:s,updateOffset:b,updateOffsetFirst:m,updateOffsetLast:h,updateOffsetNext:A,updateOffsetPrevious:S}},render(){return a(q,{tag:"nav",class:"a_pagination__nav","aria-label":"_A_PAGINATION_NAVIGATION_"},{default:()=>this.mode==="loadMore"?a(K,{class:"a_btn a_btn_primary",text:"Load more",type:"button"}):[a("ul",{class:"a_pagination"},[this.mode!=="short"?a("li",{class:["a_pagination__item",{disabled:this.disabledButtonFirstPage}]},[a(K,{class:"a_pagination__item__link",iconLeft:"DoubleAngleLeft",role:"button",tabindex:this.disabledButtonFirstPage?-1:0,tag:"a",textScreenReader:"_A_PAGINATION_FIRST_PAGE_",title:"_A_PAGINATION_FIRST_PAGE_",type:"button",onClick:this.updateOffsetFirst,onKeydown:this.keyDownUpdateOffsetFirst})]):"",a("li",{class:["a_pagination__item",{disabled:this.disabledButtonFirstPage}]},[a(K,{class:"a_pagination__item__link",iconLeft:"AngleLeft",role:"button",tabindex:this.disabledButtonFirstPage?-1:0,tag:"a",textScreenReader:"_A_PAGINATION_PREVIOUS_PAGE_",title:"_A_PAGINATION_PREVIOUS_PAGE_",type:"button",onClick:this.updateOffsetPrevious,onKeydown:this.keyDownUpdateOffsetPrevious})]),this.mode==="short"?a("li",{class:"a_pagination__item"},[a(q,{class:"a_pagination__item__link disabled",html:"_A_PAGINATION_MOBILE_{{currentPage}}_{{allPages}}_",extra:{currentPage:this.currentItem,allPages:this.maxItems}})]):this.paginationItems.map(e=>{const t=e===this.currentItem;return a("li",{class:["a_pagination__item",{active:t,disabled:this.disabled}]},[a(K,{"aria-current":t?!0:void 0,class:"a_pagination__item__link",extra:{page:e},role:"button",tabindex:t||this.disabled?-1:0,tag:"a",text:e,textAriaHidden:!0,textScreenReader:"_A_PAGINATION_TO_PAGE_{{page}}_",title:"_A_PAGINATION_TO_PAGE_{{page}}_",type:"button",onClick:()=>this.updateOffset(e),onKeydown:l=>this.keyDownUpdateOffset(l,e)})])}),a("li",{class:["a_pagination__item",{disabled:this.disabledButtonLastPage}]},[a(K,{class:"a_pagination__item__link",iconLeft:"AngleRight",role:"button",tabindex:this.disabledButtonLastPage?-1:0,tag:"a",textScreenReader:"_A_PAGINATION_NEXT_PAGE_",title:"_A_PAGINATION_NEXT_PAGE_",type:"button",onClick:this.updateOffsetNext,onKeydown:this.keyDownUpdateOffsetNext})]),this.mode!=="short"?a("li",{class:["a_pagination__item",{disabled:this.disabledButtonLastPage}]},[a(K,{class:"a_pagination__item__link",iconLeft:"DoubleAngleRight",role:"button",tabindex:this.disabledButtonLastPage?-1:0,tag:"a",textScreenReader:"_A_PAGINATION_LAST_PAGE_",title:"_A_PAGINATION_LAST_PAGE_",type:"button",onClick:this.updateOffsetLast,onKeydown:this.keyDownUpdateOffsetLast})]):""])]})}};function Nl(e,{emit:t}){const l=r(e,"isLoadingTable"),i=r(e,"limit"),s=o(()=>`${i.value}`),n=d=>{l.value||t("update:limit",+d)};return{changeLimit:n,changeLimitFromSelect:({model:d})=>{n(d)},keyDownChangeLimit:(d,v)=>{(d.keyCode===Y.enter||d.keyCode===Y.space)&&(n(v),d.stopPropagation(),d.preventDefault())},limitString:s}}function Fl(e){const t=r(e,"offset"),l=r(e,"rowsLength"),i=r(e,"countAllRows"),{filterCurrency:s}=ae(),n=o(()=>s(+t.value+1,{suffix:"",digits:0})),u=o(()=>s(+t.value+l.value,{suffix:"",digits:0})),f=o(()=>s(i.value,{suffix:"",digits:0}));return{extraForTranslate:o(()=>({start:n.value,current:u.value,count:f.value}))}}const ql={name:"APaginationCountPerPage",props:{countAllRows:{type:Number,required:!0},disabled:{type:Boolean,required:!1},limit:{type:Number,required:!0},limitsPerPage:{type:Array,required:!1,default:()=>["10","25","50","100"]},mode:{type:String,required:!1,default:"group",validator:e=>["inline","group","select"].indexOf(e)!==-1},offset:{type:Number,required:!0},rowsLength:{type:Number,required:!0},showTextCountFromTo:{type:Boolean,required:!1,default:!0}},emits:["update:limit"],setup(e,t){const{changeLimit:l,changeLimitFromSelect:i,keyDownChangeLimit:s,limitString:n}=Nl(e,t),{extraForTranslate:u}=Fl(e);return{changeLimit:l,changeLimitFromSelect:i,extraForTranslate:u,keyDownChangeLimit:s,limitString:n}},render(){return a("div",{class:"a_pagination__counts"},this.mode==="inline"||this.mode==="group"?[this.showTextCountFromTo?a(q,{class:"a_pagination__count_from_to",html:"_A_COUNT_PER_PAGE_{{start}}_{{current}}_{{count}}_",extra:this.extraForTranslate}):"",a(q,{tag:"span",class:"a_pagination__count__text",html:"_A_COUNT_PER_PAGE_"}),this.mode==="inline"?a("div",{class:"a_pagination__count"},[this.limitsPerPage.map(e=>{const t=+e===this.limit;return a("div",{class:"a_pagination__count__item"},[a(K,{"aria-current":t?!0:void 0,class:"a_btn a_btn_link a_pagination__count__button",disabled:t||this.disabled,extra:{count:e},text:e,textAriaHidden:!0,textScreenReader:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",title:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",type:"button",onClick:()=>this.changeLimit(e)})])})]):a("ul",{class:"a_pagination a_pagination_group"},[this.limitsPerPage.map(e=>{const t=+e===this.limit;return a("li",{class:["a_pagination__item",{active:t}]},[a(K,{"aria-current":t?!0:void 0,class:"a_pagination__item__link",disabled:this.disabled,extra:{count:e},role:"button",tabindex:t||this.disabled?-1:0,tag:"a",text:e,textAriaHidden:!0,textScreenReader:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",title:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",type:"button",onClick:()=>this.changeLimit(e),onKeydown:l=>this.keyDownChangeLimit(l,e)})])})])]:[this.showTextCountFromTo?a(q,{class:"a_pagination__count_from_to",html:"_A_COUNT_PER_PAGE_{{start}}_{{current}}_{{count}}_",extra:this.extraForTranslate}):"",a(dl,{label:"_A_COUNT_PER_PAGE_",labelClass:"a_sr_only",data:this.limitsPerPage,isDataSimpleArray:!0,isLabelFloat:!1,deselectable:!1,menuWidthType:"by_content",modelValue:this.limitString,disabled:this.disabled,change:this.changeLimitFromSelect})])}};function Vl(e,{isMobile:t=T(!1),updateLimit:l=()=>{},updateOffset:i=()=>{}}){const s=r(e,"modes"),n=r(e,"countAllRows"),u=r(e,"disabled"),f=r(e,"limitsPerPage"),d=r(e,"limit"),v=r(e,"offset"),_=r(e,"rowsLength"),p=r(e,"totalRowsCount"),b=r(e,"maxPages"),m=o(()=>t.value?s.value.mobile||{perPage:{mode:"select",position:0,showTextCountFromTo:!1},pagination:{mode:"short",position:1}}:s.value.desktop||{perPage:{mode:"inline",position:0,showTextCountFromTo:!0},pagination:{mode:"normal",position:1}}),h=o(()=>{const S=[];return B(m.value,(g,w)=>{S.push({...g,component:w})}),Se(S,"position")});return{components:o(()=>{const S=[];return B(h.value,g=>{g.component==="perPage"?S.push(a(ql,{countAllRows:n.value,disabled:u.value,limitsPerPage:f.value,limit:d.value,offset:v.value,rowsLength:_.value,mode:g.mode,showTextCountFromTo:g.showTextCountFromTo,"onUpdate:limit":l})):g.component==="pagination"&&S.push(a(kl,{limit:d.value,disabled:u.value,totalRowsCount:p.value,offset:v.value,paginationMaxItems:b.value,mode:g.mode,"onUpdate:offset":i}))}),S})}}function Wl(e,{emit:t}){return{updateLimit:s=>{t("update:limit",s)},updateOffset:s=>{t("update:offset",s)}}}const Ul={name:"APagination",props:{countAllRows:{type:Number,required:!0},disabled:{type:Boolean,required:!1},hasRows:{type:Boolean,required:!0},limit:{type:Number,required:!0},limitsPerPage:{type:Array,required:!1,default:()=>["10","25","50","100"]},maxPages:{type:Number,required:!1,default:5,validator:e=>xe(e)&&e>0},offset:{type:Number,required:!0},rowsLength:{type:Number,required:!0},totalRowsCount:{type:Number,required:!0},modes:{type:Object,required:!1,default:()=>({desktop:{perPage:{mode:"group",position:0,showTextCountFromTo:!0},pagination:{mode:"normal",position:1}},mobile:{perPage:{mode:"select",position:0,showTextCountFromTo:!1},pagination:{mode:"short",position:1}}})}},emits:["update:limit","update:offset"],setup(e,t){const{isMobileWidth:l}=pe(),{updateLimit:i,updateOffset:s}=Wl(e,t),{components:n}=Vl(e,{isMobile:l,updateLimit:i,updateOffset:s});return{components:n,updateLimit:i,updateOffset:s}},render(){return this.hasRows?a("div",{class:"a_pagination__parent"},this.components):null}},Hl={name:"AResizer",props:{direction:{type:String,required:!0,validator:e=>["x","y"].indexOf(e)!==-1},disabled:{type:Boolean,required:!1}},emits:["mousedown","mousemove","mouseoutDocument","mouseup"],data(){return{clientHeight:0,clientWidth:0}},computed:{isDirectionX(){return this.direction==="x"},isDirectionY(){return this.direction==="y"},directionClass(){return`a_resizer_${this.direction}`},directionIcon(){if(this.direction==="x")return"OptionVertical";if(this.direction==="y")return"OptionHorizontal"},cursor(){if(this.direction==="x")return"w-resize";if(this.direction==="y")return"s-resize"},bodyClass(){return`a_resizer_${this.direction}_active__body`},attributesResizer(){const e={class:["a_resizer",this.directionClass,{a_resizer_disabled:this.disabled}],ariaHidden:!0};return this.disabled||(e.onMousedown=this.mousedown),e}},unmounted(){this.removeMouseEventListeners(),this.removeClassFromBody()},methods:{mousedown(e){this.addMouseEventListeners(),this.clientHeight=document.documentElement.clientHeight,this.clientWidth=document.documentElement.clientWidth,this.$emit("mousedown",{$event:e,clientHeight:this.clientHeight,clientWidth:this.clientWidth}),this.addClassToBody()},mousemove(e){this.$emit("mousemove",{$event:e,clientX:e.clientX,clientY:e.clientY,clientHeight:this.clientHeight,clientWidth:this.clientWidth})},mouseup(e){this.removeMouseEventListeners(),this.$emit("mouseup",{$event:e,clientHeight:this.clientHeight,clientWidth:this.clientWidth}),this.removeClassFromBody()},mouseoutDocument(e){this.removeMouseEventListeners(),this.$emit("mouseoutDocument",{$event:e,clientHeight:this.clientHeight,clientWidth:this.clientWidth}),this.removeClassFromBody()},addMouseEventListeners(){document.addEventListener("mousemove",this.mousemove),document.addEventListener("mouseup",this.mouseup),document.addEventListener("mouseleave",this.mouseoutDocument)},removeMouseEventListeners(){document.removeEventListener("mousemove",this.mousemove),document.removeEventListener("mouseup",this.mouseup),document.removeEventListener("mouseleave",this.mouseoutDocument)},addClassToBody(){document.body.classList.add(this.bodyClass)},removeClassFromBody(){document.body.classList.remove(this.bodyClass)}},render(){return a("div",this.attributesResizer,[a("div",{class:"a_resizer__line"}),a(te,{class:"a_resizer__icon",icon:this.directionIcon})])}};function Gl(e,{ariaSort:t=o(()=>({})),attributesForRoot:l=o(()=>({})),columnsStyles:i=o(()=>""),isLocked:s=o(()=>!1),isSorting:n=o(()=>!1),titlesSort:u=o(()=>[])}){const f=r(e,"column"),d=r(e,"columnIndex"),v=r(e,"hasMultipleActions"),_=O("isLoadingOptions"),p=O("isLoadingOptions"),b=o(()=>["a_table__th a_table__cell",{a_table__th_draggable:!s.value&&!p.value&&_.value,a_table__th_sorting:n.value},f.value.classHeaderParent]),m=o(()=>{const A=[];return(f.value.title||f.value.title===0)&&A.push(f.value.title),A.push(...u.value),A});return{attributesForTh:o(()=>{let A=d.value+1;return v.value&&A++,{...t.value,...l.value,"aria-colindex":A,ref:"root",role:"columnheader",class:b.value,style:i.value}}),titlesLocal:m}}function $l(e){const t=r(e,"column"),l=O("columnsVisibleAdditionalSpaceForOneGrow",0),i=o(()=>Q(t.value.grow)?1:t.value.grow);return{additionalWidthForCurrentColumn:o(()=>l.value*i.value)}}function nt(e){const t=r(e,"column"),l=O("columnWidthDefault"),{additionalWidthForCurrentColumn:i}=$l(e),s=o(()=>t.value.width||l.value),n=o(()=>s.value+i.value),u=o(()=>`width: ${n.value}px; min-width: ${n.value}px; max-width: ${n.value}px;`);return{columnsStyles:o(()=>t.value.style?`${u.value} ${t.value.style}`:u.value)}}const ze="a_table__drag_element";function at(e,{emit:t},{classOverString:l="",inDropdown:i=!1}){const s=r(e,"column"),n=r(e,"columnIndex"),u=r(e,"columnIndexDraggable"),f=O("isLoadingOptions"),d=O("isColumnsDnd"),v=T(null),_=o(()=>u.value>n.value?l:`${l}_right`),p=w=>{var C,I,L;if((C=w.target)==null||C.classList.add(ze),i){const M=((I=w.target)==null?void 0:I.offsetHeight)||30;(L=w.target)==null||L.parentElement.style.setProperty("--a_table_draggable_li_height",`${M}px`)}w.dataTransfer.effectAllowed="move",t("dragstartParent",{columnIndex:n.value})},b=w=>{var C,I;(C=w.target)==null||C.classList.remove(_.value),(I=w.target)==null||I.classList.remove(ze),t("dragendParent")},m=()=>{v.value&&v.value.classList&&v.value.classList.add(_.value),t("dragenterParent",{columnIndex:n.value})},h=w=>(w.preventDefault&&w.preventDefault(),!1),A=()=>{v.value&&v.value.classList&&v.value.classList.remove(_.value),t("dragleaveParent",{columnIndex:n.value})},S=o(()=>!!s.value.locked);return{attributesForRoot:o(()=>{const w={ref:"root"};return!S.value&&d.value&&(w.draggable=!f.value,w.onDragstart=p,w.onDragend=b,w.onDragenter=m,w.onDragover=h,w.onDragleave=A),w}),isLocked:S,root:v}}function zl(e){const t=r(e,"column"),l=r(e,"columnIndex"),i=r(e,"disabledSort"),s=r(e,"isSortingMultiColumn"),n=r(e,"modelSort"),u=r(e,"showFirstSortingSequenceNumber"),f=O("changeModelSort"),d=O("tableId"),v=o(()=>t.value.sortId),_=o(()=>!!v.value),p=o(()=>n.value.indexOf(v.value)),b=o(()=>n.value.indexOf(`-${v.value}`)),m=o(()=>p.value!==-1),h=o(()=>b.value!==-1),A=o(()=>_.value&&(m.value||h.value)),S=o(()=>{if(_.value){let c="none";return m.value?c="ascending":h.value&&(c="descending"),{"aria-sort":c}}return{}}),g=o(()=>a(te,{icon:"CaretUpFill",class:"a_table__th__sort__icon a_table__th__sort__icon_up"})),w=o(()=>a(te,{icon:"CaretDownFill",class:"a_table__th__sort__icon a_table__th__sort__icon_down"})),C=o(()=>{const c=[];return _.value&&(h.value||c.push(g.value),m.value||c.push(w.value)),c}),I=({$event:c})=>{i.value||f({$event:c,sortId:v.value})},L=o(()=>`${d.value}_th_${l.value}_screen_reader`),M=o(()=>{var c;return _.value?{type:"button",disabled:i.value,isTitleHtml:((c=Ye.value.config)==null?void 0:c.isHtmlTitleSort)||!1,"aria-describedby":L.value,onClick:I}:{tag:"span"}}),P=o(()=>{if(!(!s.value&&!A.value)&&!(n.value.length<=1&&!u.value)){if(p.value!==-1)return p.value+1;if(b.value!==-1)return b.value+1}}),x=o(()=>{const c=[];return _.value&&(c.push("_A_TABLE_SORT_TITLE_"),s.value&&c.push("_A_TABLE_SORT_TITLE_MULTI_COLUMN_")),c});return{ariaSort:S,attributesForButtonSort:M,columnTextScreenReaderId:L,iconsSortable:C,isSortable:_,isSorting:A,sequenceNumberSort:P,titlesSort:x}}const Re={name:"ATableHeaderTh",props:{column:{type:Object,required:!0},columnGroupNames:{type:Array,required:!1,default:void 0},columnIndex:{type:Number,required:!0},columnIndexDraggable:{type:Number,required:!1,default:-1},disabledSort:{type:Boolean,required:!1},hasMultipleActions:{type:Boolean,required:!0},isSortingMultiColumn:{type:Boolean,required:!1},modelSort:{type:Array,required:!1},showFirstSortingSequenceNumber:{type:Boolean,required:!1},sortingSequenceNumberClass:{type:[String,Object],required:!1}},emits:["dragendParent","dragstartParent","dragenterParent","dragleaveParent"],inject:["changeModelSort","isColumnsDnd","isLoadingOptions","isLoadingTable"],setup(e,t){const{columnsStyles:l}=nt(e),{attributesForRoot:i,isLocked:s,root:n}=at(e,t,{classOverString:"a_table__th_over",inDropdown:!1}),{ariaSort:u,attributesForButtonSort:f,columnTextScreenReaderId:d,iconsSortable:v,isSortable:_,isSorting:p,sequenceNumberSort:b,titlesSort:m}=zl(e),{attributesForTh:h,titlesLocal:A}=Gl(e,{ariaSort:u,attributesForRoot:i,columnsStyles:l,isLocked:s,isSorting:p,titlesSort:m});return{attributesForButtonSort:f,attributesForTh:h,columnTextScreenReaderId:d,columnsStyles:l,iconsSortable:v,isSortable:_,root:n,sequenceNumberSort:b,titlesLocal:A,titlesSort:m}},render(){return a("div",this.attributesForTh,[a("div",{class:["a_table__cell__child"]},[this.columnGroupNames&&a(q,{html:this.columnGroupNames,tag:"span",class:"a_sr_only"}),a(q,{id:this.columnTextScreenReaderId,text:this.titlesLocal,tag:"span",class:"a_sr_only",ariaHidden:!0}),a(Z,{class:["a_table__th__btn",this.column.class,this.column.classHeader,{"a_btn a_btn_link a_table__th__btn_sort":this.isSortable,a_table__th__btn_sequence:this.sequenceNumberSort}],iconLeft:this.column.icon,iconClass:"a_table__th__icon",extra:this.column.extra,title:this.titlesLocal,textScreenReader:this.column.textScreenReader||void 0,...this.attributesForButtonSort},()=>[this.column.label&&a(q,{html:this.column.label,tag:"span",extra:this.column.extra,class:"a_table__th__text aloha_element__ml_0",ariaHidden:!!this.column.textScreenReader}),this.isSortable&&a("span",{class:"a_table__th__sort__box aloha_element__ml_0"},[this.sequenceNumberSort&&a("span",{class:["a_table__th__sort__sequence_num",this.sortingSequenceNumberClass]},this.sequenceNumberSort),a("span",{class:"a_table__th__sort__icons"},[...this.iconsSortable])])])])])}};function jl(e,{attributesForRoot:t=o(()=>({})),isColumnVisible:l=o(()=>!1),isLocked:i=o(()=>!1),labelTranslated:s=o(()=>"")}){const n=r(e,"searchColumnModel"),u=o(()=>{if(!n.value)return!0;const d=new RegExp(wl(n.value),"gi");return`${s.value}`.search(d)!==-1});return{attributesComponent:o(()=>{const d={...t.value,class:"a_table__th__dropdown__li"};return u.value||(d.style="display: none;"),!i.value&&!l.value&&(d.class+=" a_table__th__dropdown__li_invisible"),d})}}function Xl(e,{isLocked:t=o(()=>!1)}){const l=r(e,"column"),i=r(e,"disabledOptions"),s=O("changeModelColumnsVisible"),n=O("modelColumnsVisibleLocal"),u=o(()=>l.value.id in n.value?!!n.value[l.value.id]:!l.value.hide),f=o(()=>t.value?"Lock":u.value?"EyeOpen":"EyeClose"),d=o(()=>t.value?"_A_TABLE_OPTIONS_BTN_LOCK_TITLE_":u.value?"_A_TABLE_OPTIONS_BTN_EYE_TITLE_":"_A_TABLE_OPTIONS_BTN_EYE_CLOSED_TITLE_"),v=({$event:p})=>{p.stopPropagation(),p.preventDefault();const b=W(n.value);b[l.value.id]=!u.value,s(b)};return{buttonVisibleProps:o(()=>{const p={class:"a_table__th__dropdown_item__icon",tag:"span",iconLeft:f.value,title:d.value,textScreenReader:d.value};return t.value||(p.tag="button",p.class+=" a_table__th__dropdown_item__icon_btn a_btn a_btn_link",p.onClick=v,i.value&&(p.disabled=!0)),p}),isColumnVisible:u}}function Kl(e){const t=r(e,"column"),l=r(e,"searchColumnModel"),{filterSearchHighlight:i}=ae(),s=o(()=>cl(t.value.label)?Le({placeholder:t.value.label}):t.value.label);return{labelLocal:o(()=>i(s.value,{searchModel:l.value})),labelTranslated:s}}function Ql(e){const t=r(e,"columnIndex"),l=O("changeColumnsOrdering"),i=O("columnsOrdered"),s=O("tableId"),n=({columnIndex:b,iconKey:m})=>`${s.value}_${m}_${b}`,u=({$event:b})=>{b.stopPropagation();const m=t.value-1;l({columnIndexDraggable:t.value,columnIndexOver:m}),window.isScrollDisabled||setTimeout(()=>{be({selector:`#${n({columnIndex:m,iconKey:"up"})}`})})},f=({$event:b})=>{b.stopPropagation();const m=t.value+1;l({columnIndexDraggable:t.value,columnIndexOver:m}),window.isScrollDisabled||setTimeout(()=>{const h=`#${n({columnIndex:m,iconKey:"down"})}`;be({selector:h})})},d=o(()=>n({columnIndex:t.value,iconKey:"up"})),v=o(()=>n({columnIndex:t.value,iconKey:"down"})),_=o(()=>t.value!==0&&!i.value[t.value-1].locked),p=o(()=>i.value.length-1!==t.value&&!i.value[t.value+1].locked);return{idButtonArrowDown:v,idButtonArrowUp:d,isButtonArrowDownVisible:p,isButtonArrowUpVisible:_,moveColumnDown:f,moveColumnUp:u}}const Yl={name:"ATableHeaderThActionItem",components:{AIcon:te,ATranslation:q},props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},columnIndexDraggable:{type:Number,required:!1,default:-1},disabledOptions:{type:Boolean,required:!1},searchColumnModel:{type:String,required:!0}},emits:["dragendParent","dragstartParent","dragenterParent","dragleaveParent"],inject:["changeColumnsOrdering","columnsOrdered","isColumnsDnd","isLoadingOptions","isLoadingTable","modelColumnsVisibleLocal","tableId"],setup(e,t){const{attributesForRoot:l,isLocked:i,root:s}=at(e,t,{classOverString:"a_table__th__dropdown__li_over",inDropdown:!0}),{labelLocal:n,labelTranslated:u}=Kl(e),{buttonVisibleProps:f,isColumnVisible:d}=Xl(e,{isLocked:i}),{idButtonArrowDown:v,idButtonArrowUp:_,isButtonArrowDownVisible:p,isButtonArrowUpVisible:b,moveColumnDown:m,moveColumnUp:h}=Ql(e),{attributesComponent:A}=jl(e,{attributesForRoot:l,isColumnVisible:d,isLocked:i,labelTranslated:u});return{attributesComponent:A,attributesForRoot:l,buttonVisibleProps:f,idButtonArrowDown:v,idButtonArrowUp:_,isButtonArrowDownVisible:p,isButtonArrowUpVisible:b,isLocked:i,labelLocal:n,moveColumnDown:m,moveColumnUp:h,root:s}},render(){return this.column.isRender===!1?null:a("li",this.attributesComponent,[a("div",{class:"a_dropdown__item_text a_table__th__dropdown_item"},[a("div",{class:"a_table__th__dropdown_item__child"},[a(Z,this.buttonVisibleProps),a("span",{class:"a_position_relative"},[this.column.icon&&a(te,{icon:this.column.icon,class:"a_table__th__icon"}),a(q,{tag:"span",class:"a_table__th__text",safeHtml:this.labelLocal}),this.column.title&&a(q,{title:this.column.title,ariaHidden:!0,tag:"span",class:"a_position_absolute_all"}),this.column.title&&a(q,{text:this.column.title,tag:"span",class:"a_sr_only"})]),!this.isLocked&&this.isColumnsDnd?[this.isButtonArrowUpVisible&&a(Z,{id:this.idButtonArrowUp,class:"a_sr_only_focusable a_btn a_btn_link a_p_0 a_table__th__dropdown_item__btn_arrow",disabled:this.disabledOptions,type:"button",iconLeft:"ChevronUp",title:"_A_TABLE_OPTIONS_BTN_ARROW_UP_TITLE_",textScreenReader:"_A_TABLE_OPTIONS_BTN_ARROW_UP_TITLE_",onClick:this.moveColumnUp}),this.isButtonArrowDownVisible&&a(Z,{id:this.idButtonArrowDown,class:"a_sr_only_focusable a_btn a_btn_link a_p_0 a_table__th__dropdown_item__btn_arrow",disabled:this.disabledOptions,type:"button",iconLeft:"ChevronDown",title:"_A_TABLE_OPTIONS_BTN_ARROW_DOWN_TITLE_",textScreenReader:"_A_TABLE_OPTIONS_BTN_ARROW_DOWN_TITLE_",onClick:this.moveColumnDown})]:""]),!this.isLocked&&this.isColumnsDnd&&a(te,{icon:"Dnd",class:"a_table__th__dropdown_item__icon_dnd"})])])}};function Zl(){const e=T("");return{searchColumnModel:e,updateSearchColumnModel:l=>{e.value=l}}}function rt({classOver:e="",classOverRight:t="",classOverParent:l="",inHeader:i=!1}){const s=T(void 0),n=T(void 0),u=T(void 0),f=O("changeColumnsOrdering"),d=o(()=>!Q(n.value)),v=({columnIndex:A})=>{n.value=A},_=({columnIndex:A})=>{u.value=A},p=({columnIndex:A})=>{u.value===A&&(u.value=void 0)},b=A=>{if(!(Q(n.value)||Q(u.value)))return f({columnIndexDraggable:n.value,columnIndexOver:u.value,inHeader:i}),A.stopPropagation(),!1},m=()=>{s.value.querySelectorAll(`.${l}`).forEach(S=>{S.classList.remove(e),S.classList.remove(t)})};return{columnIndexDraggable:n,dragstart:v,dragenter:_,dragleave:p,dragend:()=>{m(),n.value=void 0},drop:b,isDragstart:d,root:s}}function ut(){const e=O("columnActionsWidthMinLocal"),t=O("modelIsTableWithoutScroll");return{stylesThTd:o(()=>t.value?{}:{style:`width: ${e.value}px;`})}}function dt(e){const t={};return e.forEach(l=>{t[l.id]=!l.hide}),t}function ct({element:e,tagsName:t,classStop:l}){if(e&&e.tagName){if(t.indexOf(e.tagName)!==-1)return!0;if(e.classList.contains(l))return!1;if(e.parentElement)return ct({element:e.parentElement,tagsName:t,classStop:l})}return!1}function Jl({$event:e,classStop:t="",tagsName:l=[]}={}){return e&&e.target?ct({element:e.target,tagsName:l,classStop:t}):!1}function he({column:e,modelColumnsVisibleLocal:t}){return e.isRender===!1?!1:e.id in t?!!t[e.id]:!e.hide}function eo({column:e}){return e.isRender===!1?!1:!e.hide}function to({columnIndex:e,indexFirstScrollInvisibleColumn:t}){return Q(t)?!0:e<t}function lo({column:e,columnIndex:t,modelIsTableWithoutScroll:l,modelColumnsVisibleLocal:i,indexFirstScrollInvisibleColumn:s}){return l?he({column:e,modelColumnsVisibleLocal:i})&&to({columnIndex:t,indexFirstScrollInvisibleColumn:s}):he({column:e,modelColumnsVisibleLocal:i})}function _t({tableId:e}){return`${e}_preview_right`}function ht({tableId:e}){return`${e}_multiple_panel`}function bt({tableId:e}){return`${e}_header_label`}function me({row:e,rowIndex:t,keyId:l}){return l?G(e,l):t}function ft({rowAction:e,row:t,rowIndex:l}){return e.isHidden?!1:H(e.isHiddenCallback)?!e.isHiddenCallback({row:t,rowIndex:l}):!0}const ye={name:"ATableHeaderThAction",inject:["changeModelIsTableWithoutScroll","columnActionsWidthLocal","changeColumnsOrdering","changeModelColumnsVisible","columns","columnsOrdered","isActionIconVisible","modelIsTableWithoutScroll"],props:{disabledOptions:{type:Boolean,required:!1},isRowActionsStickyLocal:{type:Boolean,required:!0}},setup(){const{columnIndexDraggable:e,dragend:t,dragenter:l,dragleave:i,dragstart:s,drop:n,isDragstart:u,root:f}=rt({classOver:"a_table__th__dropdown__li_over",classOverRight:"a_table__th__dropdown__li_over_right",classOverParent:"a_table__th__dropdown__li",inHeader:!1}),{searchColumnModel:d,updateSearchColumnModel:v}=Zl(),{stylesThTd:_}=ut();return{columnIndexDraggable:e,dragend:t,dragenter:l,dragleave:i,dragstart:s,drop:n,isDragstart:u,root:f,searchColumnModel:d,stylesThTd:_,updateSearchColumnModel:v}},methods:{selectAllColumns(){const e={};B(this.columnsOrdered,t=>{e[t.id]=!0}),this.changeModelColumnsVisible(e)},deselectAllColumns(){const e={};B(this.columnsOrdered,t=>{e[t.id]=!!t.locked}),this.changeModelColumnsVisible(e)},resetColumns(){this.changeModelColumnsVisible(dt(this.columnsOrdered)),this.changeColumnsOrdering({reset:!0})}},render(){return a("div",{class:["a_table__th a_table__cell a_table__cell_action",{a_table__cell_action_sticky:this.isRowActionsStickyLocal}],role:"columnheader",...this.stylesThTd},[a("span",{class:"a_sr_only"},"Aktionen"),this.isActionIconVisible&&a(de,{buttonClass:"a_btn a_btn_secondary a_table__cell_action__btn",buttonTitle:"_A_TABLE_DROPDOWN_OPTIONS_TITLE_",buttonTextScreenReader:"_A_TABLE_DROPDOWN_OPTIONS_TITLE_",dropdownTag:"div",dropdownClass:"a_p_0",hasCaret:!1,isCloseByClickInside:!1,disabled:this.disabledOptions,placement:"left",menuWidth:320,inBody:!0},{button:()=>a(te,{icon:"Cog"}),dropdown:()=>[a("ul",{class:["a_table__th__dropdown__ul",{a_table__th__dropdown__ul_dragstart:this.isDragstart}],ref:"root",onDrop:this.drop},[a("li",null,[a("div",{class:"a_dropdown__item_text a_table__th__dropdown__search"},[a(Ze,{label:"Suchen",modelValue:this.searchColumnModel,isClearButton:!0,modelUndefined:"","onUpdate:modelValue":this.updateSearchColumnModel})])]),a("li",{class:"a_dropdown__divider","aria-hidden":!0}),a("li",null,[a("button",{type:"button",class:"a_dropdown__item",disabled:this.disabledOptions,onClick:this.selectAllColumns},[a(te,{icon:"CheckLg",class:"a_table__th__dropdown_item__icon"}),a("span",null,"Alle einblenden")])]),a("li",null,[a("button",{type:"button",class:"a_dropdown__item",disabled:this.disabledOptions,onClick:this.deselectAllColumns},[a(te,{icon:"Close",class:"a_table__th__dropdown_item__icon"}),a("span",null,"Alle ausblenden")])]),a("li",null,[a("button",{type:"button",class:"a_dropdown__item",disabled:this.disabledOptions,onClick:this.resetColumns},[a(te,{icon:"Reset",class:"a_table__th__dropdown_item__icon"}),a("span",null,"Zurücksetzen")])]),a("li",null,[a(yl,{class:"a_dropdown__item_text a_text_nowrap",disabled:this.disabledOptions,modelValue:this.modelIsTableWithoutScroll,trueLabel:"Kompakte Ansicht",falseLabel:"Kompakte Ansicht","onUpdate:modelValue":this.changeModelIsTableWithoutScroll})]),a("li",{class:"a_dropdown__divider","aria-hidden":!0}),this.columnsOrdered.map((e,t)=>a(Yl,{column:e,columnIndex:t,columnIndexDraggable:this.columnIndexDraggable,disabledOptions:this.disabledOptions,searchColumnModel:this.searchColumnModel,onDragstartParent:this.dragstart,onDragenterParent:this.dragenter,onDragleaveParent:this.dragleave,onDragendParent:this.dragend}))])]})])}};function vt(e,{emit:t}){const l=r(e,"areAllRowsSelected"),i=r(e,"areAllVisibleRowsSelected"),s=r(e,"areSomeRowsSelected"),n=r(e,"rowsLocalLength"),u=o(()=>!!(n.value===0||l.value)),f=o(()=>s.value&&!(i.value||l.value)),d=o(()=>i.value||l.value),v=o(()=>f.value||d.value?"_A_TABLE_DESELECT_ALL_VISIBLE_POSSIBLE_ROWS_":"_A_TABLE_SELECT_ALL_VISIBLE_POSSIBLE_ROWS_");return{isCheckboxDisabled:u,isCheckboxIndeterminate:f,labelCheckbox:v,modelValueCheckboxLocal:d,toggleCheckbox:()=>{u.value||t("setSelectedRowsIndexes",{isAll:!0})}}}const oo={name:"ATableHeader",components:{ATableHeaderTh:Re,ATableHeaderThAction:ye},props:{areAllRowsSelected:{type:Boolean,required:!0},areAllVisibleRowsSelected:{type:Boolean,required:!0},areSomeRowsSelected:{type:Boolean,required:!0},disabledOptions:{type:Boolean,required:!1},disabledSort:{type:Boolean,required:!1},hasMultipleActions:{type:Boolean,required:!0},isRowActionsStickyLocal:{type:Boolean,required:!0},isSortingMultiColumn:{type:Boolean,required:!1},modelSort:{type:Array,required:!0},rowsLocalLength:{type:Number,required:!0},showFirstSortingSequenceNumber:{type:Boolean,required:!1},sortingSequenceNumberClass:{type:[String,Object],required:!1}},emits:["setSelectedRowsIndexes"],inject:["changeColumnsOrdering","columnsFilteredForRender","isActionColumnVisible","isMobile","isMultipleActionsActive"],setup(e,t){const{columnIndexDraggable:l,dragstart:i,dragenter:s,dragleave:n,dragend:u,drop:f,isDragstart:d,root:v}=rt({classOver:"a_table__th_over",classOverRight:"a_table__th_over_right",classOverParent:"a_table__th",inHeader:!0}),{isCheckboxDisabled:_,isCheckboxIndeterminate:p,labelCheckbox:b,modelValueCheckboxLocal:m,toggleCheckbox:h}=vt(e,t);return{columnIndexDraggable:l,dragend:u,dragenter:s,dragleave:n,dragstart:i,drop:f,isCheckboxDisabled:_,isCheckboxIndeterminate:p,isDragstart:d,labelCheckbox:b,modelValueCheckboxLocal:m,root:v,toggleCheckbox:h}},render(){return this.isMobile?null:a("div",{ref:"root",role:"rowgroup",class:["a_table__head",{a_table__head_dragstart:this.isDragstart}]},[a("div",{class:"a_table__row a_table__head__row",role:"row",onDrop:this.drop},[this.isMultipleActionsActive&&a("div",{role:"columnheader",class:"a_table__th a_table__cell a_table__cell_checkbox",style:"width: 50px; min-width: 50px; max-width: 50px;","aria-colindex":1},[a(Ee,{isWidthAuto:!0,modelValue:this.modelValueCheckboxLocal,indeterminate:this.isCheckboxIndeterminate,disabled:this.isCheckboxDisabled,label:this.labelCheckbox,labelClass:"a_sr_only",isLabelTitle:!0,"onUpdate:modelValue":this.toggleCheckbox})]),this.columnsFilteredForRender.map((e,t)=>a(Re,{ref:"th",column:e,columnIndex:t,columnIndexDraggable:this.columnIndexDraggable,disabledSort:this.disabledSort,hasMultipleActions:this.hasMultipleActions,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSort,showFirstSortingSequenceNumber:this.showFirstSortingSequenceNumber,sortingSequenceNumberClass:this.sortingSequenceNumberClass,onDragstartParent:this.dragstart,onDragenterParent:this.dragenter,onDragleaveParent:this.dragleave,onDragendParent:this.dragend})),this.isActionColumnVisible&&a(ye,{disabledOptions:this.disabledOptions,isRowActionsStickyLocal:this.isRowActionsStickyLocal})])])}},io={name:"ATableGroupedHeader",props:{areAllRowsSelected:{type:Boolean,required:!0},areAllVisibleRowsSelected:{type:Boolean,required:!0},areSomeRowsSelected:{type:Boolean,required:!0},columnsForRender:{type:Array,required:!0},disabledOptions:{type:Boolean,required:!1},disabledSort:{type:Boolean,required:!1},hasMultipleActions:{type:Boolean,required:!0},isRowActionsStickyLocal:{type:Boolean,required:!0},isSortingMultiColumn:{type:Boolean,required:!1},modelSort:{type:Array,required:!0},rowsLocalLength:{type:Number,required:!0},showFirstSortingSequenceNumber:{type:Boolean,required:!1},sortingSequenceNumberClass:{type:[String,Object],required:!1}},emits:["setSelectedRowsIndexes"],inject:["changeColumnsOrdering","columnsFilteredForRender","isActionColumnVisible","isMobile","isMultipleActionsActive"],setup(e,t){const{isCheckboxDisabled:l,isCheckboxIndeterminate:i,labelCheckbox:s,modelValueCheckboxLocal:n,toggleCheckbox:u}=vt(e,t);return{isCheckboxDisabled:l,isCheckboxIndeterminate:i,labelCheckbox:s,modelValueCheckboxLocal:n,toggleCheckbox:u}},render(){return this.isMobile?null:a("div",{ref:"root",role:"rowgroup",class:"a_table__head"},[a("div",{class:"a_table__row a_table__head__row",role:"row"},[this.isMultipleActionsActive&&a("div",{role:"columnheader",class:"a_table__th a_table__cell a_table__cell_checkbox",style:"width: 50px; min-width: 50px; max-width: 50px;","aria-colindex":1},[a(Ee,{isWidthAuto:!0,modelValue:this.modelValueCheckboxLocal,indeterminate:this.isCheckboxIndeterminate,disabled:this.isCheckboxDisabled,label:this.labelCheckbox,labelClass:"a_sr_only",isLabelTitle:!0,"onUpdate:modelValue":this.toggleCheckbox})]),this.columnsForRender,this.isActionColumnVisible&&a(ye,{disabledOptions:this.disabledOptions,isRowActionsStickyLocal:this.isRowActionsStickyLocal})])])}};function so(e,{emit:t},{nextAvailableRowIndex:l,previousAvailableRowIndex:i,rowNumber:s=o(()=>0)}){const n=r(e,"countAllRows"),u=r(e,"limitPagination"),f=r(e,"offsetPagination"),d=r(e,"rowIndex"),v=r(e,"usePagination"),_=o(()=>s.value<=1||Q(i.value)),p=o(()=>s.value>=n.value||Q(l.value));return{disabledBtnArrowLeft:_,disabledBtnArrowRight:p,toNextRow:()=>{p.value||(v.value?(d.value+1)%u.value===0?(t("update:offset",{offset:f.value+u.value,reload:!1}),t("togglePreview",{rowIndex:0})):t("togglePreview",{rowIndex:l.value}):t("togglePreview",{rowIndex:l.value}))},toPreviousRow:()=>{_.value||(v.value?(d.value+1)%u.value===1?(t("update:offset",{offset:f.value-u.value,reload:!1}),t("togglePreview",{rowIndex:u.value-1})):t("togglePreview",{rowIndex:i.value}):t("togglePreview",{rowIndex:i.value}))}}}function no(){const e=O("tableId");return{idLocal:o(()=>_t({tableId:e.value}))}}function ao({emit:e},{previewRef:t=T(void 0)}){return{mousedown:({clientWidth:n})=>{e("mousedownResizePreviewRight",{clientWidth:n})},mousemove:({clientX:n})=>{e("mousemoveResizePreviewRight",{clientX:n,previewRef:t.value})},mouseup:()=>{e("mouseupResizePreviewRight",{previewRightWidth:G(t,"value.offsetWidth")})}}}function ro(e){const t=r(e,"countAllRows"),l=r(e,"disabledPreviewRowCallback"),i=r(e,"offsetPagination"),s=r(e,"rowIndex"),n=r(e,"rows"),u=r(e,"usePagination"),{filterCurrency:f}=ae(),d=o(()=>u.value?(i.value||0)+s.value+1:s.value+1),v=o(()=>n.value[s.value]),_=o(()=>{let h=null;if(!H(l.value))h=s.value===n.value.length-1?null:s.value++;else for(let A=s.value+1;A<n.value.length;A++){const S=n.value[A];if(!l.value({row:S,rowIndex:A})){h=A;break}}return h}),p=o(()=>{let h=null;if(!H(l.value))h=s.value===0?null:s.value--;else for(let A=s.value-1;A>=0;A--){const S=n.value[A];if(!l.value({row:S,rowIndex:A})){h=A;break}}return h}),b=o(()=>f(t.value,{suffix:"",digits:0})),m=o(()=>f(d.value,{suffix:"",digits:0}));return{countAllRowsFormatted:b,currentRow:v,nextAvailableRowIndex:_,previousAvailableRowIndex:p,rowNumber:d,rowNumberFormatted:m}}const uo={name:"ATablePreviewRight",props:{countAllRows:{type:Number,required:!0},disabledPreviewRowCallback:{type:Function,required:!1,default:()=>{}},isLoadingTable:{type:Boolean,required:!1},isMobile:{type:Boolean,required:!1},limitPagination:{type:Number,required:!1,default:void 0},offsetPagination:{type:Number,required:!1,default:void 0},previewStyles:{type:[String,Object],required:!1,default:void 0},rowIndex:{type:Number,required:!0},rows:{type:Array,required:!0},usePagination:{type:Boolean,required:!1}},emits:["closePreview","mousedownResizePreviewRight","mousemoveResizePreviewRight","mouseupResizePreviewRight","togglePreviewResize","togglePreview","update:offset"],inject:["isLoadingOptions"],setup(e,t){const l=r(e,"isMobile"),{previewRef:i}=Je(),{idLocal:s}=no(),{mousedown:n,mousemove:u,mouseup:f}=ao(t,{previewRef:i}),{countAllRowsFormatted:d,currentRow:v,nextAvailableRowIndex:_,previousAvailableRowIndex:p,rowNumber:b,rowNumberFormatted:m}=ro(e),{disabledBtnArrowLeft:h,disabledBtnArrowRight:A,toNextRow:S,toPreviousRow:g}=so(e,t,{nextAvailableRowIndex:_,previousAvailableRowIndex:p,rowNumber:b});return De(()=>{l.value||t.emit("togglePreviewResize",{isOpen:!0,previewRef:i.value})}),Ae(()=>{l.value||t.emit("togglePreviewResize",{isOpen:!1,previewRef:i.value})}),{countAllRowsFormatted:d,currentRow:v,disabledBtnArrowLeft:h,disabledBtnArrowRight:A,idLocal:s,mousedown:n,mousemove:u,mouseup:f,previewRef:i,rowNumber:b,rowNumberFormatted:m,toNextRow:S,toPreviousRow:g}},render(){const e=[this.isLoadingTable?a(He):a("div",{},[a(q,{class:"a_table__preview_right__header__text",tag:"span",text:"_A_TABLE_PREVIEW_RIGHT_HEADER_{{rowNumber}}_{{rowNumberFormatted}}_{{countAllRows}}_{{countAllRowsFormatted}}_",extra:{rowNumber:this.rowNumber,rowNumberFormatted:this.rowNumberFormatted,countAllRows:this.countAllRows,countAllRowsFormatted:this.countAllRowsFormatted}}),a("div",{class:"a_table__preview_right__header__icons"},[a(Z,{class:"a_btn a_btn_transparent_dark a_btn_small",disabled:this.disabledBtnArrowLeft,iconLeft:"ArrowLeft",title:"_A_TABLE_PREVIEW_RIGHT_PREVIOUS_ROW_",textScreenReader:"_A_TABLE_PREVIEW_RIGHT_PREVIOUS_ROW_",onClick:this.toPreviousRow}),a(Z,{class:"a_btn a_btn_transparent_dark a_btn_small",disabled:this.disabledBtnArrowRight,iconLeft:"ArrowRight",title:"_A_TABLE_PREVIEW_RIGHT_NEXT_ROW_",textScreenReader:"_A_TABLE_PREVIEW_RIGHT_NEXT_ROW_",onClick:this.toNextRow})])]),this.isMobile?"":a(Z,{class:"a_btn a_btn_transparent_dark a_table__preview_right__btn_close",iconLeft:"Close",iconClass:"a_table__preview_right__btn_close__icon",title:"_A_TABLE_PREVIEW_RIGHT_CLOSE_",textScreenReader:"_A_TABLE_PREVIEW_RIGHT_CLOSE_",onClick:()=>this.$emit("closePreview")})],t=[this.isLoadingTable?a(He):this.$slots.preview?this.$slots.preview({row:this.currentRow,rowIndex:this.rowIndex}):a(q,{text:"_A_TABLE_PREVIEW_RIGHT_HAS_NOT_SLOT_"})];return this.isMobile?a(_l,{hideFooter:!0,close:()=>this.$emit("closePreview"),size:"xxl"},{modalHeader:()=>e,modalBody:()=>t}):a("div",{ref:"previewRef",id:this.idLocal,class:"a_table__preview_right",style:this.previewStyles,tabindex:-1},[a(Hl,{class:"a_table__preview_right__resizer",direction:"x",disabled:this.isLoadingOptions,onMousedown:this.mousedown,onMousemove:this.mousemove,onMouseup:this.mouseup,onMouseoutDocument:this.mouseup}),a(q,{class:"a_sr_only",text:"_A_TABLE_PREVIEW_RIGHT_ARIA_LABEL_"}),a("div",{class:"a_table__preview_right__header"},e),a("div",{class:"a_table__preview_right__body"},t)])}};function co(){const e=O("tableId"),t=["additionalProps"],l=o(()=>`${e.value}_`);return{excludeRenderAttributes:t,idPrefix:l}}function _o(e){const t=r(e,"additionalSortingColumns"),l=O("columnsOrdered",[]),i=o(()=>[...ie(l.value,u=>u.sortId),...t.value]),s=o(()=>Oe(i.value,"sortId")),n=o(()=>i.value.length);return{columnsAll:i,columnsAllKeyBySortId:s,countColumnsAll:n}}function ho(e,{columnsAll:t=o(()=>[])}){const l=T(void 0),i=T(!1),s=o(()=>t.value.length>0);return{closeDropdown:()=>{var u;(u=l.value)==null||u.onClose({trigger:"click"})},dropdownRef:l,isDropdownVisible:s,wasOpenDropdown:i}}function bo(e,{columnsAll:t=o(()=>[]),columnsAllKeyBySortId:l=o(()=>({})),unappliedModelSort:i=T([])}){const s=T([]),n=[{label:"_A_TABLE_SORT_ADDITIONAL_DIRECTION_ASC_",id:"asc"},{label:"_A_TABLE_SORT_ADDITIONAL_DIRECTION_DESC_",id:"desc"}],u=o(()=>ie(t.value,d=>!tt(i.value,["sortId",d.sortId])));return{dataForForm:s,initDataForForm:()=>{const d=[];B(i.value,({sortId:v},_)=>{const p=_===0,b=W(u.value);v&&l.value[v]&&b.unshift(l.value[v]),d.push({type:"fieldset",id:`group_${v}`,label:p?"_A_TABLE_SORT_ADDITIONAL_SORT_BY_":"_A_TABLE_SORT_ADDITIONAL_THEN_BY_",children:[{id:`[${_}].sortId`,type:"select",classColumn:"a_column a_column_12_touch a_column_7_fullhd a_column_7_widescreen a_column_7_desktop",deselectable:!1,data:b,keyId:"sortId",keyLabel:"label",translateData:!0,search:!0,label:"_A_TABLE_SORT_ADDITIONAL_COLUMN_"},{id:`[${_}].sortMode`,type:"select",classColumn:"a_column a_column_12_touch a_column_5_fullhd a_column_5_widescreen a_column_5_desktop a_d_flex a_align_items_center",class:"a_width_100",deselectable:!1,data:n,keyId:"id",keyLabel:"label",translateData:!0,search:!1,label:"_A_TABLE_SORT_ADDITIONAL_DIRECTION_",slotAppend:"slotAppend",additionalProps:{index:_}}]})}),s.value=d}}}function fo(e,{closeDropdown:t=()=>{},countColumnsAll:l=o(()=>0),initDataForForm:i=()=>{},unappliedModelSort:s=T([]),wasOpenDropdown:n=T(!1)}){const u=r(e,"isSortingMultiColumn"),f=r(e,"modelSort"),d=O("changeModelSort"),v=O("tableId"),_=({model:I}={})=>{if(n.value&&!I)return;n.value=!0;const L=I||W(f.value);L.length<l.value&&L.push(void 0),u.value||L.length>1&&(L.length=1);const M=[];B(L,P=>{const x=P&&P.replace(/^-/,""),c=lt(P,"-")?"desc":"asc";M.push({sortId:x,sortMode:c})}),s.value=M,i({unappliedModelSort:M})},p=({model:I})=>!u.value||I.length>=l.value?!1:!!et(I).sortId,b=({model:I})=>{p({model:I})&&I.push({sortId:void 0,sortMode:"asc"}),s.value=I,i({unappliedModelSort:s.value})},m=({item:I})=>{var x,c;const L=I.additionalProps.index;L===s.value.length-1?s.value[L].sortId=void 0:s.value.splice(L,1);const P=s.value.length-1;(c=(x=s.value)==null?void 0:x[P])!=null&&c.sortId&&s.value.push({sortId:void 0,sortMode:"asc"}),i({unappliedModelSort:s.value})},h=()=>{const I=[];B(s.value,L=>{L.sortId&&I.push(`${L.sortMode==="asc"?"":"-"}${L.sortId}`)}),d({modelAll:I}),t()},A=({modelSort:I=[],tableId:L})=>{L===v.value&&_({model:I})},S=()=>{Ce.$on("changeTableSorting",A)},g=()=>{Ce.$off("changeTableSorting",A)},w=o(()=>{var I;return((I=f.value)==null?void 0:I.length)||0}),C=o(()=>{if(w.value)return w.value});return{changeModelSortInTable:h,countModelSort:w,destroyEventBus:g,initEventBus:S,initUnappliedModelSort:_,removeUnappliedModelSort:m,textCountModelSort:C,updateUnappliedModelSort:b}}const vo={name:"ATableSortingAdditional",props:{additionalSortingColumns:{type:Array,required:!1,default:()=>[]},disabledSort:{type:Boolean,required:!1},isSortingMultiColumn:{type:Boolean,required:!1,default:!1},modelSort:{type:Array,required:!1}},setup(e){const t=T([]),{columnsAll:l,columnsAllKeyBySortId:i,countColumnsAll:s}=_o(e),{dataForForm:n,initDataForForm:u}=bo(e,{columnsAll:l,columnsAllKeyBySortId:i,unappliedModelSort:t}),{closeDropdown:f,dropdownRef:d,isDropdownVisible:v,wasOpenDropdown:_}=ho(e,{columnsAll:l}),{changeModelSortInTable:p,countModelSort:b,destroyEventBus:m,initEventBus:h,initUnappliedModelSort:A,removeUnappliedModelSort:S,textCountModelSort:g,updateUnappliedModelSort:w}=fo(e,{closeDropdown:f,countColumnsAll:s,initDataForForm:u,unappliedModelSort:t,wasOpenDropdown:_}),{excludeRenderAttributes:C,idPrefix:I}=co();return h(),Ae(()=>{m()}),{changeModelSortInTable:p,closeDropdown:f,countModelSort:b,dataForForm:n,dropdownRef:d,excludeRenderAttributes:C,idPrefix:I,initUnappliedModelSort:A,isDropdownVisible:v,removeUnappliedModelSort:S,textCountModelSort:g,unappliedModelSort:t,updateUnappliedModelSort:w,wasOpenDropdown:_}},render(){return this.isDropdownVisible?a(de,{ref:"dropdownRef",buttonClass:"a_btn a_btn_secondary a_table__action",buttonIconLeft:"ArrowDownUp",buttonText:this.textCountModelSort,buttonTextAriaHidden:!0,buttonTitle:"_A_TABLE_SORT_ADDITIONAL_DROPDOWN_TITLE_{{count}}_",buttonTextScreenReader:"_A_TABLE_SORT_ADDITIONAL_DROPDOWN_TITLE_{{count}}_",buttonTextClass:"a_badge a_bg_primary",disabled:this.disabledSort,dropdownClass:"a_filter_horizontal__wrapper",dropdownRenderDefault:!1,dropdownTag:"div",hasCaret:!1,inBody:!0,extra:{count:this.countModelSort},isCloseByClickInside:!1,lockArrowsNavigation:!1,lockTabNavigation:!1,onOpen:this.initUnappliedModelSort},{dropdown:()=>a("div",{class:"a_filter_horizontal"},[a("div",{class:"a_filter_horizontal__header__wrapper"},[a("div",{class:"a_filter_horizontal__header"},[a("div",{class:"a_filter_horizontal__header__texts"},[a(q,{class:"a_filter_horizontal__header__texts__filter",tag:"span",text:"_A_TABLE_SORT_ADDITIONAL_HEADER_"})])])]),a("div",{class:"a_filter_horizontal__body__wrapper"},[a("div",{class:"a_filter_horizontal__body"},[a(Ll,{idPrefix:this.idPrefix,class:"a_filter_horizontal__body__form",classColumnDefault:"",classColumns:"",data:this.dataForForm,excludeRenderAttributes:this.excludeRenderAttributes,modelValue:this.unappliedModelSort,showErrors:!1,onChange:this.updateUnappliedModelSort},{slotAppend:({item:e})=>{var t,l;return a(K,{type:"button",class:"a_btn a_btn_primary a_ml_2",title:"_A_TABLE_SORT_ADDITIONAL_BTN_DELETE_",textScreenReader:"_A_TABLE_SORT_ADDITIONAL_BTN_DELETE_",disabled:!((l=(t=this.unappliedModelSort)==null?void 0:t[e.additionalProps.index])!=null&&l.sortId),iconLeft:"Close",onClick:()=>this.removeUnappliedModelSort({item:e})})}})]),a("div",{class:"a_filter_horizontal__footer"},[a("div",{class:"a_filter_horizontal__footer__actions"},[a(K,{type:"button",class:"a_btn a_btn_primary a_text_nowrap a_filter_horizontal__footer__actions__btn_search",iconLeft:"ArrowDownUp",text:"_A_TABLE_SORT_ADDITIONAL_START_",disabled:this.disabledSort,onClick:this.changeModelSortInTable}),a(K,{type:"button",class:"a_btn a_btn_secondary a_text_nowrap a_filter_horizontal__footer__actions__btn_close",text:"_A_TABLE_SORT_ADDITIONAL_CLOSE_DROPDOWN_",onClick:this.closeDropdown})])])])])}):null}};function mo(e,{emit:t}){const l=r(e,"areAllRowsSelected"),i=r(e,"closeMultipleActionsActive"),s=r(e,"multipleActions"),n=r(e,"selectedRows"),u=r(e,"tableActions"),f=O("tableId"),d=O("currentMultipleActions"),v=O("rowsLocalAll"),{closeConfirm:_,openConfirm:p}=hl(),b=o(()=>`${f.value}_btn_multiple`),m=o(()=>{const C=[];return B(W(u.value),I=>{if(!I.isHidden){if(H(I.callback)){const L=I.callback;I.callback=()=>L({id:I.id,action:I})}C.push(I)}}),C}),h=({action:C,callbackDefault:I})=>{const L=W(C);L.callback=I,t("toggleMultipleActionsActive",{isActive:!0,action:L})},A=()=>{t("toggleMultipleActionsActive",{action:d.value})},S=o(()=>{const C=W(s.value);return B(C,I=>{if(H(I.callback)){const L=I.callback;I.callback=()=>h({action:I,callbackDefault:L})}}),C}),g=async()=>{await d.value.callback({close:i.value,rows:n.value,rowsVisible:v.value,id:b.value,areAllRowsSelected:l.value,action:d.value}),_(),A()};return{buttonMultipleId:b,currentMultipleActions:d,multipleActionsFiltered:S,onCancelMultipleActions:A,onOpenModalMultipleActions:()=>{d.value.isConfirm?p({headerText:"_A_TABLE_EXECUTE_MULTIPLE_ACTION_",bodyHtml:"_A_TABLE_EXECUTE_MULTIPLE_ACTION_BODY_HTML_{{action}}_{{selectedRows}}_",saveButtonText:"_A_TABLE_EXECUTE_MULTIPLE_ACTION_BTN_SAVE_",extra:{action:Le({placeholder:d.value.text}),selectedRows:n.value.length},save:g}):d.value.callback({close:i.value,rows:n.value,rowsVisible:v.value,id:b.value,areAllRowsSelected:l.value,action:d.value})},tableActionsFiltered:m}}function po(e){const t=r(e,"countAllRows"),{filterFloat:l}=ae();return{countAllRowsFormatted:o(()=>`(${l(t.value,{digits:0})})`)}}function wo(){const e=O("tableId");return{tableLabelId:o(()=>bt({tableId:e.value}))}}function Ao(e,{emit:t}){const l=r(e,"areAllRowsSelected"),i=r(e,"areSomeRowsSelected"),s=r(e,"countAllRows"),n=r(e,"isLoadingMultipleActions"),u=r(e,"selectedRows"),f=O("tableId"),{filterFloat:d}=ae(),v=o(()=>ht({tableId:f.value})),_=o(()=>l.value?s.value:u.value.length),p=o(()=>({countSelectedRows:_.value,countSelectedRowsFiltered:d(_.value,{digits:0}),countAllRows:s.value,countAllRowsFiltered:d(s.value,{digits:0})})),b=o(()=>l.value?"_A_TABLE_DESELECT_ALL_ROWS_{{countAllRows}}_{{countAllRowsFiltered}}_":"_A_TABLE_SELECT_ALL_ROWS_{{countAllRows}}_{{countAllRowsFiltered}}_"),m=o(()=>!!(n.value||s.value===0)),h=()=>{m.value||t("toggleBtnAllRows")};return{isBtnMultipleActionDisabled:o(()=>!i.value&&!l.value),isBtnSelectAllRowsDisabled:m,multiplePanelId:v,textMultipleBtnAllRowsTranslate:b,textMultipleSelectedTranslateExtra:p,toggleBtnAllRows:h}}function go(e,{emit:t}){const l=r(e,"useViewSlot"),i=n=>{t("updateViewCurrent",n)},s=o(()=>l.value?"viewSlot":void 0);return{updateViewCurrentLocal:i,viewSlotLocal:s}}const Co={name:"ATableTopPanel",props:{additionalSortingColumns:{type:Array,required:!1,default:()=>[]},areAllRowsSelected:{type:Boolean,required:!0},areSomeRowsSelected:{type:Boolean,required:!0},closeMultipleActionsActive:{type:Function,required:!0},countAllRows:{type:Number,required:!0},disabledActions:{type:Boolean,required:!0},disabledMultipleActions:{type:Boolean,required:!0},disabledSort:{type:Boolean,required:!1},disabledViews:{type:Boolean,required:!0},extra:{type:Object,required:!1,default:void 0},hasViews:{type:Boolean,required:!0},isLabelVisible:{type:Boolean,required:!1},isLoadingMultipleActions:{type:Boolean,required:!1},isQuickSearch:{type:Boolean,required:!1},isSortingMultiColumn:{type:Boolean,required:!1,default:!1},label:{type:[String,Number],required:!1,default:""},labelClass:{type:[String,Object],required:!1,default:void 0},labelTag:{type:String,required:!0},modelQuickSearch:{type:String,required:!0},modelSort:{type:Array,required:!1},modelView:{type:String,required:!1,default:void 0},multipleActions:{type:Array,required:!0},selectedRows:{type:Array,required:!0},showCount:{type:Boolean,required:!1,default:!0},tableActions:{type:Array,required:!0},tableActionsIndexFirstDropdownAction:{type:Number,required:!1,default:-1},tableActionsIndexFirstDropdownActionMobile:{type:Number,required:!1,default:0},useAdditionalSorting:{type:Boolean,required:!1,default:!0},useViewSlot:{type:Boolean,required:!1},viewCurrent:{type:Object,required:!1,default:void 0},views:{type:Array,required:!0}},emits:["toggleBtnAllRows","toggleMultipleActionsActive","updateModelQuickSearch","updateViewCurrent"],inject:["isMultipleActionsActive","rowsLocalAll","tableId"],setup(e,t){const{tableLabelId:l}=wo(),{filterCurrency:i}=ae(),{buttonMultipleId:s,currentMultipleActions:n,multipleActionsFiltered:u,onCancelMultipleActions:f,onOpenModalMultipleActions:d,tableActionsFiltered:v}=mo(e,t),{isBtnMultipleActionDisabled:_,isBtnSelectAllRowsDisabled:p,multiplePanelId:b,textMultipleBtnAllRowsTranslate:m,textMultipleSelectedTranslateExtra:h,toggleBtnAllRows:A}=Ao(e,t),{updateViewCurrentLocal:S,viewSlotLocal:g}=go(e,t),{countAllRowsFormatted:w}=po(e);return{buttonMultipleId:s,countAllRowsFormatted:w,currentMultipleActions:n,filterCurrency:i,isBtnMultipleActionDisabled:_,isBtnSelectAllRowsDisabled:p,multipleActionsFiltered:u,multiplePanelId:b,onCancelMultipleActions:f,onOpenModalMultipleActions:d,tableActionsFiltered:v,tableLabelId:l,textMultipleBtnAllRowsTranslate:m,textMultipleSelectedTranslateExtra:h,toggleBtnAllRows:A,updateViewCurrentLocal:S,viewSlotLocal:g}},methods:{updateModelQuickSearch(e){this.$emit("updateModelQuickSearch",e)}},render(){return[a("div",{class:"a_table__top_panel"},[this.isLabelVisible?this.$slots.tableLabel?this.$slots.tableLabel({countAllRows:this.countAllRows,tableLabelId:this.tableLabelId}):a(this.labelTag,{class:["a_table__top_panel__label",this.labelClass]},[a(q,{id:this.tableLabelId,tag:"span",class:"a_table__top_panel__label__text",text:this.label,extra:this.extra}),this.showCount?a(K,{class:"a_table__top_panel__label__count",extra:{count:this.countAllRows},tag:"span",text:this.countAllRowsFormatted,textAriaHidden:!0,textScreenReader:"_A_TABLE_ALL_ROWS_{{count}}_",title:"_A_TABLE_ALL_ROWS_{{count}}_",type:"text"}):""]):"",a("div",{class:"a_table__top_panel__actions"},[this.$slots.tableActionsPrepend?this.$slots.tableActionsPrepend({isMultipleActionsActive:this.isMultipleActionsActive,modelView:this.modelView}):"",a(Te,{actions:this.tableActionsFiltered,actionsClasses:[],disabled:this.isMultipleActionsActive||this.disabledActions,indexFirstDropdownAction:this.tableActionsIndexFirstDropdownAction,indexFirstDropdownActionMobile:this.tableActionsIndexFirstDropdownActionMobile,minDropdownActions:0,dropdownAttributes:{buttonClass:"a_btn a_btn_secondary a_table__action",buttonIconLeft:"OptionHorizontal",buttonText:{desktop:"_A_TABLE_ACTIONS_"},hasCaret:!1,inBody:!0,placement:"bottom-end"}}),a(Te,{actions:this.multipleActionsFiltered,actionsClasses:[],disabled:this.isMultipleActionsActive||this.disabledMultipleActions,indexFirstDropdownAction:0,indexFirstDropdownActionMobile:0,minDropdownActions:0,dropdownAttributes:{id:this.buttonMultipleId,buttonClass:"a_btn a_btn_secondary a_table__action",buttonText:{desktop:"_A_TABLE_MULTIPLE_ACTIONS_"},buttonIconLeft:"UiChecks",inBody:!0,placement:"bottom-end"}}),this.isQuickSearch?a(Ze,{label:"_A_TABLE_QUICK_SEARCH_",class:"a_table__top_panel__actions__quick_search",modelUndefined:"",modelValue:this.modelQuickSearch,iconPrepend:"Search","onUpdate:modelValue":this.updateModelQuickSearch}):"",this.hasViews?a(xl,{modelValue:this.modelView,class:"a_d_inline_block",isButtonGroup:!0,disabled:this.disabledViews,slotName:this.viewSlotLocal,data:this.views,keyId:"id",keyLabel:"label",hasBorder:!1,classFieldset:"a_p_0","onUpdate:modelValue":this.updateViewCurrentLocal},{viewSlot:e=>this.$slots.viewSlot&&this.$slots.viewSlot({...e})}):"",this.useAdditionalSorting?a(vo,{additionalSortingColumns:this.additionalSortingColumns,disabledSort:this.disabledSort,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSort}):"",this.$slots.tableActionsAppend?this.$slots.tableActionsAppend({isMultipleActionsActive:this.isMultipleActionsActive,modelView:this.modelView}):""])]),this.isMultipleActionsActive&&a("div",{id:this.multiplePanelId,class:"a_table__multiple_panel"},[a("div",{class:"a_table__multiple_panel__header"},[a(q,{class:"a_table__multiple_panel__header__text",tag:"strong",text:"_A_TABLE_MULTIPLE_ACTIONS_"}),a("div",{class:"a_table__multiple_panel__items"},[a(q,{class:"a_table__multiple_panel__items__selected",tag:"span",text:"_A_TABLE_MULTIPLE_ITEMS_SELECTED_{{countSelectedRows}}_{{countAllRows}}_{{countSelectedRowsFiltered}}_{{countAllRowsFiltered}}_",extra:this.textMultipleSelectedTranslateExtra}),this.currentMultipleActions.isAllRowsSelected&&a(Z,{class:"a_btn a_btn_secondary a_table__multiple_panel__btn_all_rows",type:"button",text:this.textMultipleBtnAllRowsTranslate,extra:this.textMultipleSelectedTranslateExtra,disabled:this.isBtnSelectAllRowsDisabled||this.disabledMultipleActions,loading:this.isLoadingMultipleActions,onClick:this.toggleBtnAllRows})])]),a("div",{class:"a_table__multiple_panel__actions"},[this.currentMultipleActions.slot&&this.$slots.multipleActionActiveSlot?this.$slots.multipleActionActiveSlot({disabled:this.isBtnMultipleActionDisabled||this.isLoadingMultipleActions||this.disabledMultipleActions,loading:this.isLoadingMultipleActions,text:this.currentMultipleActions.text,action:this.currentMultipleActions,onClick:this.onOpenModalMultipleActions,close:this.closeMultipleActionsActive,rows:this.selectedRows,rowsVisible:this.rowsLocalAll,id:this.buttonMultipleId,areAllRowsSelected:this.areAllRowsSelected}):a(Z,{class:"a_btn a_btn_primary a_table__action",type:"button",disabled:this.isBtnMultipleActionDisabled||this.isLoadingMultipleActions||this.disabledMultipleActions,text:this.currentMultipleActions.text,loading:this.isLoadingMultipleActions,loadingAlign:"left",onClick:this.onOpenModalMultipleActions}),a(Z,{class:"a_btn a_btn_secondary a_table__action",type:"button",text:"_A_TABLE_MULTIPLE_CANCEL_",onClick:this.onCancelMultipleActions})])])]}};function So(){const e=T(void 0);return{componentRef:e,setFocusToComponent:()=>{var l;(l=e.value)==null||l.focus({preventScroll:!0})}}}const Io={name:"ATablePreviewDown",props:{row:{type:Object,required:!0},rowIndex:{type:Number,required:!0}},inject:["onTogglePreview"],setup(){const{componentRef:e,setFocusToComponent:t}=So();return De(()=>{t()}),{componentRef:e}},render(){return a("div",{ref:"componentRef",class:"a_table__preview_down",tabindex:-1},[a(q,{class:"a_sr_only",text:"_A_TABLE_PREVIEW_DOWN_ARIA_LABEL_"}),this.$slots.preview&&this.$slots.preview({row:this.row,rowIndex:this.rowIndex}),a(Z,{class:"a_btn a_btn_transparent_dark a_table__preview_down__btn_close",iconLeft:"Close",iconClass:"a_table__preview_down__btn_close__icon",title:"_A_TABLE_PREVIEW_DOWN_CLOSE_",textScreenReader:"_A_TABLE_PREVIEW_DOWN_CLOSE_",onClick:()=>this.onTogglePreview({row:this.row,rowIndex:this.rowIndex})})])}};function To(e){const t=r(e,"column"),l=r(e,"disabledPreview"),i=r(e,"isFooter"),s=O("hasPreview"),n=O("isMobile"),{columnsStyles:u}=nt(e);return{attributesForTd:o(()=>{const d={class:["a_table__td a_table__cell",{a_table__cell_click:s.value&&!i.value&&!l.value},t.value.classRowParent],style:u.value};return n.value||(d.role="cell"),d})}}function mt(e){const t=r(e,"column"),l=r(e,"row"),i=o(()=>!!t.value.to),s=o(()=>{if(Pe(t.value.to))return t.value.to;if(we(t.value.to)){const u=W(t.value.to),f=u.params||{},d=u.query||{};if(t.value.to.nameDynamic&&!t.value.to.name){const v=G(l.value,t.value.to.nameDynamic);v&&(u.name=v)}if(t.value.to.paramsDynamic){let v=!1;if(B(t.value.to.paramsDynamic,(_,p)=>{const b=G(l.value,_);if(z(b))return v=!0,!1;f[p]=b}),v)return}if(t.value.to.queryDynamic){let v=!1;if(B(t.value.to.queryDynamic,(_,p)=>{const b=G(l.value,_);if(z(b))return v=!0,!1;d[p]=b}),v)return}return u.params=f,u.query=d,u}});return{classForLink:o(()=>"a_btn a_btn_link a_p_0 a_text_left"),isLink:i,toLocal:s}}function pt(e){const t=r(e,"column"),l=r(e,"isFooter"),i=o(()=>l.value?t.value.footerSlot:t.value.slot);return{hasSlot:o(()=>!!i.value),slotName:i}}function wt(e){const t=r(e,"column"),l=r(e,"isFooter"),i=r(e,"row"),s=O("columnsDefaultValue"),n=O("valuesForColumnDefault"),u=o(()=>l.value&&"footerDefaultValue"in t.value?t.value.footerDefaultValue:"defaultValue"in t.value?t.value.defaultValue:z(s.value)?"":s.value),f=o(()=>l.value?t.value.footerKeyLabel:t.value.keyLabel),d=o(()=>l.value?t.value.footerKeyLabelSafeHtml:t.value.keyLabelSafeHtml),v=o(()=>l.value?t.value.footerKeyLabelHtml:t.value.keyLabelHtml),_=o(()=>{if(f.value)return G(i.value,f.value)}),p=o(()=>{if(d.value)return G(i.value,d.value)}),b=o(()=>{if(v.value)return G(i.value,v.value)}),m=w=>{let C=!1;return B(n.value,I=>{if(w===I)return C=!0,!1}),C?u.value:w},h=o(()=>m(_.value)),A=o(()=>m(p.value)),S=o(()=>m(b.value));return{textOrHtmlRender:o(()=>{if(f.value)return a("span",null,h.value);if(d.value)return a("div",{innerHTML:A.value});if(v.value)return st(a("div"),[[Qe,S.value]])})}}const je={name:"ATableTd",props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},disabledPreview:{type:Boolean,required:!1},isFooter:{type:Boolean,required:!1},level:{type:Number,required:!0},row:{type:Object,required:!0},rowIndex:{type:Number,required:!0},showIconChildren:{type:Boolean,required:!1}},inject:["isMobile","rowsLocalAll"],setup(e){const{attributesForTd:t}=To(e),{classForLink:l,isLink:i,toLocal:s}=mt(e),{hasSlot:n,slotName:u}=pt(e),{textOrHtmlRender:f}=wt(e);return{attributesForTd:t,classForLink:l,hasSlot:n,isLink:i,slotName:u,textOrHtmlRender:f,toLocal:s}},render(){const e=a("div",this.attributesForTd,[a("div",{class:["a_table__cell__child",this.column.class,this.column.classRow]},[this.showIconChildren?a(K,{"aria-hidden":!0,class:"a_table__row_level__icon",classDefault:"",iconLeft:"CaretRightFill",type:"text"}):"",this.hasSlot&&this.$slots[this.slotName]?this.$slots[this.slotName]({column:this.column,columnIndex:this.columnIndex,level:this.level,row:this.row,rowIndex:this.rowIndex,rows:this.rowsLocalAll}):this.isLink&&this.toLocal?a(Me("RouterLink"),{class:[this.column.class,this.classForLink,this.column.classRow],to:this.toLocal},()=>[this.textOrHtmlRender]):this.textOrHtmlRender])]);return this.isMobile?[a(q,{text:this.column.label,tag:"dt"}),a("dd",{},[e])]:e}},Xe={name:"ATableListItem",inject:["rowsLocalAll"],props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},row:{type:Object,required:!0},rowIndex:{type:Number,required:!0},isFooter:{type:Boolean,required:!1}},setup(e){const{classForLink:t,isLink:l,toLocal:i}=mt(e),{hasSlot:s,slotName:n}=pt(e),{textOrHtmlRender:u}=wt(e);return{classForLink:t,hasSlot:s,isLink:l,slotName:n,textOrHtmlRender:u,toLocal:i}},render(){return[a(q,{text:this.column.label,tag:"dt"}),a("dd",null,this.hasSlot&&this.$slots[this.slotName]?this.$slots[this.slotName]({column:this.column,columnIndex:this.columnIndex,row:this.row,rowIndex:this.rowIndex,rows:this.rowsLocalAll}):this.isLink&&this.toLocal?[a(Me("RouterLink"),{class:[this.column.class,this.classForLink,this.column.classRow],to:this.toLocal},()=>[this.textOrHtmlRender])]:[this.textOrHtmlRender])]}};function Ro(){const e=O("columnsScrollInvisible"),t=O("modelIsTableWithoutScroll"),l=o(()=>e.value.length),i=o(()=>t.value?l.value>0:!1);return{columnsScrollInvisibleText:o(()=>l.value===1?"_A_TABLE_DROPDOWN_HIDE_FIELD_TEXT_":"_A_TABLE_DROPDOWN_HIDE_FIELDS_TEXT_{{count}}_"),countColumnsScrollInvisible:l,isColumnsScrollInvisibleDropdownVisible:i}}function yo(e){const t=r(e,"columnActionsView"),l=r(e,"isFooter"),i=r(e,"row"),s=r(e,"rowIndex"),n=O("columnActionsOnePlusDropdownOptions"),u=O("rowActions"),f=O("tableId"),d=o(()=>`${f.value}_action_${s.value}`),v=o(()=>z(n.value.indexFirstDropdownAction)?1:n.value.indexFirstDropdownAction),_=({rowAction:c})=>{if(c.text)return c.text;if(H(c.textCallback))return c.textCallback({row:i.value,rowIndex:s.value,rowAction:c})},p=({rowAction:c})=>{if(c.html)return c.html;if(H(c.htmlCallback))return c.htmlCallback({row:i.value,rowIndex:s.value,rowAction:c})},b=({rowAction:c})=>{if(c.title)return c.title;if(H(c.titleCallback))return c.titleCallback({row:i.value,rowIndex:s.value,rowAction:c})},m=({rowAction:c})=>c.disabled?c.disabled:H(c.disabledCallback)?c.disabledCallback({row:i.value,rowIndex:s.value,rowAction:c}):!1,h=({rowAction:c})=>c.class?c.class:H(c.classCallback)?c.classCallback({row:i.value,rowIndex:s.value,rowAction:c}):"",A=({rowAction:c})=>{if(c.iconLeft)return c.iconLeft;if(H(c.iconLeftCallback))return c.iconLeftCallback({row:i.value,rowIndex:s.value,rowAction:c})},S=({rowAction:c})=>{if(c.iconRight)return c.iconRight;if(H(c.iconRightCallback))return c.iconRightCallback({row:i.value,rowIndex:s.value,rowAction:c})},g=({rowAction:c})=>{if(Pe(c.to))return c.to;if(we(c.to)){const y=W(c.to),R=y.params||{},N=y.query||{};if(c.to.nameDynamic&&!c.to.name){const j=G(i.value,c.to.nameDynamic);j&&(y.name=j)}if(c.to.paramsDynamic){let j=!1;if(B(c.to.paramsDynamic,(D,F)=>{const E=G(i.value,D);if(z(E))return j=!0,!1;R[F]=E}),j)return}if(c.to.queryDynamic){let j=!1;if(B(c.to.queryDynamic,(D,F)=>{const E=G(i.value,D);if(z(E))return j=!0,!1;N[F]=E}),j)return}return y.params=R,y.query=N,y}},w=({rowAction:c})=>c.href?c.href:H(c.hrefCallback)?c.hrefCallback({row:i.value,rowIndex:s.value,rowAction:c}):!1,C=({rowAction:c})=>{if(c.extra)return c.extra;if(H(c.extraCallback))return c.extraCallback({row:i.value,rowIndex:s.value,rowAction:c})},I=({rowAction:c})=>{if(c.textScreenReader)return c.textScreenReader;if(H(c.textScreenReaderCallback))return c.textScreenReaderCallback({row:i.value,rowIndex:s.value,rowAction:c})},L=({rowActionIndexVisible:c})=>{if(t.value==="dropdown")return{id:d.value,ids:[d.value,f.value]};if(c<v.value){const y=`${d.value}_${c}`;return{buttonId:y,id:y,ids:[y,f.value]}}return{id:d.value,ids:[d.value,f.value]}},M=c=>{B(c,(y,R)=>{Al(R,"Callback")&&(c[R]=void 0)})},P=o(()=>{const c=[];let y=0;return B(W(u.value),R=>{if(ft({rowAction:R,row:i.value,rowIndex:s.value})){if(R.type!=="divider"){const N=_({rowAction:R});N&&(R.text=N);const j=p({rowAction:R});j&&(R.html=j);const D=b({rowAction:R});D?R.title=D:N&&(R.title=N);const F=m({rowAction:R});F&&(R.disabled=F);const E=h({rowAction:R});E&&(R.class=E);const X=A({rowAction:R});X&&(R.iconLeft=X);const le=S({rowAction:R});le&&(R.iconRight=le);const oe=C({rowAction:R});oe&&(R.extra=oe);const k=I({rowAction:R});if(oe&&(R.textScreenReader=k),R.type==="link"){const U=g({rowAction:R});U?R.to=U:R.href=w({rowAction:R})}if(H(R.callback)){const{buttonId:U,id:$,ids:J}=L({rowActionIndexVisible:y});R.id=U;const ce=R.callback;R.callback=()=>ce({row:i.value,rowIndex:s.value,id:$,ids:J,rowAction:R})}M(R)}y++,c.push(R)}}),c}),x=o(()=>!l.value&&P.value.length>0);return{buttonActionsId:d,isRowActionsDropdownVisible:x,rowActionsFiltered:P}}function Lo(e){const t=r(e,"rowIndex");return{rowNumber:o(()=>t.value+1)}}const xo={name:"ATableTdAction",components:{AIcon:te,ATableListItem:Xe},props:{columnActionsBtnGroupMaxWidthStyle:{type:String,required:!1,default:void 0},columnActionsView:{type:String,required:!0},disabledRowActions:{type:Boolean,required:!1},isFooter:{type:Boolean,required:!1},isRowActionsStickyLocal:{type:Boolean,required:!0},row:{type:Object,required:!0},rowActionsClass:{type:[String,Object],required:!1,default:void 0},rowIndex:{type:Number,required:!0}},inject:["columnActionsOnePlusDropdownOptions","columnsScrollInvisible","tableId"],setup(e){const{isMobileWidth:t}=pe(),{buttonActionsId:l,isRowActionsDropdownVisible:i,rowActionsFiltered:s}=yo(e),{columnsScrollInvisibleText:n,countColumnsScrollInvisible:u,isColumnsScrollInvisibleDropdownVisible:f}=Ro(),{rowNumber:d}=Lo(e),{stylesThTd:v}=ut();return{buttonActionsId:l,columnsScrollInvisibleText:n,countColumnsScrollInvisible:u,isColumnsScrollInvisibleDropdownVisible:f,isMobileWidth:t,isRowActionsDropdownVisible:i,rowActionsFiltered:s,rowNumber:d,stylesThTd:v}},render(){return a("div",{role:"cell",class:["a_table__td a_table__cell a_table__cell_action",{a_table__cell_action_sticky:this.isRowActionsStickyLocal}],...this.stylesThTd},[a("div",{class:["a_table__cell__child",this.rowActionsClass]},[this.isColumnsScrollInvisibleDropdownVisible&&a(de,{buttonClass:"a_btn a_btn_link a_text_nowrap",buttonIconLeft:"Plus",buttonIconClass:"a_table__cell_action__additional_icon",buttonTitle:"_A_TABLE_DROPDOWN_HIDE_FIELDS_TITLE_{{count}}_",buttonTextScreenReader:"_A_TABLE_DROPDOWN_HIDE_FIELDS_TITLE_{{count}}_",buttonText:this.columnsScrollInvisibleText,buttonTextClass:"a_table__cell_action__additional_text",buttonTextAriaHidden:!0,extra:{count:this.countColumnsScrollInvisible},dropdownClass:"a_p_0 a_overflow_x_hidden a_table__extra_dropdown",dropdownTag:"div",hasCaret:!1,floatingFlip:{use:!0,fallbackPlacements:["top-end","left"]},inBody:!0,placement:"bottom-end",menuWidth:600,isCloseByClickInside:!1},{dropdown:()=>[a("dl",{class:"a_list_dl a_list_dl_dt_right"},[this.columnsScrollInvisible.map((e,t)=>a(Xe,{column:e,columnIndex:t,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter},this.$slots))])]}),this.isRowActionsDropdownVisible||this.$slots.rowActions?a("div",{class:"a_table__cell_action__group"},[this.$slots.rowActions?this.$slots.rowActions({tableId:this.tableId,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter}):"",this.isRowActionsDropdownVisible?this.columnActionsView==="dropdown"||this.isMobileWidth&&this.columnActionsOnePlusDropdownOptions.indexFirstDropdownActionMobile===0?a(de,{id:this.buttonActionsId,actions:this.rowActionsFiltered,buttonClass:"a_btn a_btn_secondary a_table__cell_action__btn",buttonIconLeft:"OptionHorizontal",buttonTextScreenReader:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",buttonTitle:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",disabled:this.disabledRowActions,extra:{rowNumber:this.rowNumber},hasCaret:!1,inBody:!0,placement:"bottom-end"},this.$slots):a(Te,{class:"a_d_inline_block",style:this.columnActionsBtnGroupMaxWidthStyle,actions:this.rowActionsFiltered,dropdownAttributes:{id:this.buttonActionsId,buttonClass:"a_btn a_btn_secondary a_table__cell_action__btn",buttonIconLeft:"ChevronDown",buttonTextScreenReader:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",buttonTitle:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",extra:{rowNumber:this.rowNumber},hasCaret:!1,inBody:!0,placement:"bottom-end"},disabled:this.disabledRowActions,btnGroupClass:z(this.columnActionsOnePlusDropdownOptions.btnGroupClass)?"a_btn_group a_btn_group_table":this.columnActionsOnePlusDropdownOptions.btnGroupClass,hasDividerBeforeDropdown:this.columnActionsOnePlusDropdownOptions.hasDividerBeforeDropdown||!1,indexFirstDropdownAction:z(this.columnActionsOnePlusDropdownOptions.indexFirstDropdownAction)?1:this.columnActionsOnePlusDropdownOptions.indexFirstDropdownAction,indexFirstDropdownActionMobile:z(this.columnActionsOnePlusDropdownOptions.indexFirstDropdownActionMobile)?1:this.columnActionsOnePlusDropdownOptions.indexFirstDropdownActionMobile,minDropdownActions:z(this.columnActionsOnePlusDropdownOptions.minDropdownActions)?1:this.columnActionsOnePlusDropdownOptions.minDropdownActions,actionsClasses:this.columnActionsOnePlusDropdownOptions.actionsClasses||["a_btn a_btn_primary a_text_truncate"]},this.$slots):""]):""])])}};function Oo(e,{hasChildren:t=o(()=>!1),hasPreviewLocal:l=o(()=>!1),rowClassChildren:i=o(()=>{}),rowClassLevelChildren:s=o(()=>{}),rowClassPreview:n=o(()=>{}),toggleChildren:u=()=>{}}){const f=r(e,"disabledPreview"),d=r(e,"disabledPreviewRowCallback"),v=r(e,"isFooter"),_=r(e,"isTreeCollapsible"),p=r(e,"level"),b=r(e,"row"),m=r(e,"rowClass"),h=r(e,"rowIndex"),A=O("isMobile"),S=O("onTogglePreview"),g=O("tableId"),w=o(()=>{const y=v.value?"_footer":"";return`${g.value}${y}_${h.value}`}),C=o(()=>H(m.value)?m.value({level:p.value,row:b.value,rowindex:h.value}):m.value),I=o(()=>["a_table__row a_table__body__row a_table__row_hover",i.value,s.value,n.value,C.value]),L=o(()=>A.value?"listitem":"row"),M=o(()=>H(d.value)?d.value({row:b.value,rowIndex:h.value}):f.value),P=y=>{Jl({$event:y,tagsName:["A","BUTTON","INPUT","LABEL"],classStop:"a_table__row"})||(t.value?u():l.value&&S({row:b.value,rowIndex:h.value}))},x=y=>{y.keyCode===Y.enter&&P(y)},c=o(()=>(_.value&&t.value||l.value)&&!M.value?{tabindex:0,onClick:P,onKeydown:x}:{});return{disabledPreviewRow:M,eventsLocal:c,roleLocal:L,rowClassComputed:I,rowHtmlId:w}}function Po(e,{emit:t}){const l=r(e,"areAllRowsSelected"),i=r(e,"row"),s=r(e,"rowIndex"),n=r(e,"selectedRowsIndexes"),u=O("currentMultipleActions"),f=O("isMultipleActionsActive"),d=o(()=>!!n.value[s.value]||l.value),v=o(()=>{if(f.value){if(H(G(u.value,"isHiddenCallback")))return u.value.isHiddenCallback({row:i.value,rowIndex:s.value});if(l.value)return!0}return!1}),_=o(()=>d.value?"_A_TABLE_DESELECT_THIS_ROW_":"_A_TABLE_SELECT_THIS_ROW_");return{isCheckboxDisabled:v,isRowSelected:d,labelCheckbox:_,toggleCheckbox:()=>{v.value||t("setSelectedRowsIndexes",{rowIndex:s.value})}}}function Do(e){const t=r(e,"isTree"),l=r(e,"keyChildren"),i=r(e,"level"),s=r(e,"row"),n=r(e,"rowIndex"),u=r(e,"rowsLength"),f=o(()=>{if(!l.value)return[];const b=G(s.value,l.value);return se(b)?b:[]}),d=o(()=>f.value.length>0),v=o(()=>i.value+1),_=o(()=>t.value?{"aria-level":i.value,"aria-posinset":n.value+1,"aria-setsize":u.value}:{}),p=o(()=>{if(t.value)return`a_table__row_level a_table__row_level_${i.value}`});return{ariaTreeAttributes:_,children:f,hasChildren:d,levelForChildren:v,rowClassLevelChildren:p}}function Mo(e,{hasChildren:t=o(()=>!1)}){const l=r(e,"isOneOfParentsClose"),i=r(e,"isTreeCollapsible"),s=r(e,"isTreeOpened"),n=T(!1),u=o(()=>{if(t.value)return n.value}),f=o(()=>({a_table__row_has_children:t.value,a_table__row_hide:l.value,a_table__row_level_open:t.value&&n.value})),d=o(()=>!!(l.value||!n.value));return{ariaExpanded:u,initIsChildrenOpen:()=>{(!i.value||s.value)&&(n.value=!0)},isOneOfParentsCloseForChildren:d,rowClassChildren:f,toggleChildren:()=>{n.value=!n.value}}}function Eo(e){const t=r(e,"allVisibleMobileColumns"),l=r(e,"countVisibleMobileColumns"),i=O("isMobile"),s=T(!1),n=o(()=>t.value.length-l.value),u=o(()=>i.value&&t.value.length>l.value),f=o(()=>n.value===1?"_A_TABLE_MOBILE_TR_PLUS_FIELD_":"_A_TABLE_MOBILE_TR_PLUS_FIELDS_{{count}}_"),d=o(()=>s.value?"_A_TABLE_MOBILE_TR_CLOSE_":f.value);return{countInvisibleMobileColumns:n,isAllColumnsVisibleMobile:s,isBtnToggleAllColumnsVisible:u,textBtnToggleAllColumns:d,toggleAllColumnsVisibleMobile:({$event:_})=>{s.value=!s.value,_.stopPropagation()}}}function Bo(e,{hasChildren:t=o(()=>!1)}){const l=r(e,"isFooter"),i=r(e,"rowIndex"),s=O("hasPreview"),n=O("previewRightRowIndex"),u=O("previewRightRowIndexLast"),f=o(()=>!!(!t.value&&s.value&&!l.value)),d=o(()=>i.value===n.value),v=o(()=>!d.value&&i.value===u.value),_=o(()=>Le({placeholder:d.value?"_A_TABLE_ROW_PREVIEW_CLOSE_":"_A_TABLE_ROW_PREVIEW_OPEN_"})),p=o(()=>f.value?{"aria-label":_.value}:{}),b=o(()=>{if(f.value)return{a_table__row_preview_open:d.value,a_table__row_preview_was_open:v.value}});return{hasPreviewLocal:f,previewAttributes:p,rowClassPreview:b}}const Ke={name:"ATableTr",props:{allVisibleMobileColumns:{type:Array,required:!0},areAllRowsSelected:{type:Boolean,required:!0},columnActionsBtnGroupMaxWidthStyle:{type:String,required:!1,default:void 0},columnActionsView:{type:String,required:!0},countVisibleMobileColumns:{type:Number,required:!0},disabledPreview:{type:Boolean,required:!1},disabledPreviewRowCallback:{type:Function,required:!1},disabledRowActions:{type:Boolean,required:!1},isFooter:{type:Boolean,required:!1},isOneOfParentsClose:{type:Boolean,required:!1},isPreviewDownOpen:{type:Boolean,required:!1},isRowActionsStickyLocal:{type:Boolean,required:!0},isTree:{type:Boolean,required:!1},isTreeCollapsible:{type:Boolean,required:!1,default:!0},isTreeOpened:{type:Boolean,required:!1},keyChildren:{type:String,required:!1,default:void 0},keyId:{type:String,required:!1,default:"id"},level:{type:Number,required:!0},row:{type:Object,required:!0},rowActionsClass:{type:[String,Object],required:!1,default:void 0},rowClass:{type:[String,Object,Function],required:!1,default:void 0},rowIndex:{type:Number,required:!0},rowsLength:{type:Number,required:!0},selectedRowsIndexes:{type:Object,required:!0}},emits:["setSelectedRowsIndexes"],setup(e,t){const{ariaTreeAttributes:l,children:i,hasChildren:s,levelForChildren:n,rowClassLevelChildren:u}=Do(e),{ariaExpanded:f,initIsChildrenOpen:d,isOneOfParentsCloseForChildren:v,rowClassChildren:_,toggleChildren:p}=Mo(e,{hasChildren:s}),{hasPreviewLocal:b,previewAttributes:m,rowClassPreview:h}=Bo(e,{hasChildren:s}),{disabledPreviewRow:A,eventsLocal:S,roleLocal:g,rowClassComputed:w,rowHtmlId:C}=Oo(e,{hasChildren:s,hasPreviewLocal:b,rowClassChildren:_,rowClassLevelChildren:u,rowClassPreview:h,toggleChildren:p}),{countInvisibleMobileColumns:I,isAllColumnsVisibleMobile:L,isBtnToggleAllColumnsVisible:M,textBtnToggleAllColumns:P,toggleAllColumnsVisibleMobile:x}=Eo(e),{isCheckboxDisabled:c,isRowSelected:y,labelCheckbox:R,toggleCheckbox:N}=Po(e,t);return d(),{ariaExpanded:f,ariaTreeAttributes:l,children:i,countInvisibleMobileColumns:I,disabledPreviewRow:A,eventsLocal:S,hasChildren:s,isAllColumnsVisibleMobile:L,isBtnToggleAllColumnsVisible:M,isCheckboxDisabled:c,isOneOfParentsCloseForChildren:v,isRowSelected:y,labelCheckbox:R,levelForChildren:n,previewAttributes:m,roleLocal:g,rowClassComputed:w,rowHtmlId:C,textBtnToggleAllColumns:P,toggleAllColumnsVisibleMobile:x,toggleCheckbox:N,toggleChildren:p}},inject:["columnsFilteredForRender","isActionColumnVisible","isMultipleActionsActive","isMobile"],render(){let e=[];this.isMobile&&!this.isAllColumnsVisibleMobile?B(this.allVisibleMobileColumns,(i,s)=>{if(s+1>this.countVisibleMobileColumns)return!1;e.push(a(je,{key:i.id,column:i,columnIndex:s,disabledPreview:this.disabledPreviewRow,level:this.level,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter},this.$slots))}):e=this.columnsFilteredForRender.map((i,s)=>a(je,{key:i.id,column:i,columnIndex:s,disabledPreview:this.disabledPreviewRow,level:this.level,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter,showIconChildren:!!(this.isTreeCollapsible&&this.hasChildren&&s===0)},this.$slots));const t=this.isActionColumnVisible&&a(xo,{columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,disabledRowActions:this.disabledRowActions,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter,rowActionsClass:this.rowActionsClass,isRowActionsStickyLocal:this.isRowActionsStickyLocal},this.$slots),l=this.isMobile?a("div",{class:"a_table_mobile__dl__wrapper"},[this.$slots.rowMobilePrepend?this.$slots.rowMobilePrepend({row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter}):"",this.isTreeCollapsible&&this.hasChildren?a(K,{"aria-hidden":!0,class:"a_table__row_level__icon",classDefault:"",iconLeft:"CaretRightFill",type:"text"}):"",a("dl",{class:"a_table_mobile__dl"},e),this.$slots.rowMobileAppend?this.$slots.rowMobileAppend({row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter}):""]):e;return[a("div",{id:this.rowHtmlId,role:this.roleLocal,class:this.rowClassComputed,"aria-expanded":this.ariaExpanded,...this.previewAttributes,...this.ariaTreeAttributes,...this.eventsLocal},[this.isMultipleActionsActive&&a("div",{class:"a_table__td a_table__cell a_table__cell_checkbox",style:"width: 50px; min-width: 50px; max-width: 50px;"},[!this.isFooter&&a(Ee,{isWidthAuto:!0,modelValue:this.isRowSelected,disabled:this.isCheckboxDisabled,label:this.labelCheckbox,labelClass:"a_sr_only",isLabelTitle:!0,"onUpdate:modelValue":this.toggleCheckbox})]),l,this.isMobile?a("div",{class:"a_table_mobile__actions_parent"},[this.isBtnToggleAllColumnsVisible&&a(K,{class:"a_btn a_btn_link a_table_mobile__columns_btn_toggle",extra:{count:this.countInvisibleMobileColumns},text:this.textBtnToggleAllColumns,type:"button",onClick:this.toggleAllColumnsVisibleMobile}),t]):t]),this.isPreviewDownOpen&&a(Io,{row:this.row,rowIndex:this.rowIndex},{preview:i=>this.$slots.preview?this.$slots.preview(i):void 0}),this.hasChildren?this.children.map((i,s)=>a(Me("ATableTr"),{key:i[this.keyId]||s,allVisibleMobileColumns:this.allVisibleMobileColumns,areAllRowsSelected:this.areAllRowsSelected,columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,countVisibleMobileColumns:this.countVisibleMobileColumns,disabledPreview:this.disabledPreviewRow,disabledRowActions:this.disabledRowActions,isFooter:this.isFooter,isOneOfParentsClose:this.isOneOfParentsCloseForChildren,isPreviewDownOpen:!1,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isTree:this.isTree,isTreeCollapsible:this.isTreeCollapsible,isTreeOpened:this.isTreeOpened,keyChildren:this.keyChildren,keyId:this.keyId,level:this.levelForChildren,row:i,rowActionsClass:this.rowActionsClass,rowClass:this.rowClass,rowIndex:s,rowsLength:this.children.length,selectedRowsIndexes:this.selectedRowsIndexes},{get:n=>[a(Ie,{data:n.row,keyLabel:n.column.keyLabel,filter:n.column.filter,filterParameters:n.column.filterParameters,defaultValue:n.column.defaultValue,tag:n.column.filterTag||"div"})],...this.$slots})):""]}};function ko(e,{isMobile:t=o(()=>!1),rowsLocal:l=T([])}){const i=r(e,"columnActionsView"),s=r(e,"columnActionsWidth"),n=r(e,"columnActionsWidthDefaults"),u=r(e,"columnActionsWidthMin"),f=r(e,"rowActions"),d=o(()=>i.value==="onePlusDropdown"),v=o(()=>{let h=!1;e:for(let A=0;A<l.value.length;A++){const S=l.value[A];for(let g=0;g<f.value.length;g++){const w=f.value[g];if(ft({rowAction:w,row:S,rowIndex:A})&&w.type!=="divider"){h=!0;break e}}}return h}),_=o(()=>!f.value.length||!d.value?!1:v.value),p=o(()=>z(s.value)?_.value&&i.value==="onePlusDropdown"?n.value.onePlusDropdown:n.value.default:s.value),b=o(()=>z(u.value)?_.value&&i.value==="onePlusDropdown"?n.value.onePlusDropdownMin:n.value.min:u.value);return{columnActionsBtnGroupMaxWidthStyle:o(()=>{const h=n.value.btnGroupMaxWidth;if(!t.value&&i.value!=="dropdown"&&!z(h))return`max-width: ${h}px`}),columnActionsWidthLocal:p,columnActionsWidthMinLocal:b,isColumnActionWide:_}}function No(e,{columnsScrollInvisible:t=T([]),indexFirstScrollInvisibleColumn:l=T(void 0),modelColumnsVisibleLocal:i=T({}),modelIsTableWithoutScrollComputed:s=o(()=>!1),columnsOrderedFromSimpleTable:n=o(()=>[])}){const u=r(e,"columns"),f=r(e,"isActionColumnVisible"),d=r(e,"isSimpleTable"),v=r(e,"modelColumnsOrdering"),_=r(e,"multipleActions"),p=o(()=>Oe(u.value,"id")),b=o(()=>{const w={true:[],false:[],trueObject:{},falseObject:{},trueColumns:[],falseColumns:[]};return B(W(u.value),C=>{const I=C.id;C.locked?(w.true.push(I),w.trueColumns.push(C),w.trueObject[I]=!0):(w.false.push(I),w.falseColumns.push(C),w.falseObject[I]=!0)}),w}),m=o(()=>{if(d.value&&n.value&&n.value.length)return n.value;if(!v.value.length)return[...b.value.trueColumns,...b.value.falseColumns];const w=[],C=W(p.value);return B(v.value,I=>{C[I]&&w.push(C[I])}),w}),h=o(()=>{const w=[],C={};return B(m.value,(I,L)=>{lo({column:I,columnIndex:L,modelIsTableWithoutScroll:s.value,modelColumnsVisibleLocal:i.value,indexFirstScrollInvisibleColumn:l.value})&&(C[w.length]=L,w.push(I))}),{columns:w,columnsIndexesMapping:C}}),A=o(()=>h.value.columnsIndexesMapping),S=o(()=>h.value.columns),g=o(()=>{let w=S.value.length;return s.value&&(w+=t.value.length),f.value&&w++,_.value.length&&w++,w});return{columnIdsGroupByLocked:b,columnsFilteredForRender:S,columnsFilteredForRenderIndexesMapping:A,columnsOrdered:m,countNotHiddenColumns:g}}function Fo(e,{modelSort:t=T([])}){const l=r(e,"columns"),i=r(e,"showFirstSortingSequenceNumber"),s=r(e,"sortingSequenceNumberClass"),n=o(()=>ie(l.value,g=>eo({column:g}))),u=o(()=>ee(n.value,(g,w)=>({...g,_index:g.prio||w}))),f=o(()=>ee(u.value,g=>(g.group&&g.group.length&&(g.group=ee(g.group,(w,C)=>[w,C].join("%%%"))),g))),d=({groups:g,group:w,level:C,columnsOrderedFromGroups:I,firstLevelGroupObject:L})=>{const M=w?ie(g,c=>Ge(c,w[C-1])):g,P=Cl(M,c=>c[C]),x=ee(P,c=>{const y={id:c[C].split("%%%")[0]};let R;return C===0?(R=y,R.columnIndexes=[]):R=L,c.length>C+1?y.children=G(d({groups:g,group:c,level:C+1,columnsOrderedFromGroups:I,firstLevelGroupObject:R}),"recursiveGroup"):c.length===C+1&&(y.columns=ie(f.value,N=>Ge(N.group,c[C])),R.columnIndexes.push(...ee(y.columns,"_index")),I.push(...y.columns)),y});return{columnsOrderedFromGroups:I,recursiveGroup:x}},v=o(()=>ee(f.value,g=>G(g,"group",g))),_=o(()=>ie(v.value,g=>se(g))),p=o(()=>ie(v.value,g=>!se(g))),b=o(()=>{const g=[];return d({groups:_.value,group:null,level:0,columnsOrderedFromGroups:g})}),m=o(()=>Se([...b.value.columnsOrderedFromGroups,...p.value],"_index")),h=g=>a(Re,{ref:"th",class:"a_table__cell__child_group",column:g,columnGroupNames:ee(g.group,w=>w.split("%%%")[0]),columnIndex:g._index,hasMultipleActions:!1,modelSort:t.value,showFirstSortingSequenceNumber:i.value,sortingSequenceNumberClass:s.value}),A=g=>a("div",{class:"a_table__th_group"},[a("div",{class:"a_table__th_child_group"},[a("div",{class:"a_table__cell_group a_text_center"},[g.id&&a(q,{html:g.id,tag:"span","aria-hidden":!0})]),a("div",{class:"a_table__th_group_container"},g.children?ee(g.children,w=>A(w)):ee(g.columns,w=>h(w)))])]),S=o(()=>{const g=Se([...b.value.recursiveGroup,...p.value],w=>w.columnIndexes?gl(w.columnIndexes):w._index);return ee(g,w=>w.columnIndexes?A(w):h(w))});return{columnsOrderedFromSimpleTable:m,renderedGroupedColumns:S}}function qo(e,{emit:t},{checkVisibleColumns:l=()=>{},columnIdsGroupByLocked:i=o(()=>({true:[],false:[],trueObject:{},falseObject:{},trueColumns:[],falseColumns:[]})),columnsFilteredForRenderIndexesMapping:s=o(()=>({}))}){const n=r(e,"columns"),u=r(e,"modelColumnsOrdering"),f=({columnIndexDraggable:_,columnIndexOver:p,reset:b,inHeader:m})=>{if(_===p&&!b)return;m&&(_=s.value[_],p=s.value[p]);let h=[];if(b)h=[...i.value.true,...i.value.false];else{h=W(u.value);const A=h[_];h.splice(_,1),h.splice(p,0,A)}t("changeColumnsOrdering",{columnIndexDraggable:_,columnIndexOver:p,modelColumnsOrdering:h}),setTimeout(()=>{l()})},d=()=>{let _=[],p=!1;if(!u.value.length)_=[...i.value.true,...i.value.false];else{_=[...i.value.true];const b=W(i.value.falseObject);B(u.value,m=>{b[m]&&(_.push(m),delete b[m])}),B(b,(m,h)=>{_.push(h)}),JSON.stringify(u.value)!==JSON.stringify(_)&&(p=!0)}return{shouldFixColumns:p,modelColumnsOrderingLocal:_}},v=()=>{const{shouldFixColumns:_,modelColumnsOrderingLocal:p}=d();_&&t("changeColumnsOrdering",{modelColumnsOrdering:p,shouldFixColumns:_})};return ne(n,()=>{v()},{deep:!0}),{changeColumnsOrdering:f,checkColumnsOrdering:d}}function Vo(e){const t=r(e,"countAllRows"),l=r(e,"data"),i=r(e,"isTree"),s=r(e,"keyChildren"),n=r(e,"keyCountAllRowsInData"),u=o(()=>we(l.value)),f=o(()=>se(l.value)),d=o(()=>Q(t.value)?u.value?+G(l.value,n.value):f.value?i.value?bl({array:l.value,keyChildren:s.value}):l.value.length:0:t.value),v=o(()=>Q(t.value)?l.value.length:t.value);return{countAllRowsLocal:d,totalRowsCount:v}}function Wo({tableRef:e=T(void 0)}){return{scrollToTable:()=>{if(e.value){let s=e.value.getBoundingClientRect().top+window.scrollY-window.innerHeight/2;s<0&&(s=0),document.documentElement.scrollTop=s}},setFocusToTable:()=>{e.value&&(e.value.setAttribute("tabindex","-1"),e.value.focus(),e.value.removeAttribute("tabindex"))}}}function Uo(e,{emit:t},{checkColumnsOrdering:l=()=>{},checkVisibleColumns:i=()=>{},modelColumnsVisibleLocal:s=T({})}){const n=r(e,"modelColumnsVisible"),u=r(e,"columns");return{initTable:()=>{const{shouldFixColumns:d,modelColumnsOrderingLocal:v}=l();let _=!1;ot(n.value)?s.value=W(n.value):(_=!0,s.value=dt(u.value),i()),t("initTable",W({columnsOrdering:{model:v,shouldFix:d},columnsVisible:{model:s.value,shouldFix:_}}))}}}function Ho(e,{emit:t},{closePreviewAll:l=()=>{},scrollToTable:i=()=>{},setFocusToTable:s=()=>{},viewCurrent:n=o(()=>({}))}){const u=r(e,"isTree"),f=r(e,"offsetStart"),d=r(e,"pagination"),v=T(d.value.limitStart||10),_=T(f.value),p=o(()=>{var h;return u.value?!1:(h=d.value)!=null&&h.use?n.value?n.value.usePagination||!1:!0:!1});return{changeLimit:h=>{s(),i(),v.value=h,_.value=f.value,t("changeLimit",{offset:_.value,limit:h}),l()},changeOffset:h=>{let A,S;we(h)?(A=h.offset,S=h.reload):(A=h,S=!0),S&&(s(),i()),_.value=A,t("changeOffset",{offset:A,limit:v.value}),S&&l()},limit:v,offset:_,usePaginationLocal:p}}function Go({columnsOrdered:e=T([]),isMobile:t=T(!1),modelColumnsVisibleLocal:l=T({})}){return{allVisibleMobileColumns:o(()=>t.value?ie(e.value,s=>s.isRender!==!1&&l.value[s.id]!==!1):[])}}function $o(e,{emit:t},{checkVisibleColumns:l=()=>{},isMultipleActionsActive:i=T(void 0),rowsLocalAll:s=o(()=>[]),rowsLocalLength:n=o(()=>0)}){const u=r(e,"id"),f=r(e,"multipleActions"),d=T(void 0),v=T({}),_=T(!1),p=o(()=>f.value.length>0),b=o(()=>H(G(d.value,"isHiddenCallback"))),m=o(()=>ie(s.value,(P,x)=>v.value[x])),h=()=>{v.value={}},A=()=>{i.value=!1,d.value=void 0,_.value=!1,h()},S=()=>{if(window.isScrollDisabled)return;const P=ht({tableId:u.value});be({selector:`#${P}`})},g=({isActive:P,action:x}={})=>{if(P){i.value=!0,d.value=x,setTimeout(()=>{l(),S()}),t("toggleMultipleActions",{isActive:P,action:x});return}i.value?A():i.value=!0,setTimeout(()=>{l(),S()}),t("toggleMultipleActions",{isActive:P,action:x})},w=o(()=>ot(v.value)),C=o(()=>n.value>0&&n.value===w.value),I=o(()=>w.value>0);return{areAllRowsSelected:_,areAllVisibleRowsSelected:C,areSomeRowsSelected:I,closeMultipleActionsActive:A,currentMultipleActions:d,hasMultipleActions:p,selectedRows:m,selectedRowsIndexes:v,setEmptySelectedRowsIndexes:h,setSelectedRowsIndexes:({rowIndex:P,isAll:x})=>{if(x){if(I.value)h();else{const c={};b.value?$e(n.value,y=>{d.value.isHiddenCallback({row:s.value[y],rowIndex:y})||(c[y]=!0)}):$e(n.value,y=>{c[y]=!0}),v.value=c}return}v.value[P]?delete v.value[P]:v.value[P]=!0},toggleBtnAllRows:()=>{_.value=!_.value,_.value&&h()},toggleMultipleActionsActive:g}}function zo(e,{emit:t},{aTableRef:l=T({}),tableGrandparentRef:i=T({})}){const{previewRef:s,removePreviewRef:n}=Je(),u=r(e,"previewBoxWidth"),f=200,d=50;let v,_=0,p=0,b=0;const m=()=>{p=l.value.getBoundingClientRect().left},h=({clientWidth:c})=>{_=c,v=c/100*d,m()},A=({clientWidthLocal:c,clientXTableParent:y,previewBoxWidth:R})=>{const N=c-y-R;l.value.style.width=`${N}px`},S=({clientX:c=0,previewRef:y,previewBoxWidth:R=0})=>{let N=R||_-c;N<f?N=f:N>v&&(N=v),A({clientWidthLocal:_,clientXTableParent:p,previewBoxWidth:N}),y.style.width=`${N}px`},g=({previewRef:c})=>{G(c,"style.removeProperty")&&c.style.removeProperty("width"),G(l,"value.style.removeProperty")&&l.value.style.removeProperty("width")},w=({previewRef:c})=>{_=document.documentElement.clientWidth,b=G(i,"value.offsetWidth",0),m(),S({previewRef:c,previewBoxWidth:u.value})},C=({previewRef:c,isOpen:y})=>{y?w({previewRef:c}):g({previewRef:c})},I=({previewRightWidth:c})=>{t("mouseupResizePreviewRight",{previewRightWidth:c})},L=()=>{w({previewRef:s.value})},M=new ResizeObserver(it(c=>{const y=c[0].contentRect;b!==y.width&&(b=y.width,L())},300)),P=()=>{M.observe(i.value)},x=()=>{M.unobserve(i.value)};return Ae(()=>{n(),x()}),{addEventListenerWindowResize:P,mousedownResizePreviewRight:h,mousemoveResizePreviewRight:S,mouseupResizePreviewRight:I,removeEventListenerWindowResize:x,togglePreviewResize:C}}function jo(e,t,{aTableRef:l=T({}),isMobile:i=T(void 0),rowsLocalAll:s=o(()=>[]),tableGrandparentRef:n=T({})}){const{isDropdownGlobalOpen:u}=fl(),{addEventListenerWindowResize:f,mousedownResizePreviewRight:d,mousemoveResizePreviewRight:v,mouseupResizePreviewRight:_,removeEventListenerWindowResize:p,togglePreviewResize:b}=zo(e,t,{aTableRef:l,tableGrandparentRef:n}),m=r(e,"keyId"),h=r(e,"preview"),A=r(e,"id"),S=t.emit,g=T({}),w=T(void 0),C=T(void 0),I=o(()=>!!h.value),L=({rowIndex:k})=>{window.isScrollDisabled||setTimeout(()=>{const U=`#${A.value}_${k}`;be({selector:U})})},M=()=>{window.isScrollDisabled||setTimeout(()=>{const k=`#${_t({tableId:A.value})}`;be({selector:k})})},P=o(()=>h.value==="right"||i.value),x=o(()=>!Q(w.value)),c=()=>{L({rowIndex:w.value}),S("togglePreview",{row:s.value[w.value],rowIndex:w.value,typeToggle:"close"}),C.value=w.value,w.value=void 0,p()},y=()=>{S("togglePreview",{row:s.value[w.value],rowIndex:w.value,typeToggle:"close"}),C.value=void 0,w.value=void 0,p()},R=o(()=>h.value==="down"),N=({rowIndex:k,row:U})=>{const $=me({row:U,rowIndex:k,keyId:m.value});delete g.value[$]},j=()=>{g.value={}},D=()=>{y(),j()},F=({rowIndex:k,row:U}={})=>{P.value?c():R.value&&N({rowIndex:k,row:U})},E=({rowIndex:k})=>{!i.value&&z(w.value)&&f(),S("togglePreview",{row:s.value[k],rowIndex:k,typeToggle:"open"}),w.value=k,C.value=void 0,M()},X=({rowIndex:k})=>{w.value===k?c():E({rowIndex:k})},le=({rowIndex:k,row:U})=>{const $=me({row:U,rowIndex:k,keyId:m.value});g.value[$]?delete g.value[$]:g.value[$]=!0};return{closePreview:F,closePreviewAll:D,hasPreview:I,isPreviewRightOpen:x,mousedownResizePreviewRight:d,mousemoveResizePreviewRight:v,mouseupResizePreviewRight:_,onTogglePreview:({row:k,rowIndex:U})=>{if(!u.value){if(P.value){X({rowIndex:U});return}R.value&&le({row:k,rowIndex:U})}},previewDownRowIds:g,previewRightRowIndex:w,previewRightRowIndexLast:C,togglePreviewResize:b}}function Xo(e,{dataSorted:t=o(()=>[]),limit:l=T(0),offset:i=T(0),setEmptySelectedRowsIndexes:s=()=>{},usePaginationLocal:n=o(()=>!1)}){const u=r(e,"clearSelectedRowsOnDataChange"),f=r(e,"pagination"),d=r(e,"rowsCountRenderPerTick"),v=T([]),_=T([]);let p=!0,b=0,m;const h=o(()=>{if(l.value&&!f.value.isOutside&&n.value){const x=i.value,c=x+l.value;return t.value.slice(x,c)}return t.value}),A=o(()=>h.value),S=o(()=>A.value.length),g=o(()=>!!S.value),w=()=>{const x=b*d.value,c=x+d.value;ee(h.value.slice(x,c),y=>_.value.push(y)),b++},C=()=>{m=setInterval(()=>{b*d.value>=h.value.length?clearInterval(m):w()})},I=()=>{clearInterval(m)},L=({row:x,rowIndex:c})=>{c>_.value.length-1||(_.value[c]=x)},M=({row:x})=>{_.value.unshift(x)},P=({index:x})=>{_.value.splice(x,1)};return ne(h,x=>{Sl(x,v.value)||(v.value=[...x],!p&&u.value&&s(),p=!1,_.value=[],b=0,I(),d.value>0?(w(),C()):_.value=h.value)},{immediate:!0,deep:!0}),{addRow:M,deleteRow:P,hasRows:g,rowsLocal:_,rowsLocalAll:A,rowsLocalLength:S,stopRenderRows:I,updateRow:L}}function Ko(e,{emit:t},{columnActionsWidth:l=o(()=>0),columnActionsWidthMin:i=o(()=>0),columnsOrdered:s=o(()=>[]),columnsScrollInvisible:n=T([]),indexFirstScrollInvisibleColumn:u=T(void 0),isMobile:f=T(!1),isMultipleActionsActive:d=T(void 0),modelColumnsVisibleLocal:v=T({}),modelIsTableWithoutScroll:_=T(!1),modelIsTableWithoutScrollComputed:p=o(()=>!1)}){const b=r(e,"columnWidthDefault"),m=r(e,"isActionColumnVisible"),h=r(e,"isSimpleTable"),A=T(void 0),S=T(0),g=T(void 0);let w=!1;const C=20,I=o(()=>m.value?i.value:0),L=o(()=>{const D=d.value?i.value:0,F=h.value?0:C;return D+F}),M=({sumGrows:D=0,freeSpaceWidth:F=0})=>{D>0?S.value=F/D:S.value=0},P=()=>{if(Q(u.value)||s.value.length<u.value)n.value=[];else{const D=[];for(let F=u.value;F<s.value.length;F++){const E=s.value[F];he({column:E,modelColumnsVisibleLocal:v.value})&&D.push(W(E))}n.value=D}},x=()=>{n.value=[],S.value=0,u.value=1e3,g.value=0},c=()=>{if(f.value||g.value===0){x();return}if(z(g.value))return;const D=g.value-L.value-I.value,F=g.value-L.value-l.value;let E=0,X=0,le=0,oe=!1;if(B(s.value,$=>{if(!he({column:$,modelColumnsVisibleLocal:v.value})){X++;return}const J=+$.width||b.value;if(E+J>D)return oe=!0,!1;E+=J,X++,le+=Q($.grow)?1:$.grow}),oe&&E>F)for(let $=X-1;$>=0;$--){X--;const J=s.value[X];if(!he({column:J,modelColumnsVisibleLocal:v.value}))continue;const ce=+J.width||b.value;if(E-=ce,le-=Q(J.grow)?1:J.grow,E<=F)break}let k=0;const U=oe?F:D;(p.value||X===s.value.length)&&(k=U-E),u.value=X,M({sumGrows:le,freeSpaceWidth:k}),P()},y=({entries:D,forceAdjust:F})=>{const E=D[0].contentRect;(F||g.value>E.width+C||g.value<E.width-C)&&(w||(w=!0,g.value=E.width,c(),w=!1))},R=new ResizeObserver(it(D=>{z(g.value)?y({entries:D,forceAdjust:!0}):y({entries:D})},300)),N=D=>{D?(R.unobserve(A.value),x()):(R.observe(A.value),_.value&&c())},j=D=>{_.value=D,t("updateModelIsTableWithoutScroll",D),_.value&&c()};return De(()=>{f.value||R.observe(A.value)}),Ae(()=>{R.unobserve(A.value)}),ne(s,()=>{c()}),{aTableRef:A,changeModelIsTableWithoutScroll:j,checkVisibleColumns:c,columnsVisibleAdditionalSpaceForOneGrow:S,onWatchMobileScrollControl:N}}function Qo(e){const t=r(e,"hasMobile"),l=r(e,"isActionColumnVisible"),i=r(e,"isActionColumnVisible"),s=r(e,"isColumnsDnd"),n=r(e,"isSimpleTable"),u=r(e,"modelIsTableWithoutScrollStart"),f=r(e,"rowActions"),d=T(u.value),{isMobileWidth:v}=pe(),_=o(()=>n.value?f.value&&!!f.value.length&&l.value:i.value),p=o(()=>!!(i.value&&!n.value)),b=o(()=>!!(s.value&&!n.value)),m=o(()=>t.value?!!v.value:!1),h=o(()=>n.value?!1:d.value);return{isActionColumnVisibleLocal:_,isActionIconVisibleLocal:p,isColumnsDndLocal:b,isMobile:m,modelIsTableWithoutScroll:d,modelIsTableWithoutScrollComputed:h}}function Yo(e,{viewCurrent:t=o(()=>({}))}){const l=r(e,"data"),i=r(e,"isSortingOutside"),s=r(e,"modelSort"),n=r(e,"useAdditionalSorting"),u=T([]),f=o(()=>n.value?t.value?t.value.useAdditionalSorting||!1:!0:!1),d=()=>{Pe(s.value)?u.value=[s.value]:se(s.value)&&(u.value=W(s.value))},v=o(()=>{const p={models:[],directions:[]};return u.value.length&&B(u.value,b=>{let m="asc",h=b;lt(b,"-")&&(m="desc",h=b.slice(1)),p.models.push(h),p.directions.push(m)}),p}),_=o(()=>u.value.length&&!i.value?Il(l.value||[],v.value.models,v.value.directions):l.value||[]);return ne(s,()=>{d()}),{dataSorted:_,initModelSort:d,modelSortLocal:u,useAdditionalSortingLocal:f}}function Zo(e,{emit:t},{modelSortLocal:l=T([]),closePreviewAll:i=()=>{}}){const s=r(e,"id"),n=r(e,"isSortingMultiColumn"),u=r(e,"sortingMultiColumnKey"),f=o(()=>`${u.value}Key`),d=b=>n.value&&b[f.value],v=({sortId:b})=>{const m=l.value.indexOf(b);if(m!==-1){l.value.splice(m,1,`-${b}`);return}const h=l.value.indexOf(`-${b}`);if(h!==-1){l.value.splice(h,1);return}l.value.push(b)},_=({sortId:b})=>{if(l.value.indexOf(b)!==-1){l.value=[`-${b}`];return}if(l.value.indexOf(`-${b}`)!==-1){l.value=[];return}l.value=[b]};return{changeModelSort:({sortId:b,$event:m,modelAll:h})=>{h?l.value=h:d(m)?v({sortId:b}):_({sortId:b}),t("changeSorting",{modelSort:W(l.value)}),Ce.$emit("changeTableSorting",{modelSort:W(l.value),tableId:s.value}),i()}}}function Jo(e,{isMobile:t=T(void 0),modelIsTableWithoutScrollComputed:l=o(()=>{})}){const i=r(e,"rowActionsSticky");return{isRowActionsStickyLocal:o(()=>!!(!t.value&&i.value&&!l.value))}}function ei(e,{countNotHiddenColumns:t=o(()=>-1),isMobile:l=T(!1)}){const i=r(e,"id"),s=r(e,"isLabelVisible"),n=o(()=>{const d={};return l.value||(d.role="table",d["aria-colcount"]=t.value),d}),u=o(()=>l.value?"list":"rowgroup"),f=o(()=>{if(s.value)return bt({tableId:i.value})});return{tableChildRole:u,tableLabelId:f,tableRoleAttributes:n}}function ti(e,{emit:t},{modelColumnsVisibleLocal:l=T({}),checkVisibleColumns:i=()=>{}}){return{changeModelColumnsVisible:n=>{l.value=n,t("update:modelColumnsVisible",W(l.value)),i()}}}function li(e){const t=r(e,"texts");return{emptyText:o(()=>z(t.value.empty)?"_A_TABLE_EMPTY_TEXT_":t.value.empty)}}function oi(){const e=T([]),t=T(void 0),l=T(void 0),i=T({}),s=T(void 0),n=T(void 0);return{columnsScrollInvisible:e,indexFirstScrollInvisibleColumn:t,isMultipleActionsActive:l,modelColumnsVisibleLocal:i,tableGrandparentRef:s,tableRef:n}}function ii(e,{emit:t},{closePreviewAll:l=()=>{}}){const i=r(e,"views"),s=r(e,"modelFilters"),n=r(e,"modelView"),u=o(()=>Oe(i.value,"id")),f=o(()=>u.value[n.value]),d=o(()=>i.value.length>1),v=()=>{if(d.value){const b=tt(i.value,["active",!0]);let m=i.value[0].id;b&&(m=b.id),t("updateView",{_modelView:m,view:u.value[m],modelFilters:s.value,init:!0})}},_=b=>{l(),t("updateView",{_modelView:b,view:u.value[b],modelFilters:s.value})},p=o(()=>!f.value||f.value.type==="table");return{hasViews:d,initViewCurrent:v,isViewTableVisible:p,updateViewCurrent:_,viewCurrent:f}}const di={name:"ATable",props:{additionalSortingColumns:{type:Array,required:!1,default:()=>[]},clearSelectedRowsOnDataChange:{type:Boolean,required:!1,default:!0},columnActionsOnePlusDropdownOptions:{type:Object,required:!1,default:()=>({actionsClasses:["a_btn a_btn_primary a_text_truncate"],btnGroupClass:"a_btn_group a_btn_group_table",hasDividerBeforeDropdown:!1,indexFirstDropdownAction:1,indexFirstDropdownActionMobile:1,minDropdownActions:1})},columnActionsView:{type:String,required:!1,default:"dropdown",validator:e=>["onePlusDropdown","onePlusDropdownEmptyPlace","dropdown"].indexOf(e)!==-1},columnActionsWidth:{type:Number,required:!1,default:void 0},columnActionsWidthDefaults:{type:Object,required:!1,default:()=>({default:170,min:50,onePlusDropdown:320,onePlusDropdownMin:200,btnGroupMaxWidth:180})},columnActionsWidthMin:{type:Number,required:!1,default:void 0},columns:{type:Array,required:!0},columnsDefaultValue:{type:[String,Number],required:!1,default:""},columnWidthDefault:{type:Number,required:!1,default:250},countAllRows:{type:Number,required:!1,default:void 0},countVisibleMobileColumns:{type:Number,required:!1,default:4,validator:e=>e>0},borderType:{type:String,required:!1,default:()=>Ye.value.propsDefault.borderType,validator:e=>["bordered","innerBordered"].indexOf(e)!==-1},data:{type:[Array,Object,Promise],required:!1},disabledActions:{type:Boolean,required:!1},disabledMultipleActions:{type:Boolean,required:!1},disabledOptions:{type:Boolean,required:!1},disabledPreview:{type:Boolean,required:!1},disabledPreviewRowCallback:{type:Function,required:!1},disabledRowActions:{type:Boolean,required:!1},disabledSort:{type:Boolean,required:!1},disabledViews:{type:Boolean,required:!1},extra:{type:Object,required:!1,default:void 0},hasMobile:{type:Boolean,required:!1,default:!0},hasScrollClass:{type:Boolean,required:!1,default:!0},id:{type:String,required:!1,default:()=>Tl("a_table")},isActionColumnVisible:{type:Boolean,required:!1,default:!1},isActionIconVisible:{type:Boolean,required:!1,default:!0},isColumnsDnd:{type:Boolean,required:!1,default:!1},isLabelVisible:{type:Boolean,required:!1,default:!0},isLoadingMultipleActions:{type:Boolean,required:!1},isLoadingOptions:{type:Boolean,required:!1},isLoadingTable:{type:Boolean,required:!1},isQuickSearch:{type:Boolean,required:!1},isSimpleTable:{type:Boolean,required:!1,default:!1},isSortingMultiColumn:{type:Boolean,required:!1,default:!1},isSortingOutside:{type:Boolean,required:!1},isTree:{type:Boolean,required:!1},isTreeCollapsible:{type:Boolean,required:!1,default:!0},isTreeOpened:{type:Boolean,required:!1},keyCountAllRowsInData:{type:String,required:!1,default:"count"},keyId:{type:String,required:!1,default:void 0},keyChildren:{type:String,required:!1,default:"children"},label:{type:[String,Number],required:!1,default:""},labelClass:{type:[String,Object],required:!1,default:void 0},labelTag:{type:String,required:!1,default:"h2"},modelColumnsOrdering:{type:Array,required:!1,default:()=>[]},modelColumnsVisible:{type:Object,required:!1,default:()=>({})},modelIsTableWithoutScrollStart:{type:Boolean,required:!1,default:!1},modelQuickSearch:{type:String,required:!1,default:""},modelSort:{type:[String,Array],required:!1,default:()=>[]},modelView:{type:[String,Number],required:!1,default:void 0},multipleActions:{type:Array,required:!1,default:()=>[]},offsetStart:{type:Number,required:!1,default:0},pagination:{type:Object,required:!1,default:()=>({use:!1,maxPages:5,limitsPerPage:[],limitStart:10,disabled:!1,isOutside:!1,outside:!1,modes:{desktop:{pagination:{mode:"normal",position:0},perPage:{mode:"inline",position:1}},mobile:{pagination:{mode:"loadMore"}}}})},preview:{type:String,required:!1,default:void 0,validator:e=>["right","down"].indexOf(e)!==-1},previewBoxWidth:{type:Number,required:!1,default:300},previewStyles:{type:[String,Object],required:!1,default:void 0},rowActions:{type:Array,required:!1,default:()=>[]},rowActionsClass:{type:[String,Object],required:!1,default:void 0},rowActionsSticky:{type:Boolean,required:!1,default:!0},rowClass:{type:[String,Object,Function],required:!1,default:void 0},rowsCountRenderPerTick:{type:Number,required:!1,default:25,validator:e=>xe(e)&&e>=0},rowsFooter:{type:Array,required:!1,default:()=>[]},showCount:{type:Boolean,required:!1,default:!0},showFirstSortingSequenceNumber:{type:Boolean,required:!1,default:!1},sortingMultiColumnKey:{type:String,required:!1,default:"shift",validator:e=>["shift","ctrl","alt"].indexOf(e)!==-1},sortingSequenceNumberClass:{type:[String,Object],required:!1,default:"a_badge"},tableActions:{type:Array,required:!1,default:()=>[]},tableActionsIndexFirstDropdownAction:{type:Number,required:!1,default:-1},tableActionsIndexFirstDropdownActionMobile:{type:Number,required:!1,default:0},texts:{type:Object,required:!1,default:()=>({empty:"_A_TABLE_EMPTY_TEXT_"})},useAdditionalSorting:{type:Boolean,required:!1,default:!0},useViewSlot:{type:Boolean,required:!1},valuesForColumnDefault:{type:Array,required:!1,default:()=>[null,void 0,""]},views:{type:Array,required:!1,default:()=>[]}},emits:["changeColumnsOrdering","changeColumnsVisible","changeLimit","changeOffset","changeSorting","mouseupResizePreviewRight","initTable","togglePreview","toggleMultipleActions","update:modelColumnsOrder","update:modelColumnsVisible","update:modelQuickSearch","updateModelIsTableWithoutScroll","updateView"],provide(){return{changeModelColumnsVisible:this.changeModelColumnsVisible,columnActionsOnePlusDropdownOptions:o(()=>this.columnActionsOnePlusDropdownOptions),columns:o(()=>this.columns),columnsDefaultValue:o(()=>this.columnsDefaultValue),columnWidthDefault:o(()=>this.columnWidthDefault),isLoadingOptions:o(()=>this.isLoadingOptions),isLoadingTable:o(()=>this.isLoadingTable),keyId:o(()=>this.keyId),rowActions:o(()=>this.rowActions),tableId:o(()=>this.id),valuesForColumnDefault:o(()=>this.valuesForColumnDefault)}},setup(e,t){const{isActionColumnVisibleLocal:l,isActionIconVisibleLocal:i,isColumnsDndLocal:s,isMobile:n,modelIsTableWithoutScroll:u,modelIsTableWithoutScrollComputed:f}=Qo(e),{countAllRowsLocal:d,totalRowsCount:v}=Vo(e),{columnsScrollInvisible:_,indexFirstScrollInvisibleColumn:p,isMultipleActionsActive:b,modelColumnsVisibleLocal:m,tableGrandparentRef:h,tableRef:A}=oi(),{scrollToTable:S,setFocusToTable:g}=Wo({tableRef:A}),{hasViews:w,initViewCurrent:C,isViewTableVisible:I,updateViewCurrent:L,viewCurrent:M}=ii(e,t,{closePreviewAll:_e}),{dataSorted:P,initModelSort:x,modelSortLocal:c,useAdditionalSortingLocal:y}=Yo(e,{viewCurrent:M}),{columnsOrderedFromSimpleTable:R,renderedGroupedColumns:N}=Fo(e,{modelSort:c}),{columnIdsGroupByLocked:j,columnsFilteredForRender:D,columnsFilteredForRenderIndexesMapping:F,columnsOrdered:E,countNotHiddenColumns:X}=No(e,{columnsScrollInvisible:_,indexFirstScrollInvisibleColumn:p,modelColumnsVisibleLocal:m,modelIsTableWithoutScrollComputed:f,columnsOrderedFromSimpleTable:R}),{changeLimit:le,changeOffset:oe,limit:k,offset:U,usePaginationLocal:$}=Ho(e,t,{closePreviewAll:_e,scrollToTable:S,setFocusToTable:g,viewCurrent:M}),{addRow:J,deleteRow:ce,hasRows:At,rowsLocal:Be,rowsLocalAll:fe,rowsLocalLength:ke,stopRenderRows:gt,updateRow:Ct}=Xo(e,{dataSorted:P,limit:k,offset:U,setEmptySelectedRowsIndexes:Ue,usePaginationLocal:$}),{columnActionsBtnGroupMaxWidthStyle:St,columnActionsWidthLocal:Ne,columnActionsWidthMinLocal:Fe,isColumnActionWide:It}=ko(e,{isMobile:n,rowsLocal:Be}),{aTableRef:qe,changeModelIsTableWithoutScroll:Tt,checkVisibleColumns:re,columnsVisibleAdditionalSpaceForOneGrow:Rt,onWatchMobileScrollControl:yt}=Ko(e,t,{columnActionsWidth:Ne,columnActionsWidthMin:Fe,columnsOrdered:E,columnsScrollInvisible:_,indexFirstScrollInvisibleColumn:p,isMobile:n,isMultipleActionsActive:b,modelColumnsVisibleLocal:m,modelIsTableWithoutScroll:u,modelIsTableWithoutScrollComputed:f}),{changeColumnsOrdering:Lt,checkColumnsOrdering:xt}=qo(e,t,{checkVisibleColumns:re,columnIdsGroupByLocked:j,columnsFilteredForRenderIndexesMapping:F}),{isRowActionsStickyLocal:Ot}=Jo(e,{isMobile:n,modelIsTableWithoutScrollComputed:f}),{areAllRowsSelected:Pt,areAllVisibleRowsSelected:Dt,areSomeRowsSelected:Mt,closeMultipleActionsActive:Et,currentMultipleActions:Bt,hasMultipleActions:kt,selectedRows:Nt,selectedRowsIndexes:Ft,setEmptySelectedRowsIndexes:qt,setSelectedRowsIndexes:Vt,toggleBtnAllRows:Wt,toggleMultipleActionsActive:Ut}=$o(e,t,{checkVisibleColumns:re,isMultipleActionsActive:b,rowsLocalAll:fe,rowsLocalLength:ke}),{changeModelColumnsVisible:Ht}=ti(e,t,{modelColumnsVisibleLocal:m,checkVisibleColumns:re}),{closePreview:Gt,closePreviewAll:$t,hasPreview:zt,isPreviewRightOpen:jt,onTogglePreview:Ve,mousedownResizePreviewRight:Xt,mousemoveResizePreviewRight:Kt,mouseupResizePreviewRight:Qt,previewDownRowIds:Yt,previewRightRowIndex:We,previewRightRowIndexLast:Zt,togglePreviewResize:Jt}=jo(e,t,{aTableRef:qe,isMobile:n,rowsLocalAll:fe,tableGrandparentRef:h}),{tableChildRole:el,tableLabelId:tl,tableRoleAttributes:ll}=ei(e,{countNotHiddenColumns:X,isMobile:n}),{allVisibleMobileColumns:ol}=Go({columnsOrdered:E,isMobile:n,modelColumnsVisibleLocal:m}),{changeModelSort:il}=Zo(e,t,{modelSortLocal:c,closePreviewAll:_e}),{initTable:sl}=Uo(e,t,{checkColumnsOrdering:xt,checkVisibleColumns:re,modelColumnsVisibleLocal:m}),{emptyText:nl}=li(e);function _e(){$t()}function Ue(){qt()}return ne(n,ge=>{yt(ge),_e()}),ne(It,(ge,al)=>{ge!==al&&re()}),V("changeModelIsTableWithoutScroll",Tt),V("changeModelSort",il),V("columnsOrdered",E),V("columnsFilteredForRender",D),V("columnsScrollInvisible",_),V("columnsVisibleAdditionalSpaceForOneGrow",Rt),V("columnActionsWidthLocal",Ne),V("columnActionsWidthMinLocal",Fe),V("currentMultipleActions",Bt),V("hasPreview",zt),V("indexFirstScrollInvisibleColumn",p),V("isActionColumnVisible",l),V("isActionIconVisible",i),V("isColumnsDnd",s),V("isMobile",n),V("isMultipleActionsActive",b),V("modelIsTableWithoutScroll",f),V("onTogglePreview",Ve),V("previewRightRowIndex",We),V("previewRightRowIndexLast",Zt),V("rowsLocalAll",fe),V("modelColumnsVisibleLocal",m),V("changeColumnsOrdering",Lt),C(),sl(),x(),{addRow:J,allVisibleMobileColumns:ol,areAllRowsSelected:Pt,areAllVisibleRowsSelected:Dt,areSomeRowsSelected:Mt,aTableRef:qe,changeLimit:le,changeModelColumnsVisible:Ht,changeOffset:oe,checkVisibleColumns:re,closeMultipleActionsActive:Et,closePreview:Gt,closePreviewAll:_e,columnActionsBtnGroupMaxWidthStyle:St,columnsFilteredForRender:D,columnsOrdered:E,countAllRowsLocal:d,deleteRow:ce,emptyText:nl,hasMultipleActions:kt,hasRows:At,hasViews:w,isMobile:n,isMultipleActionsActive:b,isPreviewRightOpen:jt,isRowActionsStickyLocal:Ot,isViewTableVisible:I,limit:k,modelColumnsVisibleLocal:m,modelIsTableWithoutScrollComputed:f,modelSortLocal:c,mousedownResizePreviewRight:Xt,mousemoveResizePreviewRight:Kt,mouseupResizePreviewRight:Qt,offset:U,onTogglePreview:Ve,previewDownRowIds:Yt,previewRightRowIndex:We,renderedGroupedColumns:N,rowsLocal:Be,rowsLocalAll:fe,rowsLocalLength:ke,selectedRows:Nt,selectedRowsIndexes:Ft,setEmptySelectedRowsIndexes:Ue,setSelectedRowsIndexes:Vt,stopRenderRows:gt,tableChildRole:el,tableGrandparentRef:h,tableLabelId:tl,tableRef:A,tableRoleAttributes:ll,toggleBtnAllRows:Wt,toggleMultipleActionsActive:Ut,togglePreviewResize:Jt,totalRowsCount:v,updateRow:Ct,updateViewCurrent:L,useAdditionalSortingLocal:y,usePaginationLocal:$,viewCurrent:M}},data(){return{resolved:void 0,error:void 0}},computed:{hasRowsFooter(){return this.rowsFooter.length>0}},methods:{updateModelQuickSearch(e){this.$emit("update:modelQuickSearch",e)}},render(){return a("div",{ref:"tableGrandparentRef",class:["a_table__grandparent",{a_table_mobile:this.isMobile,a_table__grandparent_without_scroll:!this.hasScrollClass}]},[this.$slots.tablePrepend&&this.$slots.tablePrepend({id:this.id}),a("div",{ref:"aTableRef",class:["a_table__parent",{a_table__parent_scrollable:this.hasScrollClass&&!this.modelIsTableWithoutScrollComputed}]},[a(Co,{additionalSortingColumns:this.additionalSortingColumns,areAllRowsSelected:this.areAllRowsSelected,areSomeRowsSelected:this.areSomeRowsSelected,closeMultipleActionsActive:this.closeMultipleActionsActive,countAllRows:this.countAllRowsLocal,disabledActions:this.disabledActions,disabledMultipleActions:this.disabledMultipleActions,disabledSort:this.disabledSort,disabledViews:this.disabledViews,extra:this.extra,hasViews:this.hasViews,isLabelVisible:this.isLabelVisible,isLoadingMultipleActions:this.isLoadingMultipleActions,isQuickSearch:this.isQuickSearch,isSortingMultiColumn:this.isSortingMultiColumn,label:this.label,labelClass:this.labelClass,labelTag:this.labelTag,modelQuickSearch:this.modelQuickSearch,modelSort:this.modelSortLocal,modelView:this.modelView,multipleActions:this.multipleActions,selectedRows:this.selectedRows,showCount:this.showCount,tableActions:this.tableActions,tableActionsIndexFirstDropdownAction:this.tableActionsIndexFirstDropdownAction,tableActionsIndexFirstDropdownActionMobile:this.tableActionsIndexFirstDropdownActionMobile,useAdditionalSorting:this.useAdditionalSortingLocal,useViewSlot:this.useViewSlot,viewCurrent:this.viewCurrent,views:this.views,onUpdateViewCurrent:this.updateViewCurrent,onUpdateModelQuickSearch:this.updateModelQuickSearch,onToggleMultipleActionsActive:this.toggleMultipleActionsActive,onToggleBtnAllRows:this.toggleBtnAllRows},this.$slots),this.$slots.topPanelAppend?this.$slots.topPanelAppend():"",this.isViewTableVisible&&a("div",{ref:"tableRef","aria-labelledby":this.tableLabelId,class:["a_table",{a_table_simple:this.isSimpleTable,a_table_bordered:this.borderType==="bordered",a_table_inner_bordered:this.borderType==="innerBordered"}],...this.tableRoleAttributes},[this.isSimpleTable?a(io,{areAllRowsSelected:this.areAllRowsSelected,areAllVisibleRowsSelected:this.areAllVisibleRowsSelected,areSomeRowsSelected:this.areSomeRowsSelected,disabledOptions:this.disabledOptions,disabledSort:this.disabledSort,hasMultipleActions:this.hasMultipleActions,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSortLocal,rowsLocalLength:this.rowsLocalLength,showFirstSortingSequenceNumber:this.showFirstSortingSequenceNumber,sortingSequenceNumberClass:this.sortingSequenceNumberClass,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes,columnsForRender:this.renderedGroupedColumns}):a(oo,{areAllRowsSelected:this.areAllRowsSelected,areAllVisibleRowsSelected:this.areAllVisibleRowsSelected,areSomeRowsSelected:this.areSomeRowsSelected,disabledOptions:this.disabledOptions,disabledSort:this.disabledSort,hasMultipleActions:this.hasMultipleActions,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSortLocal,rowsLocalLength:this.rowsLocalLength,showFirstSortingSequenceNumber:this.showFirstSortingSequenceNumber,sortingSequenceNumberClass:this.sortingSequenceNumberClass,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes}),a("div",{class:"a_table__loading"},[a(vl,{isLoading:this.isLoadingTable},()=>[a("div",{class:"a_table__body",role:this.tableChildRole},{default:()=>this.rowsLocal.map((e,t)=>{const l=me({row:e,rowIndex:t,keyId:this.keyId});return a(Ke,{key:l,allVisibleMobileColumns:this.allVisibleMobileColumns,areAllRowsSelected:this.areAllRowsSelected,columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,countVisibleMobileColumns:this.countVisibleMobileColumns,disabledPreview:this.disabledPreview,disabledPreviewRowCallback:this.disabledPreviewRowCallback,disabledRowActions:this.disabledRowActions,isFooter:!1,isPreviewDownOpen:this.previewDownRowIds[l],isRowActionsStickyLocal:this.isRowActionsStickyLocal,isTree:this.isTree,isTreeCollapsible:this.isTreeCollapsible,isTreeOpened:this.isTreeOpened,keyChildren:this.keyChildren,keyId:this.keyId,level:1,row:e,rowActionsClass:this.rowActionsClass,rowClass:this.rowClass,rowIndex:t,rowsLength:this.rowsLocal.length,selectedRowsIndexes:this.selectedRowsIndexes,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes},{get:i=>[a(Ie,{data:i.row,keyLabel:i.column.keyLabel,filter:i.column.filter,filterParameters:i.column.filterParameters,defaultValue:i.column.defaultValue,tag:i.column.filterTag||"div"})],...this.$slots})})}),this.isViewTableVisible&&!this.hasRows&&a(q,{class:"a_table__empty_text",text:this.emptyText}),this.hasRowsFooter&&a("div",{class:"a_table__footer",role:this.tableChildRole},this.rowsFooter.map((e,t)=>{const l=me({row:e,rowIndex:t,keyId:this.keyId});return a(Ke,{key:l,allVisibleMobileColumns:this.allVisibleMobileColumns,areAllRowsSelected:this.areAllRowsSelected,columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,countVisibleMobileColumns:this.countVisibleMobileColumns,disabledPreview:this.disabledPreview,disabledPreviewRowCallback:this.disabledPreviewRowCallback,disabledRowActions:this.disabledRowActions,isFooter:!0,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isTree:this.isTree,isTreeCollapsible:this.isTreeCollapsible,isTreeOpened:this.isTreeOpened,keyChildren:this.keyChildren,keyId:this.keyId,level:1,row:e,rowActionsClass:this.rowActionsClass,rowClass:this.rowClass,rowIndex:t,rowsLength:this.rowsFooter.length,selectedRowsIndexes:this.selectedRowsIndexes,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes},{get:i=>[a(Ie,{data:i.row,keyLabel:i.column.footerPath,filter:i.column.footerFilter,filterParameters:i.column.footerFilterParameters,defaultValue:i.column.footerDefaultValue})],...this.$slots})}))])])]),!this.isViewTableVisible&&this.viewCurrent&&this.$slots[this.viewCurrent.type]&&this.$slots[this.viewCurrent.type]({isLoading:this.isLoadingTable,rows:this.rowsLocalAll}),this.usePaginationLocal&&a(Ul,{countAllRows:this.countAllRowsLocal,disabled:this.pagination.disabled,hasRows:this.hasRows,limit:this.limit,limitsPerPage:this.pagination.limitsPerPage,maxPages:this.pagination.maxPages,offset:this.offset,rowsLength:this.rowsLocalLength,totalRowsCount:this.totalRowsCount,"onUpdate:limit":this.changeLimit,"onUpdate:offset":this.changeOffset}),this.isPreviewRightOpen&&a(uo,{countAllRows:this.countAllRowsLocal,isMobile:this.isMobile,isLoadingTable:this.isLoadingTable,limitPagination:this.limit,offsetPagination:this.offset,previewStyles:this.previewStyles,rowIndex:this.previewRightRowIndex,rows:this.rowsLocalAll,disabledPreviewRowCallback:this.disabledPreviewRowCallback,usePagination:!!this.usePaginationLocal,onClosePreview:this.closePreview,onMousedownResizePreviewRight:this.mousedownResizePreviewRight,onMousemoveResizePreviewRight:this.mousemoveResizePreviewRight,onMouseupResizePreviewRight:this.mouseupResizePreviewRight,onTogglePreview:this.onTogglePreview,onTogglePreviewResize:this.togglePreviewResize,"onUpdate:offset":this.changeOffset},this.$slots)])])}};export{di as A,Te as a};
