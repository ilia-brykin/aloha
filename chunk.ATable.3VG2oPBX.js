import{r as Ze,s as ae,t as ve,c as Z,u as fl,v as ce,w as vl,x as pe,y as de,z as Y,A as q,j as K,B as ml,C as pl,b as te,E as wl,D as Al,F as gl,g as xe,G as be,f as et,a as Cl,i as Oe,H as tt,e as $e,o as Sl,P as lt,I as Se,J as Il,K as Tl,L as Rl,M as yl,N as Ll,O as xl}from"./bundle.index.Cs0BOohE.js";import{i as j,a as oe,f as E,g as G,h as Q,Y as Ol,m as U,c as W,G as it,Z as Pl,l as Pe,_ as Ie,E as Dl,j as se,N as De,T as st,s as ot,d as Me,n as we,$ as Ml,U as ee,a0 as El,W as Bl,L as ze,y as nt,K as je,Q as at,k as kl,S as Nl,u as Fl}from"./chunk.vendor-lodash.1bZ290WX.js";import{w as rt,h as n,t as u,d as i,f as ne,b7 as ql,b8 as Vl,L as Wl,b9 as Ul,r as T,ba as Gl,K as Ee,i as O,N as Hl,z as ut,bb as $l,x as zl,J as Ae,bc as jl,bd as Xl,be as Kl,bf as Ql,bg as Yl,bh as Jl,B as Be,o as ge,bi as Xe,bj as Zl,bk as ei,bl as dt,e as ke,bm as ti,M as V}from"./chunk.vendor.BCr5dHHZ.js";const Te={name:"AGet",props:{keyLabel:{type:[String,Array],required:!0,info:"Weg zu Informationen. Z.B.('a[0].b.c', 'vertrag.antrag_obj.pk', ['vertrag', aloha, 'pk'])"},data:{type:[String,Number,Boolean,Array,Object,Date,Function,Symbol],required:!1,default:void 0,info:"Haupt-Objekt oder -Array, wo man sucht"},tag:{type:String,required:!1,default:"span",info:"Semantisch-relevanter HTML-Tag.(span, div, ...)"},defaultValue:{type:[String,Number,Boolean,Array,Object,Date,Function,Symbol],required:!1,default:void 0,info:"Standardwert, wenn Lodash-Funktion 'get' undefined zurückschickt"},filter:{type:String,required:!1,default:void 0},filterParameters:{type:[Object,String,Number,Boolean],required:!1,default:()=>{}},replacedWithDefault:{type:[String,Number,Boolean,Array,Object,Date,Function,Symbol],required:!1,default:void 0,info:"Wenn das Wert, das Lodash-Funktion 'get' zurückschickt, === this.replacedWithDefault, dann this.defaultValue"}},setup(){return ae()},computed:{valueLocal(){let e=G(this.data,this.keyLabelLocal);if(Q(e)&&(e=this.defaultValue),this.isValueEqualsWithValueThenDefaultValue(e))return this.defaultValue;if(this.filter){const t=`filter${Ol(this.filter)}`;if(U(this[t]))return this[t](e,this.filterParameters);console.warn(`filter "${t}" ist not defined`)}return e},keyLabelLocal(){return oe(this.keyLabel)?this.keyLabel.join("."):this.keyLabel}},methods:{isValueEqualsWithValueThenDefaultValue(e){if(j(this.replacedWithDefault))return!1;let t=!1;return oe(this.replacedWithDefault)?E(this.replacedWithDefault,l=>{if(l===e)return t=!0,!1}):this.replacedWithDefault===e&&(t=!0),t}},render(){return rt(n(this.tag),[[Ze,this.valueLocal]])}};function li(e){const t=u(e,"isLast"),l=u(e,"hasDropdownActions"),s=u(e,"hasDividerBeforeDropdown"),o=i(()=>t.value&&l.value),a=i(()=>o.value&&!s.value);return{isDropdownActionsAfterGroup:i(()=>o.value&&s.value),isDropdownActionsInGroup:a}}const ii={name:"AGroupButtonDropdownItem",props:{actionsClasses:{type:Array,required:!0},actionsIds:{type:Array,required:!0},actionsDropdown:{type:Array,required:!0},btnGroupClass:{type:[String,Array,Object],required:!1,default:"a_btn_group"},data:{type:Object,required:!0},disabled:{type:Boolean,required:!1},dropdownAttributes:{type:Object,required:!0},hasDividerBeforeDropdown:{type:Boolean,required:!0},hasDropdownActions:{type:Boolean,required:!0},isLast:{type:Boolean,required:!0}},setup(e){const{isDropdownActionsAfterGroup:t,isDropdownActionsInGroup:l}=li(e);return{isDropdownActionsAfterGroup:t,isDropdownActionsInGroup:l}},render(){return[!!this.data.children.length&&n("div",{class:this.btnGroupClass},[...this.data.children.map(e=>{let t=e.classButton?e.classButton:this.actionsClasses[e.actionNotDividerIndex];e.classExtra&&(t=ve({class1:t,class2:e.classExtra}));const l=e.id?e.id:this.actionsIds[e.actionNotDividerIndex],s=this.disabled||e.disabled;if(e.type==="button")return n(Z,{...e,id:l,class:t,classButton:void 0,classExtra:void 0,disabled:s,onClick:e.callback,callback:void 0,actionNotDividerIndex:void 0,isHidden:void 0,isConfirm:void 0,callbackLocal:void 0});if(e.type==="link")return n(fl,{...e,id:l,classButton:void 0,classExtra:void 0,disabled:s,class:t,actionNotDividerIndex:void 0,isHidden:void 0,type:void 0,isConfirm:void 0,callbackLocal:void 0});if(e.type==="template"&&e.slotName&&this.$slots[e.slotName])return this.$slots[e.slotName]({id:l,class:t,action:e})}),this.isDropdownActionsInGroup&&n(ce,{isHideWithoutActionAndSlot:!0,actions:this.actionsDropdown,disabled:this.disabled,...this.dropdownAttributes},this.$slots)]),this.isDropdownActionsAfterGroup&&n(ce,{isHideWithoutActionAndSlot:!0,actions:this.actionsDropdown,disabled:this.disabled,...this.dropdownAttributes},this.$slots)]}};function si(e){const t=u(e,"actions"),l=u(e,"indexFirstDropdownAction"),s=u(e,"indexFirstDropdownActionMobile"),o=u(e,"minDropdownActions"),{isMobileWidth:a}=pe(),r=i(()=>vl({actions:t.value})),v=i(()=>{const m=W(r.value);return E(m,f=>{f.classButton=ve({class1:f.classButton,class2:f.class}),f.class=ve({class1:f.classDropdown,class2:f.class}),delete f.classDropdown,f.classExtra&&(f.class=ve({class1:f.classExtra,class2:f.class}))}),m}),d=i(()=>a.value?s.value:l.value),b=({actions:m=[],minCountActions:f=0})=>{let p=0;return E(m,S=>{if(p>=f)return!1;S.type!=="divider"&&p++}),p>=f},_=i(()=>{const m=W(v.value),f={buttons:[],dropdown:[]};let p=0,S=!0;return E(m,(g,A)=>{if(p===d.value){const C=m.slice(A,m.length);if(b({actions:C,minCountActions:o.value}))return f.dropdown=m.splice(A,m.length),d.value===0&&f.buttons.push({type:"group",children:[]}),!1}g.type!=="divider"?(g.actionNotDividerIndex=p,p++,S?f.buttons.push({type:"group",children:[g]}):it(f.buttons).children.push(g),S=!1):S=!0}),f}),w=i(()=>_.value.dropdown.length>0),h=i(()=>v.value.length>0);return{actionsAllWithClassesFiltered:v,actionsGrouped:_,hasActionsAllFiltered:h,hasDropdownActions:w}}const Re={name:"AGroupButtonDropdown",props:{actions:{type:Array,required:!1,default:()=>[]},actionsClasses:{type:Array,required:!1,default:()=>de.value.propsDefault.actionsClasses},actionsIds:{type:Array,required:!1,default:()=>[]},btnGroupClass:{type:[String,Array,Object],required:!1,default:"a_btn_group"},disabled:{type:Boolean,required:!1},dropdownAttributes:{type:Object,required:!1,default:()=>de.value.propsDefault.dropdownAttributes},hasDividerBeforeDropdown:{type:Boolean,required:!1,default:()=>de.value.propsDefault.hasDividerBeforeDropdown},indexFirstDropdownAction:{type:Number,required:!1,default:()=>de.value.propsDefault.indexFirstDropdownAction,validator:e=>e>=-1},indexFirstDropdownActionMobile:{type:Number,required:!1,default:()=>de.value.propsDefault.indexFirstDropdownActionMobile,validator:e=>e>=-1},minDropdownActions:{type:Number,required:!1,default:()=>de.value.propsDefault.minDropdownActions},innerFlagHasActions:{type:Boolean,required:!1}},emits:["update:innerFlagHasActions"],setup(e,{emit:t}){const{actionsAllWithClassesFiltered:l,actionsGrouped:s,hasActionsAllFiltered:o,hasDropdownActions:a}=si(e);return ne(o,r=>{t("update:innerFlagHasActions",r)},{immediate:!0}),{actionsAllWithClassesFiltered:l,actionsGrouped:s,hasActionsAllFiltered:o,hasDropdownActions:a}},render(){if(this.hasActionsAllFiltered)return n("div",{class:"aloha_group_btn_dropdown"},[...this.actionsGrouped.buttons.map((e,t)=>n(ii,{btnGroupClass:this.btnGroupClass,data:e,disabled:this.disabled,actionsDropdown:this.actionsGrouped.dropdown,hasDropdownActions:this.hasDropdownActions,dropdownAttributes:this.dropdownAttributes,actionsClasses:this.actionsClasses,actionsIds:this.actionsIds,isLast:t===this.actionsGrouped.buttons.length-1,hasDividerBeforeDropdown:this.hasDividerBeforeDropdown},this.$slots))])}};function oi(e,{emit:t}){const l=u(e,"isLoadingTable"),s=u(e,"limit"),o=i(()=>`${s.value}`),a=d=>{l.value||t("update:limit",+d)};return{changeLimit:a,changeLimitFromSelect:({model:d})=>{a(d)},keyDownChangeLimit:(d,b)=>{(d.keyCode===Y.enter||d.keyCode===Y.space)&&(a(b),d.stopPropagation(),d.preventDefault())},limitString:o}}function ni(e){const t=u(e,"offset"),l=u(e,"rowsLength"),s=u(e,"countAllRows"),{filterCurrency:o}=ae(),a=i(()=>o(+t.value+1,{suffix:"",digits:0})),r=i(()=>o(+t.value+l.value,{suffix:"",digits:0})),v=i(()=>o(s.value,{suffix:"",digits:0}));return{extraForTranslate:i(()=>({start:a.value,current:r.value,count:v.value}))}}const ai={name:"APaginationCountPerPage",props:{countAllRows:{type:Number,required:!0},disabled:{type:Boolean,required:!1},limit:{type:Number,required:!0},limitsPerPage:{type:Array,required:!1,default:()=>["10","25","50","100"]},mode:{type:String,required:!1,default:"group",validator:e=>["inline","group","select"].indexOf(e)!==-1},offset:{type:Number,required:!0},rowsLength:{type:Number,required:!0},showTextCountFromTo:{type:Boolean,required:!1,default:!0}},emits:["update:limit"],setup(e,t){const{changeLimit:l,changeLimitFromSelect:s,keyDownChangeLimit:o,limitString:a}=oi(e,t),{extraForTranslate:r}=ni(e);return{changeLimit:l,changeLimitFromSelect:s,extraForTranslate:r,keyDownChangeLimit:o,limitString:a}},render(){return n("div",{class:"a_pagination__counts"},this.mode==="inline"||this.mode==="group"?[this.showTextCountFromTo?n(q,{class:"a_pagination__count_from_to",html:"_A_COUNT_PER_PAGE_{{start}}_{{current}}_{{count}}_",extra:this.extraForTranslate}):"",n(q,{tag:"span",class:"a_pagination__count__text",html:"_A_COUNT_PER_PAGE_"}),this.mode==="inline"?n("div",{class:"a_pagination__count"},[this.limitsPerPage.map(e=>{const t=+e===this.limit;return n("div",{class:"a_pagination__count__item"},[n(K,{"aria-current":t?!0:void 0,class:"a_btn a_btn_link a_pagination__count__button",disabled:t||this.disabled,extra:{count:e},text:e,textAriaHidden:!0,textScreenReader:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",title:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",type:"button",onClick:()=>this.changeLimit(e)})])})]):n("ul",{class:"a_pagination a_pagination_group"},[this.limitsPerPage.map(e=>{const t=+e===this.limit;return n("li",{class:["a_pagination__item",{active:t}]},[n(K,{"aria-current":t?!0:void 0,class:"a_pagination__item__link",disabled:this.disabled,extra:{count:e},role:"button",tabindex:t||this.disabled?-1:0,tag:"a",text:e,textAriaHidden:!0,textScreenReader:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",title:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",type:"button",onClick:()=>this.changeLimit(e),onKeydown:l=>this.keyDownChangeLimit(l,e)})])})])]:[this.showTextCountFromTo?n(q,{class:"a_pagination__count_from_to",html:"_A_COUNT_PER_PAGE_{{start}}_{{current}}_{{count}}_",extra:this.extraForTranslate}):"",n(ml,{label:"_A_COUNT_PER_PAGE_",labelClass:"a_sr_only",data:this.limitsPerPage,isDataSimpleArray:!0,isLabelFloat:!1,deselectable:!1,menuWidthType:"by_content",modelValue:this.limitString,disabled:this.disabled,change:this.changeLimitFromSelect})])}};function ri(e,{currentItem:t=i(()=>1),maxItems:l=i(()=>1)}){const s=u(e,"disabled"),o=i(()=>s.value||t.value===1),a=i(()=>s.value||t.value===l.value);return{disabledButtonFirstPage:o,disabledButtonLastPage:a}}function ui(e){const t=u(e,"paginationMaxItems"),l=u(e,"offset"),s=u(e,"limit"),o=u(e,"totalRowsCount"),a=i(()=>pl(t.value)),r=i(()=>(l.value/s.value>>0)+1),v=i(()=>Pl(o.value/s.value)),d=i(()=>Math.floor(t.value/2)),b=i(()=>t.value*2-1),_=({currentItemIndex:h,paginationLength:m})=>{let f,p;const S=d.value,g=b.value;if(h<=S?(f=0,p=t.value):h>=g-(S+1)?(f=g-t.value,p=g):a.value?(f=h-S+1,p=h+S+1):(f=h-S,p=h+S+1),p>m){const A=p-m;p=m+1,f=f-A,f<0&&(f=0)}return{indexStart:f,indexEnd:p}},w=i(()=>{const h=[];let m=-1;for(let S=t.value-1;S>-t.value;S--){const g=r.value-S;g>0&&g<=v.value&&h.push(g),S===0&&(m=h.length-1)}const{indexStart:f,indexEnd:p}=_({currentItemIndex:m,paginationLength:h.length});return h.slice(f,p)});return{currentItem:r,maxItems:v,paginationItems:w}}function di(e,{emit:t},{currentItem:l=i(()=>1),disabledButtonFirstPage:s=i(()=>!1),disabledButtonLastPage:o=i(()=>!1),maxItems:a=i(()=>1)}){const r=u(e,"disabled"),v=u(e,"limit"),d=u(e,"offset"),b=C=>{if(r.value||C===l.value)return;const I=(C-1)*v.value;t("update:offset",I)},_=()=>{s.value||t("update:offset",0)},w=()=>{s.value||t("update:offset",d.value-v.value)},h=()=>{o.value||t("update:offset",(a.value-1)*v.value)},m=()=>{o.value||t("update:offset",d.value+v.value)};return{keyDownUpdateOffset:(C,I)=>{(C.keyCode===Y.enter||C.keyCode===Y.space)&&(b(I),C.stopPropagation(),C.preventDefault())},keyDownUpdateOffsetFirst:C=>{(C.keyCode===Y.enter||C.keyCode===Y.space)&&(_(),C.stopPropagation(),C.preventDefault())},keyDownUpdateOffsetLast:C=>{(C.keyCode===Y.enter||C.keyCode===Y.space)&&(h(),C.stopPropagation(),C.preventDefault())},keyDownUpdateOffsetNext:C=>{(C.keyCode===Y.enter||C.keyCode===Y.space)&&(m(),C.stopPropagation(),C.preventDefault())},keyDownUpdateOffsetPrevious:C=>{(C.keyCode===Y.enter||C.keyCode===Y.space)&&(w(),C.stopPropagation(),C.preventDefault())},updateOffset:b,updateOffsetFirst:_,updateOffsetLast:h,updateOffsetNext:m,updateOffsetPrevious:w}}const ci={name:"APaginationPages",props:{disabled:{type:Boolean,required:!1},limit:{type:Number,required:!0},mode:{type:String,required:!1,default:"normal",validator:e=>["normal","short","loadMore"].indexOf(e)!==-1},offset:{type:Number,required:!0},paginationMaxItems:{type:Number,required:!1,default:5,validator:e=>Pe(e)&&e>0},totalRowsCount:{type:Number,required:!0}},emits:["update:offset"],setup(e,t){const{currentItem:l,maxItems:s,paginationItems:o}=ui(e),{disabledButtonFirstPage:a,disabledButtonLastPage:r}=ri(e,{currentItem:l,maxItems:s}),{keyDownUpdateOffset:v,keyDownUpdateOffsetFirst:d,keyDownUpdateOffsetLast:b,keyDownUpdateOffsetNext:_,keyDownUpdateOffsetPrevious:w,updateOffset:h,updateOffsetFirst:m,updateOffsetLast:f,updateOffsetNext:p,updateOffsetPrevious:S}=di(e,t,{currentItem:l,disabledButtonFirstPage:a,disabledButtonLastPage:r,maxItems:s});return{currentItem:l,disabledButtonFirstPage:a,disabledButtonLastPage:r,keyDownUpdateOffset:v,keyDownUpdateOffsetFirst:d,keyDownUpdateOffsetLast:b,keyDownUpdateOffsetNext:_,keyDownUpdateOffsetPrevious:w,maxItems:s,paginationItems:o,updateOffset:h,updateOffsetFirst:m,updateOffsetLast:f,updateOffsetNext:p,updateOffsetPrevious:S}},render(){return n(q,{tag:"nav",class:"a_pagination__nav","aria-label":"_A_PAGINATION_NAVIGATION_"},{default:()=>this.mode==="loadMore"?n(K,{class:"a_btn a_btn_primary",text:"Load more",type:"button"}):[n("ul",{class:"a_pagination"},[this.mode!=="short"?n("li",{class:["a_pagination__item",{disabled:this.disabledButtonFirstPage}]},[n(K,{class:"a_pagination__item__link",iconLeft:ql,role:"button",tabindex:this.disabledButtonFirstPage?-1:0,tag:"a",textScreenReader:"_A_PAGINATION_FIRST_PAGE_",title:"_A_PAGINATION_FIRST_PAGE_",type:"button",onClick:this.updateOffsetFirst,onKeydown:this.keyDownUpdateOffsetFirst})]):"",n("li",{class:["a_pagination__item",{disabled:this.disabledButtonFirstPage}]},[n(K,{class:"a_pagination__item__link",iconLeft:Vl,role:"button",tabindex:this.disabledButtonFirstPage?-1:0,tag:"a",textScreenReader:"_A_PAGINATION_PREVIOUS_PAGE_",title:"_A_PAGINATION_PREVIOUS_PAGE_",type:"button",onClick:this.updateOffsetPrevious,onKeydown:this.keyDownUpdateOffsetPrevious})]),this.mode==="short"?n("li",{class:"a_pagination__item"},[n(q,{class:"a_pagination__item__link disabled",html:"_A_PAGINATION_MOBILE_{{currentPage}}_{{allPages}}_",extra:{currentPage:this.currentItem,allPages:this.maxItems}})]):this.paginationItems.map(e=>{const t=e===this.currentItem;return n("li",{class:["a_pagination__item",{active:t,disabled:this.disabled}]},[n(K,{"aria-current":t?!0:void 0,class:"a_pagination__item__link",extra:{page:e},role:"button",tabindex:t||this.disabled?-1:0,tag:"a",text:e,textAriaHidden:!0,textScreenReader:"_A_PAGINATION_TO_PAGE_{{page}}_",title:"_A_PAGINATION_TO_PAGE_{{page}}_",type:"button",onClick:()=>this.updateOffset(e),onKeydown:l=>this.keyDownUpdateOffset(l,e)})])}),n("li",{class:["a_pagination__item",{disabled:this.disabledButtonLastPage}]},[n(K,{class:"a_pagination__item__link",iconLeft:Wl,role:"button",tabindex:this.disabledButtonLastPage?-1:0,tag:"a",textScreenReader:"_A_PAGINATION_NEXT_PAGE_",title:"_A_PAGINATION_NEXT_PAGE_",type:"button",onClick:this.updateOffsetNext,onKeydown:this.keyDownUpdateOffsetNext})]),this.mode!=="short"?n("li",{class:["a_pagination__item",{disabled:this.disabledButtonLastPage}]},[n(K,{class:"a_pagination__item__link",iconLeft:Ul,role:"button",tabindex:this.disabledButtonLastPage?-1:0,tag:"a",textScreenReader:"_A_PAGINATION_LAST_PAGE_",title:"_A_PAGINATION_LAST_PAGE_",type:"button",onClick:this.updateOffsetLast,onKeydown:this.keyDownUpdateOffsetLast})]):""])]})}};function _i(e,{isMobile:t=T(!1),updateLimit:l=()=>{},updateOffset:s=()=>{}}){const o=u(e,"modes"),a=u(e,"countAllRows"),r=u(e,"disabled"),v=u(e,"limitsPerPage"),d=u(e,"limit"),b=u(e,"offset"),_=u(e,"rowsLength"),w=u(e,"totalRowsCount"),h=u(e,"maxPages"),m=i(()=>t.value?o.value.mobile||{perPage:{mode:"select",position:0,showTextCountFromTo:!1},pagination:{mode:"short",position:1}}:o.value.desktop||{perPage:{mode:"inline",position:0,showTextCountFromTo:!0},pagination:{mode:"normal",position:1}}),f=i(()=>{const S=[];return E(m.value,(g,A)=>{S.push({...g,component:A})}),Ie(S,"position")});return{components:i(()=>{const S=[];return E(f.value,g=>{g.component==="perPage"?S.push(n(ai,{countAllRows:a.value,disabled:r.value,limitsPerPage:v.value,limit:d.value,offset:b.value,rowsLength:_.value,mode:g.mode,showTextCountFromTo:g.showTextCountFromTo,"onUpdate:limit":l})):g.component==="pagination"&&S.push(n(ci,{limit:d.value,disabled:r.value,totalRowsCount:w.value,offset:b.value,paginationMaxItems:h.value,mode:g.mode,"onUpdate:offset":s}))}),S})}}function hi(e,{emit:t}){return{updateLimit:o=>{t("update:limit",o)},updateOffset:o=>{t("update:offset",o)}}}const bi={name:"APagination",props:{countAllRows:{type:Number,required:!0},disabled:{type:Boolean,required:!1},hasRows:{type:Boolean,required:!0},limit:{type:Number,required:!0},limitsPerPage:{type:Array,required:!1,default:()=>["10","25","50","100"]},maxPages:{type:Number,required:!1,default:5,validator:e=>Pe(e)&&e>0},offset:{type:Number,required:!0},rowsLength:{type:Number,required:!0},totalRowsCount:{type:Number,required:!0},modes:{type:Object,required:!1,default:()=>({desktop:{perPage:{mode:"group",position:0,showTextCountFromTo:!0},pagination:{mode:"normal",position:1}},mobile:{perPage:{mode:"select",position:0,showTextCountFromTo:!1},pagination:{mode:"short",position:1}}})}},emits:["update:limit","update:offset"],setup(e,t){const{isMobileWidth:l}=pe(),{updateLimit:s,updateOffset:o}=hi(e,t),{components:a}=_i(e,{isMobile:l,updateLimit:s,updateOffset:o});return{components:a,updateLimit:s,updateOffset:o}},render(){return this.hasRows?n("div",{class:"a_pagination__parent"},this.components):null}},fi={name:"AResizer",props:{direction:{type:String,required:!0,validator:e=>["x","y"].indexOf(e)!==-1},disabled:{type:Boolean,required:!1}},emits:["mousedown","mousemove","mouseoutDocument","mouseup"],data(){return{clientHeight:0,clientWidth:0}},computed:{isDirectionX(){return this.direction==="x"},isDirectionY(){return this.direction==="y"},directionClass(){return`a_resizer_${this.direction}`},directionIcon(){if(this.direction==="x")return Gl;if(this.direction==="y")return Ee},cursor(){if(this.direction==="x")return"w-resize";if(this.direction==="y")return"s-resize"},bodyClass(){return`a_resizer_${this.direction}_active__body`},attributesResizer(){const e={class:["a_resizer",this.directionClass,{a_resizer_disabled:this.disabled}],ariaHidden:!0};return this.disabled||(e.onMousedown=this.mousedown),e}},unmounted(){this.removeMouseEventListeners(),this.removeClassFromBody()},methods:{mousedown(e){this.addMouseEventListeners(),this.clientHeight=document.documentElement.clientHeight,this.clientWidth=document.documentElement.clientWidth,this.$emit("mousedown",{$event:e,clientHeight:this.clientHeight,clientWidth:this.clientWidth}),this.addClassToBody()},mousemove(e){this.$emit("mousemove",{$event:e,clientX:e.clientX,clientY:e.clientY,clientHeight:this.clientHeight,clientWidth:this.clientWidth})},mouseup(e){this.removeMouseEventListeners(),this.$emit("mouseup",{$event:e,clientHeight:this.clientHeight,clientWidth:this.clientWidth}),this.removeClassFromBody()},mouseoutDocument(e){this.removeMouseEventListeners(),this.$emit("mouseoutDocument",{$event:e,clientHeight:this.clientHeight,clientWidth:this.clientWidth}),this.removeClassFromBody()},addMouseEventListeners(){document.addEventListener("mousemove",this.mousemove),document.addEventListener("mouseup",this.mouseup),document.addEventListener("mouseleave",this.mouseoutDocument)},removeMouseEventListeners(){document.removeEventListener("mousemove",this.mousemove),document.removeEventListener("mouseup",this.mouseup),document.removeEventListener("mouseleave",this.mouseoutDocument)},addClassToBody(){document.body.classList.add(this.bodyClass)},removeClassFromBody(){document.body.classList.remove(this.bodyClass)}},render(){return n("div",this.attributesResizer,[n("div",{class:"a_resizer__line"}),n(te,{class:"a_resizer__icon",icon:this.directionIcon})])}};function vi(e,{attributesForRoot:t=i(()=>({})),isColumnVisible:l=i(()=>!1),isLocked:s=i(()=>!1),labelTranslated:o=i(()=>"")}){const a=u(e,"searchColumnModel"),r=i(()=>{if(!a.value)return!0;const d=new RegExp(Dl(a.value),"gi");return`${o.value}`.search(d)!==-1});return{attributesComponent:i(()=>{const d={...t.value,class:"a_table__th__dropdown__li"};return r.value||(d.style="display: none;"),!s.value&&!l.value&&(d.class+=" a_table__th__dropdown__li_invisible"),d})}}const mi=`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="18"
  height="18"
  viewBox="0 0 18 18"
>
  <g
    transform="matrix(0.01757813,0,0,0.01757813,-3.96314e-5,1.7578125e-5)"
  >
    <path
      d="m 493.034,717.353 v 0 c -22.097,-7.811 -37.924,-28.881 -37.924,-53.651 0,-31.421 25.469,-56.89 56.89,-56.89 31.421,0 56.89,25.469 56.89,56.89 0,24.769 -15.833,45.843 -37.924,53.651 v 98.392 c 0,9.98 -8.486,18.618 -18.966,18.618 -10.164,0 -18.966,-8.339 -18.966,-18.618 z m -265.48,-300.17 v 0 0 C 164.683,417.358 113.78,467.989 113.78,531.324 v 189.27 c 0,167.568 136.008,303.405 303.372,303.405 h 189.695 c 167.548,0 303.372,-136.179 303.372,-303.405 v -189.27 c 0,-62.93 -50.854,-113.956 -113.774,-114.141 V 284.414 C 796.445,127.332 668.777,-0.001 512,-0.001 c -157.093,0 -284.445,127.307 -284.445,284.415 v 132.769 z m 113.779,0 V 284.476 c 0,-94.496 76.411,-170.699 170.665,-170.699 94.063,0 170.665,76.426 170.665,170.699 V 417.183 H 341.33 Z"
    />
  </g>
</svg>`;function pi(e,{isLocked:t=i(()=>!1)}){const l=u(e,"column"),s=u(e,"disabledOptions"),o=O("changeModelColumnsVisible"),a=O("modelColumnsVisibleLocal"),r=i(()=>l.value.id in a.value?!!a.value[l.value.id]:!l.value.hide),v=i(()=>t.value?mi:r.value?wl:Al),d=i(()=>t.value?"_A_TABLE_OPTIONS_BTN_LOCK_TITLE_":r.value?"_A_TABLE_OPTIONS_BTN_EYE_TITLE_":"_A_TABLE_OPTIONS_BTN_EYE_CLOSED_TITLE_"),b=({$event:w})=>{w.stopPropagation(),w.preventDefault();const h=W(a.value);h[l.value.id]=!r.value,o(h)};return{buttonVisibleProps:i(()=>{const w={class:"a_table__th__dropdown_item__icon",tag:"span",iconLeft:v.value,title:d.value,textScreenReader:d.value};return t.value||(w.tag="button",w.class+=" a_table__th__dropdown_item__icon_btn a_btn a_btn_link",w.onClick=b,s.value&&(w.disabled=!0)),w}),isColumnVisible:r}}const Ke="a_table__drag_element";function ct(e,{emit:t},{classOverString:l="",inDropdown:s=!1}){const o=u(e,"column"),a=u(e,"columnIndex"),r=u(e,"columnIndexDraggable"),v=O("isLoadingOptions"),d=O("isColumnsDnd"),b=T(null),_=i(()=>r.value>a.value?l:`${l}_right`),w=A=>{var C,I,L;if((C=A.target)==null||C.classList.add(Ke),s){const M=((I=A.target)==null?void 0:I.offsetHeight)||30;(L=A.target)==null||L.parentElement.style.setProperty("--a_table_draggable_li_height",`${M}px`)}A.dataTransfer.effectAllowed="move",t("dragstartParent",{columnIndex:a.value})},h=A=>{var C,I;(C=A.target)==null||C.classList.remove(_.value),(I=A.target)==null||I.classList.remove(Ke),t("dragendParent")},m=()=>{b.value&&b.value.classList&&b.value.classList.add(_.value),t("dragenterParent",{columnIndex:a.value})},f=A=>(A.preventDefault&&A.preventDefault(),!1),p=()=>{b.value&&b.value.classList&&b.value.classList.remove(_.value),t("dragleaveParent",{columnIndex:a.value})},S=i(()=>!!o.value.locked);return{attributesForRoot:i(()=>{const A={ref:"root"};return!S.value&&d.value&&(A.draggable=!v.value,A.onDragstart=w,A.onDragend=h,A.onDragenter=m,A.onDragover=f,A.onDragleave=p),A}),isLocked:S,root:b}}function wi(e){const t=u(e,"column"),l=u(e,"searchColumnModel"),{filterSearchHighlight:s}=ae(),o=i(()=>gl(t.value.label)?xe({placeholder:t.value.label}):t.value.label);return{labelLocal:i(()=>s(o.value,{searchModel:l.value})),labelTranslated:o}}function Ai(e){const t=u(e,"columnIndex"),l=O("changeColumnsOrdering"),s=O("columnsOrdered"),o=O("tableId"),a=({columnIndex:h,iconKey:m})=>`${o.value}_${m}_${h}`,r=({$event:h})=>{h.stopPropagation();const m=t.value-1;l({columnIndexDraggable:t.value,columnIndexOver:m}),window.isScrollDisabled||setTimeout(()=>{be({selector:`#${a({columnIndex:m,iconKey:"up"})}`})})},v=({$event:h})=>{h.stopPropagation();const m=t.value+1;l({columnIndexDraggable:t.value,columnIndexOver:m}),window.isScrollDisabled||setTimeout(()=>{const f=`#${a({columnIndex:m,iconKey:"down"})}`;be({selector:f})})},d=i(()=>a({columnIndex:t.value,iconKey:"up"})),b=i(()=>a({columnIndex:t.value,iconKey:"down"})),_=i(()=>t.value!==0&&!s.value[t.value-1].locked),w=i(()=>s.value.length-1!==t.value&&!s.value[t.value+1].locked);return{idButtonArrowDown:b,idButtonArrowUp:d,isButtonArrowDownVisible:w,isButtonArrowUpVisible:_,moveColumnDown:v,moveColumnUp:r}}const gi={name:"ATableHeaderThActionItem",components:{AIcon:te,ATranslation:q},props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},columnIndexDraggable:{type:Number,required:!1,default:-1},disabledOptions:{type:Boolean,required:!1},searchColumnModel:{type:String,required:!0}},emits:["dragendParent","dragstartParent","dragenterParent","dragleaveParent"],inject:["changeColumnsOrdering","columnsOrdered","isColumnsDnd","isLoadingOptions","isLoadingTable","modelColumnsVisibleLocal","tableId"],setup(e,t){const{attributesForRoot:l,isLocked:s,root:o}=ct(e,t,{classOverString:"a_table__th__dropdown__li_over",inDropdown:!0}),{labelLocal:a,labelTranslated:r}=wi(e),{buttonVisibleProps:v,isColumnVisible:d}=pi(e,{isLocked:s}),{idButtonArrowDown:b,idButtonArrowUp:_,isButtonArrowDownVisible:w,isButtonArrowUpVisible:h,moveColumnDown:m,moveColumnUp:f}=Ai(e),{attributesComponent:p}=vi(e,{attributesForRoot:l,isColumnVisible:d,isLocked:s,labelTranslated:r});return{attributesComponent:p,attributesForRoot:l,buttonVisibleProps:v,idButtonArrowDown:b,idButtonArrowUp:_,isButtonArrowDownVisible:w,isButtonArrowUpVisible:h,isLocked:s,labelLocal:a,moveColumnDown:m,moveColumnUp:f,root:o}},render(){return this.column.isRender===!1?null:n("li",this.attributesComponent,[n("div",{class:"a_dropdown__item_text a_table__th__dropdown_item"},[n("div",{class:"a_table__th__dropdown_item__child"},[n(Z,this.buttonVisibleProps),n("span",{class:"a_position_relative"},[this.column.icon&&n(te,{icon:this.column.icon,class:"a_table__th__icon"}),n(q,{tag:"span",class:"a_table__th__text",safeHtml:this.labelLocal}),this.column.title&&n(q,{title:this.column.title,ariaHidden:!0,tag:"span",class:"a_position_absolute_all"}),this.column.title&&n(q,{text:this.column.title,tag:"span",class:"a_sr_only"})]),!this.isLocked&&this.isColumnsDnd?[this.isButtonArrowUpVisible&&n(Z,{id:this.idButtonArrowUp,class:"a_sr_only_focusable a_btn a_btn_link a_p_0 a_table__th__dropdown_item__btn_arrow",disabled:this.disabledOptions,type:"button",iconLeft:Hl,title:"_A_TABLE_OPTIONS_BTN_ARROW_UP_TITLE_",textScreenReader:"_A_TABLE_OPTIONS_BTN_ARROW_UP_TITLE_",onClick:this.moveColumnUp}),this.isButtonArrowDownVisible&&n(Z,{id:this.idButtonArrowDown,class:"a_sr_only_focusable a_btn a_btn_link a_p_0 a_table__th__dropdown_item__btn_arrow",disabled:this.disabledOptions,type:"button",iconLeft:ut,title:"_A_TABLE_OPTIONS_BTN_ARROW_DOWN_TITLE_",textScreenReader:"_A_TABLE_OPTIONS_BTN_ARROW_DOWN_TITLE_",onClick:this.moveColumnDown})]:""]),!this.isLocked&&this.isColumnsDnd&&n(te,{icon:$l,class:"a_table__th__dropdown_item__icon_dnd"})])])}};function _t(e){const t={};return e.forEach(l=>{t[l.id]=!l.hide}),t}function ht({element:e,tagsName:t,classStop:l}){if(e&&e.tagName){if(t.indexOf(e.tagName)!==-1)return!0;if(e.classList.contains(l))return!1;if(e.parentElement)return ht({element:e.parentElement,tagsName:t,classStop:l})}return!1}function Ci({$event:e,classStop:t="",tagsName:l=[]}={}){return e&&e.target?ht({element:e.target,tagsName:l,classStop:t}):!1}function he({column:e,modelColumnsVisibleLocal:t}){return e.isRender===!1?!1:e.id in t?!!t[e.id]:!e.hide}function Si({column:e}){return e.isRender===!1?!1:!e.hide}function Ii({columnIndex:e,indexFirstScrollInvisibleColumn:t}){return Q(t)?!0:e<t}function Ti({column:e,columnIndex:t,modelIsTableWithoutScroll:l,modelColumnsVisibleLocal:s,indexFirstScrollInvisibleColumn:o}){return l?he({column:e,modelColumnsVisibleLocal:s})&&Ii({columnIndex:t,indexFirstScrollInvisibleColumn:o}):he({column:e,modelColumnsVisibleLocal:s})}function bt({tableId:e}){return`${e}_preview_right`}function ft({tableId:e}){return`${e}_multiple_panel`}function vt({tableId:e}){return`${e}_header_label`}function me({row:e,rowIndex:t,keyId:l}){return l?G(e,l):t}function mt({rowAction:e,row:t,rowIndex:l}){return e.isHidden?!1:U(e.isHiddenCallback)?!e.isHiddenCallback({row:t,rowIndex:l}):!0}function Ri(){const e=T("");return{searchColumnModel:e,updateSearchColumnModel:l=>{e.value=l}}}function pt({classOver:e="",classOverRight:t="",classOverParent:l="",inHeader:s=!1}){const o=T(void 0),a=T(void 0),r=T(void 0),v=O("changeColumnsOrdering"),d=i(()=>!Q(a.value)),b=({columnIndex:p})=>{a.value=p},_=({columnIndex:p})=>{r.value=p},w=({columnIndex:p})=>{r.value===p&&(r.value=void 0)},h=p=>{if(!(Q(a.value)||Q(r.value)))return v({columnIndexDraggable:a.value,columnIndexOver:r.value,inHeader:s}),p.stopPropagation(),!1},m=()=>{o.value.querySelectorAll(`.${l}`).forEach(S=>{S.classList.remove(e),S.classList.remove(t)})};return{columnIndexDraggable:a,dragstart:b,dragenter:_,dragleave:w,dragend:()=>{m(),a.value=void 0},drop:h,isDragstart:d,root:o}}function wt(){const e=O("columnActionsWidthMinLocal"),t=O("modelIsTableWithoutScroll");return{stylesThTd:i(()=>t.value?{}:{style:`width: ${e.value}px;`})}}const ye={name:"ATableHeaderThAction",inject:["changeModelIsTableWithoutScroll","columnActionsWidthLocal","changeColumnsOrdering","changeModelColumnsVisible","columns","columnsOrdered","isActionIconVisible","modelIsTableWithoutScroll"],props:{disabledOptions:{type:Boolean,required:!1},isRowActionsStickyLocal:{type:Boolean,required:!0}},setup(){const{columnIndexDraggable:e,dragend:t,dragenter:l,dragleave:s,dragstart:o,drop:a,isDragstart:r,root:v}=pt({classOver:"a_table__th__dropdown__li_over",classOverRight:"a_table__th__dropdown__li_over_right",classOverParent:"a_table__th__dropdown__li",inHeader:!1}),{searchColumnModel:d,updateSearchColumnModel:b}=Ri(),{stylesThTd:_}=wt();return{columnIndexDraggable:e,dragend:t,dragenter:l,dragleave:s,dragstart:o,drop:a,isDragstart:r,root:v,searchColumnModel:d,stylesThTd:_,updateSearchColumnModel:b}},methods:{selectAllColumns(){const e={};E(this.columnsOrdered,t=>{e[t.id]=!0}),this.changeModelColumnsVisible(e)},deselectAllColumns(){const e={};E(this.columnsOrdered,t=>{e[t.id]=!!t.locked}),this.changeModelColumnsVisible(e)},resetColumns(){this.changeModelColumnsVisible(_t(this.columnsOrdered)),this.changeColumnsOrdering({reset:!0})}},render(){return n("div",{class:["a_table__th a_table__cell a_table__cell_action",{a_table__cell_action_sticky:this.isRowActionsStickyLocal}],role:"columnheader",...this.stylesThTd},[n("span",{class:"a_sr_only"},"Aktionen"),this.isActionIconVisible&&n(ce,{buttonClass:"a_btn a_btn_secondary a_table__cell_action__btn",buttonTitle:"_A_TABLE_DROPDOWN_OPTIONS_TITLE_",buttonTextScreenReader:"_A_TABLE_DROPDOWN_OPTIONS_TITLE_",dropdownTag:"div",dropdownClass:"a_p_0",hasCaret:!1,isCloseByClickInside:!1,disabled:this.disabledOptions,placement:"left",menuWidth:320,inBody:!0},{button:()=>n(te,{icon:Xl}),dropdown:()=>[n("ul",{class:["a_table__th__dropdown__ul",{a_table__th__dropdown__ul_dragstart:this.isDragstart}],ref:"root",onDrop:this.drop},[n("li",null,[n("div",{class:"a_dropdown__item_text a_table__th__dropdown__search"},[n(et,{label:"Suchen",modelValue:this.searchColumnModel,isClearButton:!0,modelUndefined:"","onUpdate:modelValue":this.updateSearchColumnModel})])]),n("li",{class:"a_dropdown__divider","aria-hidden":!0}),n("li",null,[n("button",{type:"button",class:"a_dropdown__item",disabled:this.disabledOptions,onClick:this.selectAllColumns},[n(te,{icon:zl,class:"a_table__th__dropdown_item__icon"}),n("span",null,"Alle einblenden")])]),n("li",null,[n("button",{type:"button",class:"a_dropdown__item",disabled:this.disabledOptions,onClick:this.deselectAllColumns},[n(te,{icon:Ae,class:"a_table__th__dropdown_item__icon"}),n("span",null,"Alle ausblenden")])]),n("li",null,[n("button",{type:"button",class:"a_dropdown__item",disabled:this.disabledOptions,onClick:this.resetColumns},[n(te,{icon:jl,class:"a_table__th__dropdown_item__icon"}),n("span",null,"Zurücksetzen")])]),n("li",null,[n(Cl,{class:"a_dropdown__item_text a_text_nowrap",disabled:this.disabledOptions,modelValue:this.modelIsTableWithoutScroll,trueLabel:"Kompakte Ansicht",falseLabel:"Kompakte Ansicht","onUpdate:modelValue":this.changeModelIsTableWithoutScroll})]),n("li",{class:"a_dropdown__divider","aria-hidden":!0}),this.columnsOrdered.map((e,t)=>n(gi,{column:e,columnIndex:t,columnIndexDraggable:this.columnIndexDraggable,disabledOptions:this.disabledOptions,searchColumnModel:this.searchColumnModel,onDragstartParent:this.dragstart,onDragenterParent:this.dragenter,onDragleaveParent:this.dragleave,onDragendParent:this.dragend}))])]})])}};function At(e,{emit:t}){const l=u(e,"areAllRowsSelected"),s=u(e,"areAllVisibleRowsSelected"),o=u(e,"areSomeRowsSelected"),a=u(e,"rowsLocalLength"),r=i(()=>!!(a.value===0||l.value)),v=i(()=>o.value&&!(s.value||l.value)),d=i(()=>s.value||l.value),b=i(()=>v.value||d.value?"_A_TABLE_DESELECT_ALL_VISIBLE_POSSIBLE_ROWS_":"_A_TABLE_SELECT_ALL_VISIBLE_POSSIBLE_ROWS_");return{isCheckboxDisabled:r,isCheckboxIndeterminate:v,labelCheckbox:b,modelValueCheckboxLocal:d,toggleCheckbox:()=>{r.value||t("setSelectedRowsIndexes",{isAll:!0})}}}const yi={name:"ATableGroupedHeader",props:{areAllRowsSelected:{type:Boolean,required:!0},areAllVisibleRowsSelected:{type:Boolean,required:!0},areSomeRowsSelected:{type:Boolean,required:!0},columnsForRender:{type:Array,required:!0},disabledOptions:{type:Boolean,required:!1},disabledSort:{type:Boolean,required:!1},hasMultipleActions:{type:Boolean,required:!0},isRowActionsStickyLocal:{type:Boolean,required:!0},isSortingMultiColumn:{type:Boolean,required:!1},modelSort:{type:Array,required:!0},rowsLocalLength:{type:Number,required:!0},showFirstSortingSequenceNumber:{type:Boolean,required:!1},sortingSequenceNumberClass:{type:[String,Object],required:!1}},emits:["setSelectedRowsIndexes"],inject:["changeColumnsOrdering","columnsFilteredForRender","isActionColumnVisible","isMobile","isMultipleActionsActive"],setup(e,t){const{isCheckboxDisabled:l,isCheckboxIndeterminate:s,labelCheckbox:o,modelValueCheckboxLocal:a,toggleCheckbox:r}=At(e,t);return{isCheckboxDisabled:l,isCheckboxIndeterminate:s,labelCheckbox:o,modelValueCheckboxLocal:a,toggleCheckbox:r}},render(){return this.isMobile?null:n("div",{ref:"root",role:"rowgroup",class:"a_table__head"},[n("div",{class:"a_table__row a_table__head__row",role:"row"},[this.isMultipleActionsActive&&n("div",{role:"columnheader",class:"a_table__th a_table__cell a_table__cell_checkbox",style:"width: 50px; min-width: 50px; max-width: 50px;","aria-colindex":1},[n(Oe,{isWidthAuto:!0,modelValue:this.modelValueCheckboxLocal,indeterminate:this.isCheckboxIndeterminate,disabled:this.isCheckboxDisabled,label:this.labelCheckbox,labelClass:"a_sr_only",isLabelTitle:!0,"onUpdate:modelValue":this.toggleCheckbox})]),this.columnsForRender,this.isActionColumnVisible&&n(ye,{disabledOptions:this.disabledOptions,isRowActionsStickyLocal:this.isRowActionsStickyLocal})])])}};function Li(e,{ariaSort:t=i(()=>({})),attributesForRoot:l=i(()=>({})),columnsStyles:s=i(()=>""),isLocked:o=i(()=>!1),isSorting:a=i(()=>!1),titlesSort:r=i(()=>[])}){const v=u(e,"column"),d=u(e,"columnIndex"),b=u(e,"hasMultipleActions"),_=O("isLoadingOptions"),w=O("isLoadingOptions"),h=i(()=>["a_table__th a_table__cell",{a_table__th_draggable:!o.value&&!w.value&&_.value,a_table__th_sorting:a.value},v.value.classHeaderParent]),m=i(()=>{const p=[];return(v.value.title||v.value.title===0)&&p.push(v.value.title),p.push(...r.value),p});return{attributesForTh:i(()=>{let p=d.value+1;return b.value&&p++,{...t.value,...l.value,"aria-colindex":p,ref:"root",role:"columnheader",class:h.value,style:s.value}}),titlesLocal:m}}function xi(e){const t=u(e,"column"),l=O("columnsVisibleAdditionalSpaceForOneGrow",0),s=i(()=>Q(t.value.grow)?1:t.value.grow);return{additionalWidthForCurrentColumn:i(()=>l.value*s.value)}}function gt(e){const t=u(e,"column"),l=O("columnWidthDefault"),{additionalWidthForCurrentColumn:s}=xi(e),o=i(()=>t.value.width||l.value),a=i(()=>o.value+s.value),r=i(()=>`width: ${a.value}px; min-width: ${a.value}px; max-width: ${a.value}px;`);return{columnsStyles:i(()=>t.value.style?`${r.value} ${t.value.style}`:r.value)}}function Oi(e){const t=u(e,"column"),l=u(e,"columnIndex"),s=u(e,"disabledSort"),o=u(e,"isSortingMultiColumn"),a=u(e,"modelSort"),r=u(e,"showFirstSortingSequenceNumber"),v=O("changeModelSort"),d=O("tableId"),b=i(()=>t.value.sortId),_=i(()=>!!b.value),w=i(()=>a.value.indexOf(b.value)),h=i(()=>a.value.indexOf(`-${b.value}`)),m=i(()=>w.value!==-1),f=i(()=>h.value!==-1),p=i(()=>_.value&&(m.value||f.value)),S=i(()=>{if(_.value){let c="none";return m.value?c="ascending":f.value&&(c="descending"),{"aria-sort":c}}return{}}),g=i(()=>n(te,{icon:Kl,class:"a_table__th__sort__icon a_table__th__sort__icon_up"})),A=i(()=>n(te,{icon:Ql,class:"a_table__th__sort__icon a_table__th__sort__icon_down"})),C=i(()=>{const c=[];return _.value&&(f.value||c.push(g.value),m.value||c.push(A.value)),c}),I=({$event:c})=>{s.value||v({$event:c,sortId:b.value})},L=i(()=>`${d.value}_th_${l.value}_screen_reader`),M=i(()=>{var c;return _.value?{type:"button",disabled:s.value,isTitleHtml:((c=tt.value.config)==null?void 0:c.isHtmlTitleSort)||!1,"aria-describedby":L.value,onClick:I}:{tag:"span"}}),P=i(()=>{if(!(!o.value&&!p.value)&&!(a.value.length<=1&&!r.value)){if(w.value!==-1)return w.value+1;if(h.value!==-1)return h.value+1}}),x=i(()=>{const c=[];return _.value&&(c.push("_A_TABLE_SORT_TITLE_"),o.value&&c.push("_A_TABLE_SORT_TITLE_MULTI_COLUMN_")),c});return{ariaSort:S,attributesForButtonSort:M,columnTextScreenReaderId:L,iconsSortable:C,isSortable:_,isSorting:p,sequenceNumberSort:P,titlesSort:x}}const Le={name:"ATableHeaderTh",props:{column:{type:Object,required:!0},columnGroupNames:{type:Array,required:!1,default:void 0},columnIndex:{type:Number,required:!0},columnIndexDraggable:{type:Number,required:!1,default:-1},disabledSort:{type:Boolean,required:!1},hasMultipleActions:{type:Boolean,required:!0},isSortingMultiColumn:{type:Boolean,required:!1},modelSort:{type:Array,required:!1},showFirstSortingSequenceNumber:{type:Boolean,required:!1},sortingSequenceNumberClass:{type:[String,Object],required:!1}},emits:["dragendParent","dragstartParent","dragenterParent","dragleaveParent"],inject:["changeModelSort","isColumnsDnd","isLoadingOptions","isLoadingTable"],setup(e,t){const{columnsStyles:l}=gt(e),{attributesForRoot:s,isLocked:o,root:a}=ct(e,t,{classOverString:"a_table__th_over",inDropdown:!1}),{ariaSort:r,attributesForButtonSort:v,columnTextScreenReaderId:d,iconsSortable:b,isSortable:_,isSorting:w,sequenceNumberSort:h,titlesSort:m}=Oi(e),{attributesForTh:f,titlesLocal:p}=Li(e,{ariaSort:r,attributesForRoot:s,columnsStyles:l,isLocked:o,isSorting:w,titlesSort:m});return{attributesForButtonSort:v,attributesForTh:f,columnTextScreenReaderId:d,columnsStyles:l,iconsSortable:b,isSortable:_,root:a,sequenceNumberSort:h,titlesLocal:p,titlesSort:m}},render(){return n("div",this.attributesForTh,[n("div",{class:["a_table__cell__child"]},[this.columnGroupNames&&n(q,{html:this.columnGroupNames,tag:"span",class:"a_sr_only"}),n(q,{id:this.columnTextScreenReaderId,text:this.titlesLocal,tag:"span",class:"a_sr_only",ariaHidden:!0}),n(Z,{class:["a_table__th__btn",this.column.class,this.column.classHeader,{"a_btn a_btn_link a_table__th__btn_sort":this.isSortable,a_table__th__btn_sequence:this.sequenceNumberSort}],iconLeft:this.column.icon,iconClass:"a_table__th__icon",extra:this.column.extra,title:this.titlesLocal,textScreenReader:this.column.textScreenReader||void 0,...this.attributesForButtonSort},()=>[this.column.label&&n(q,{html:this.column.label,tag:"span",extra:this.column.extra,class:"a_table__th__text aloha_element__ml_0",ariaHidden:!!this.column.textScreenReader}),this.isSortable&&n("span",{class:"a_table__th__sort__box aloha_element__ml_0"},[this.sequenceNumberSort&&n("span",{class:["a_table__th__sort__sequence_num",this.sortingSequenceNumberClass]},this.sequenceNumberSort),n("span",{class:"a_table__th__sort__icons"},[...this.iconsSortable])])])])])}},Pi={name:"ATableHeader",components:{ATableHeaderTh:Le,ATableHeaderThAction:ye},props:{areAllRowsSelected:{type:Boolean,required:!0},areAllVisibleRowsSelected:{type:Boolean,required:!0},areSomeRowsSelected:{type:Boolean,required:!0},disabledOptions:{type:Boolean,required:!1},disabledSort:{type:Boolean,required:!1},hasMultipleActions:{type:Boolean,required:!0},isRowActionsStickyLocal:{type:Boolean,required:!0},isSortingMultiColumn:{type:Boolean,required:!1},modelSort:{type:Array,required:!0},rowsLocalLength:{type:Number,required:!0},showFirstSortingSequenceNumber:{type:Boolean,required:!1},sortingSequenceNumberClass:{type:[String,Object],required:!1}},emits:["setSelectedRowsIndexes"],inject:["changeColumnsOrdering","columnsFilteredForRender","isActionColumnVisible","isMobile","isMultipleActionsActive"],setup(e,t){const{columnIndexDraggable:l,dragstart:s,dragenter:o,dragleave:a,dragend:r,drop:v,isDragstart:d,root:b}=pt({classOver:"a_table__th_over",classOverRight:"a_table__th_over_right",classOverParent:"a_table__th",inHeader:!0}),{isCheckboxDisabled:_,isCheckboxIndeterminate:w,labelCheckbox:h,modelValueCheckboxLocal:m,toggleCheckbox:f}=At(e,t);return{columnIndexDraggable:l,dragend:r,dragenter:o,dragleave:a,dragstart:s,drop:v,isCheckboxDisabled:_,isCheckboxIndeterminate:w,isDragstart:d,labelCheckbox:h,modelValueCheckboxLocal:m,root:b,toggleCheckbox:f}},render(){return this.isMobile?null:n("div",{ref:"root",role:"rowgroup",class:["a_table__head",{a_table__head_dragstart:this.isDragstart}]},[n("div",{class:"a_table__row a_table__head__row",role:"row",onDrop:this.drop},[this.isMultipleActionsActive&&n("div",{role:"columnheader",class:"a_table__th a_table__cell a_table__cell_checkbox",style:"width: 50px; min-width: 50px; max-width: 50px;","aria-colindex":1},[n(Oe,{isWidthAuto:!0,modelValue:this.modelValueCheckboxLocal,indeterminate:this.isCheckboxIndeterminate,disabled:this.isCheckboxDisabled,label:this.labelCheckbox,labelClass:"a_sr_only",isLabelTitle:!0,"onUpdate:modelValue":this.toggleCheckbox})]),this.columnsFilteredForRender.map((e,t)=>n(Le,{ref:"th",column:e,columnIndex:t,columnIndexDraggable:this.columnIndexDraggable,disabledSort:this.disabledSort,hasMultipleActions:this.hasMultipleActions,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSort,showFirstSortingSequenceNumber:this.showFirstSortingSequenceNumber,sortingSequenceNumberClass:this.sortingSequenceNumberClass,onDragstartParent:this.dragstart,onDragenterParent:this.dragenter,onDragleaveParent:this.dragleave,onDragendParent:this.dragend})),this.isActionColumnVisible&&n(ye,{disabledOptions:this.disabledOptions,isRowActionsStickyLocal:this.isRowActionsStickyLocal})])])}};function Di(e,{emit:t},{nextAvailableRowIndex:l,previousAvailableRowIndex:s,rowNumber:o=i(()=>0)}){const a=u(e,"countAllRows"),r=u(e,"limitPagination"),v=u(e,"offsetPagination"),d=u(e,"rowIndex"),b=u(e,"usePagination"),_=i(()=>o.value<=1||Q(s.value)),w=i(()=>o.value>=a.value||Q(l.value));return{disabledBtnArrowLeft:_,disabledBtnArrowRight:w,toNextRow:()=>{w.value||(b.value?(d.value+1)%r.value===0?(t("update:offset",{offset:v.value+r.value,reload:!1}),t("togglePreview",{rowIndex:0})):t("togglePreview",{rowIndex:l.value}):t("togglePreview",{rowIndex:l.value}))},toPreviousRow:()=>{_.value||(b.value?(d.value+1)%r.value===1?(t("update:offset",{offset:v.value-r.value,reload:!1}),t("togglePreview",{rowIndex:r.value-1})):t("togglePreview",{rowIndex:s.value}):t("togglePreview",{rowIndex:s.value}))}}}function Mi(){const e=O("tableId");return{idLocal:i(()=>bt({tableId:e.value}))}}function Ei({emit:e},{previewRef:t=T(void 0)}){return{mousedown:({clientWidth:a})=>{e("mousedownResizePreviewRight",{clientWidth:a})},mousemove:({clientX:a})=>{e("mousemoveResizePreviewRight",{clientX:a,previewRef:t.value})},mouseup:()=>{e("mouseupResizePreviewRight",{previewRightWidth:G(t,"value.offsetWidth")})}}}function Bi(e){const t=u(e,"countAllRows"),l=u(e,"disabledPreviewRowCallback"),s=u(e,"offsetPagination"),o=u(e,"rowIndex"),a=u(e,"rows"),r=u(e,"usePagination"),{filterCurrency:v}=ae(),d=i(()=>r.value?(s.value||0)+o.value+1:o.value+1),b=i(()=>a.value[o.value]),_=i(()=>{let f=null;if(!U(l.value))f=o.value===a.value.length-1?null:o.value++;else for(let p=o.value+1;p<a.value.length;p++){const S=a.value[p];if(!l.value({row:S,rowIndex:p})){f=p;break}}return f}),w=i(()=>{let f=null;if(!U(l.value))f=o.value===0?null:o.value--;else for(let p=o.value-1;p>=0;p--){const S=a.value[p];if(!l.value({row:S,rowIndex:p})){f=p;break}}return f}),h=i(()=>v(t.value,{suffix:"",digits:0})),m=i(()=>v(d.value,{suffix:"",digits:0}));return{countAllRowsFormatted:h,currentRow:b,nextAvailableRowIndex:_,previousAvailableRowIndex:w,rowNumber:d,rowNumberFormatted:m}}const ki={name:"ATablePreviewRight",props:{countAllRows:{type:Number,required:!0},disabledPreviewRowCallback:{type:Function,required:!1,default:()=>{}},isLoadingTable:{type:Boolean,required:!1},isMobile:{type:Boolean,required:!1},limitPagination:{type:Number,required:!1,default:void 0},offsetPagination:{type:Number,required:!1,default:void 0},previewStyles:{type:[String,Object],required:!1,default:void 0},rowIndex:{type:Number,required:!0},rows:{type:Array,required:!0},usePagination:{type:Boolean,required:!1}},emits:["closePreview","mousedownResizePreviewRight","mousemoveResizePreviewRight","mouseupResizePreviewRight","togglePreviewResize","togglePreview","update:offset"],inject:["isLoadingOptions"],setup(e,t){const l=u(e,"isMobile"),{previewRef:s}=lt(),{idLocal:o}=Mi(),{mousedown:a,mousemove:r,mouseup:v}=Ei(t,{previewRef:s}),{countAllRowsFormatted:d,currentRow:b,nextAvailableRowIndex:_,previousAvailableRowIndex:w,rowNumber:h,rowNumberFormatted:m}=Bi(e),{disabledBtnArrowLeft:f,disabledBtnArrowRight:p,toNextRow:S,toPreviousRow:g}=Di(e,t,{nextAvailableRowIndex:_,previousAvailableRowIndex:w,rowNumber:h});return Be(()=>{l.value||t.emit("togglePreviewResize",{isOpen:!0,previewRef:s.value})}),ge(()=>{l.value||t.emit("togglePreviewResize",{isOpen:!1,previewRef:s.value})}),{countAllRowsFormatted:d,currentRow:b,disabledBtnArrowLeft:f,disabledBtnArrowRight:p,idLocal:o,mousedown:a,mousemove:r,mouseup:v,previewRef:s,rowNumber:h,rowNumberFormatted:m,toNextRow:S,toPreviousRow:g}},render(){const e=[this.isLoadingTable?n($e):n("div",{},[n(q,{class:"a_table__preview_right__header__text",tag:"span",text:"_A_TABLE_PREVIEW_RIGHT_HEADER_{{rowNumber}}_{{rowNumberFormatted}}_{{countAllRows}}_{{countAllRowsFormatted}}_",extra:{rowNumber:this.rowNumber,rowNumberFormatted:this.rowNumberFormatted,countAllRows:this.countAllRows,countAllRowsFormatted:this.countAllRowsFormatted}}),n("div",{class:"a_table__preview_right__header__icons"},[n(Z,{class:"a_btn a_btn_transparent_dark a_btn_small",disabled:this.disabledBtnArrowLeft,iconLeft:Yl,title:"_A_TABLE_PREVIEW_RIGHT_PREVIOUS_ROW_",textScreenReader:"_A_TABLE_PREVIEW_RIGHT_PREVIOUS_ROW_",onClick:this.toPreviousRow}),n(Z,{class:"a_btn a_btn_transparent_dark a_btn_small",disabled:this.disabledBtnArrowRight,iconLeft:Jl,title:"_A_TABLE_PREVIEW_RIGHT_NEXT_ROW_",textScreenReader:"_A_TABLE_PREVIEW_RIGHT_NEXT_ROW_",onClick:this.toNextRow})])]),this.isMobile?"":n(Z,{class:"a_btn a_btn_transparent_dark a_table__preview_right__btn_close",iconLeft:Ae,iconClass:"a_table__preview_right__btn_close__icon",title:"_A_TABLE_PREVIEW_RIGHT_CLOSE_",textScreenReader:"_A_TABLE_PREVIEW_RIGHT_CLOSE_",onClick:()=>this.$emit("closePreview")})],t=[this.isLoadingTable?n($e):this.$slots.preview?this.$slots.preview({row:this.currentRow,rowIndex:this.rowIndex}):n(q,{text:"_A_TABLE_PREVIEW_RIGHT_HAS_NOT_SLOT_"})];return this.isMobile?n(Sl,{hideFooter:!0,close:()=>this.$emit("closePreview"),size:"xxl"},{modalHeader:()=>e,modalBody:()=>t}):n("div",{ref:"previewRef",id:this.idLocal,class:"a_table__preview_right",style:this.previewStyles,tabindex:-1},[n(fi,{class:"a_table__preview_right__resizer",direction:"x",disabled:this.isLoadingOptions,onMousedown:this.mousedown,onMousemove:this.mousemove,onMouseup:this.mouseup,onMouseoutDocument:this.mouseup}),n(q,{class:"a_sr_only",text:"_A_TABLE_PREVIEW_RIGHT_ARIA_LABEL_"}),n("div",{class:"a_table__preview_right__header"},e),n("div",{class:"a_table__preview_right__body"},t)])}};function Ni(){const e=O("tableId"),t=["additionalProps"],l=i(()=>`${e.value}_`);return{excludeRenderAttributes:t,idPrefix:l}}function Fi(e){const t=u(e,"additionalSortingColumns"),l=O("columnsOrdered",[]),s=i(()=>[...se(l.value,r=>r.sortId),...t.value]),o=i(()=>De(s.value,"sortId")),a=i(()=>s.value.length);return{columnsAll:s,columnsAllKeyBySortId:o,countColumnsAll:a}}function qi(e,{columnsAll:t=i(()=>[])}){const l=T(void 0),s=T(!1),o=i(()=>t.value.length>0);return{closeDropdown:()=>{var r;(r=l.value)==null||r.onClose({trigger:"click"})},dropdownRef:l,isDropdownVisible:o,wasOpenDropdown:s}}function Vi(e,{columnsAll:t=i(()=>[]),columnsAllKeyBySortId:l=i(()=>({})),unappliedModelSort:s=T([])}){const o=T([]),a=[{label:"_A_TABLE_SORT_ADDITIONAL_DIRECTION_ASC_",id:"asc"},{label:"_A_TABLE_SORT_ADDITIONAL_DIRECTION_DESC_",id:"desc"}],r=i(()=>se(t.value,d=>!st(s.value,["sortId",d.sortId])));return{dataForForm:o,initDataForForm:()=>{const d=[];E(s.value,({sortId:b},_)=>{const w=_===0,h=W(r.value);b&&l.value[b]&&h.unshift(l.value[b]),d.push({type:"fieldset",id:`group_${b}`,label:w?"_A_TABLE_SORT_ADDITIONAL_SORT_BY_":"_A_TABLE_SORT_ADDITIONAL_THEN_BY_",children:[{id:`[${_}].sortId`,type:"select",classColumn:"a_column a_column_12_touch a_column_7_fullhd a_column_7_widescreen a_column_7_desktop",deselectable:!1,data:h,keyId:"sortId",keyLabel:"label",translateData:!0,search:!0,label:"_A_TABLE_SORT_ADDITIONAL_COLUMN_"},{id:`[${_}].sortMode`,type:"select",classColumn:"a_column a_column_12_touch a_column_5_fullhd a_column_5_widescreen a_column_5_desktop a_d_flex a_align_items_center",class:"a_width_100",deselectable:!1,data:a,keyId:"id",keyLabel:"label",translateData:!0,search:!1,label:"_A_TABLE_SORT_ADDITIONAL_DIRECTION_",slotAppend:"slotAppend",additionalProps:{index:_}}]})}),o.value=d}}}function Wi(e,{closeDropdown:t=()=>{},countColumnsAll:l=i(()=>0),initDataForForm:s=()=>{},unappliedModelSort:o=T([]),wasOpenDropdown:a=T(!1)}){const r=u(e,"isSortingMultiColumn"),v=u(e,"modelSort"),d=O("changeModelSort"),b=O("tableId"),_=({model:I}={})=>{if(a.value&&!I)return;a.value=!0;const L=I||W(v.value);L.length<l.value&&L.push(void 0),r.value||L.length>1&&(L.length=1);const M=[];E(L,P=>{const x=P&&P.replace(/^-/,""),c=ot(P,"-")?"desc":"asc";M.push({sortId:x,sortMode:c})}),o.value=M,s({unappliedModelSort:M})},w=({model:I})=>!r.value||I.length>=l.value?!1:!!it(I).sortId,h=({model:I})=>{w({model:I})&&I.push({sortId:void 0,sortMode:"asc"}),o.value=I,s({unappliedModelSort:o.value})},m=({item:I})=>{var x,c;const L=I.additionalProps.index;L===o.value.length-1?o.value[L].sortId=void 0:o.value.splice(L,1);const P=o.value.length-1;(c=(x=o.value)==null?void 0:x[P])!=null&&c.sortId&&o.value.push({sortId:void 0,sortMode:"asc"}),s({unappliedModelSort:o.value})},f=()=>{const I=[];E(o.value,L=>{L.sortId&&I.push(`${L.sortMode==="asc"?"":"-"}${L.sortId}`)}),d({modelAll:I}),t()},p=({modelSort:I=[],tableId:L})=>{L===b.value&&_({model:I})},S=()=>{Se.$on("changeTableSorting",p)},g=()=>{Se.$off("changeTableSorting",p)},A=i(()=>{var I;return((I=v.value)==null?void 0:I.length)||0}),C=i(()=>{if(A.value)return A.value});return{changeModelSortInTable:f,countModelSort:A,destroyEventBus:g,initEventBus:S,initUnappliedModelSort:_,removeUnappliedModelSort:m,textCountModelSort:C,updateUnappliedModelSort:h}}const Ui={name:"ATableSortingAdditional",props:{additionalSortingColumns:{type:Array,required:!1,default:()=>[]},disabledSort:{type:Boolean,required:!1},isSortingMultiColumn:{type:Boolean,required:!1,default:!1},modelSort:{type:Array,required:!1}},setup(e){const t=T([]),{columnsAll:l,columnsAllKeyBySortId:s,countColumnsAll:o}=Fi(e),{dataForForm:a,initDataForForm:r}=Vi(e,{columnsAll:l,columnsAllKeyBySortId:s,unappliedModelSort:t}),{closeDropdown:v,dropdownRef:d,isDropdownVisible:b,wasOpenDropdown:_}=qi(e,{columnsAll:l}),{changeModelSortInTable:w,countModelSort:h,destroyEventBus:m,initEventBus:f,initUnappliedModelSort:p,removeUnappliedModelSort:S,textCountModelSort:g,updateUnappliedModelSort:A}=Wi(e,{closeDropdown:v,countColumnsAll:o,initDataForForm:r,unappliedModelSort:t,wasOpenDropdown:_}),{excludeRenderAttributes:C,idPrefix:I}=Ni();return f(),ge(()=>{m()}),{changeModelSortInTable:w,closeDropdown:v,countModelSort:h,dataForForm:a,dropdownRef:d,excludeRenderAttributes:C,idPrefix:I,initUnappliedModelSort:p,isDropdownVisible:b,removeUnappliedModelSort:S,textCountModelSort:g,unappliedModelSort:t,updateUnappliedModelSort:A,wasOpenDropdown:_}},render(){return this.isDropdownVisible?n(ce,{ref:"dropdownRef",buttonClass:"a_btn a_btn_secondary a_table__action",buttonIconLeft:Xe,buttonText:this.textCountModelSort,buttonTextAriaHidden:!0,buttonTitle:"_A_TABLE_SORT_ADDITIONAL_DROPDOWN_TITLE_{{count}}_",buttonTextScreenReader:"_A_TABLE_SORT_ADDITIONAL_DROPDOWN_TITLE_{{count}}_",buttonTextClass:"a_badge a_bg_primary",disabled:this.disabledSort,dropdownClass:"a_filter_horizontal__wrapper",dropdownRenderDefault:!1,dropdownTag:"div",hasCaret:!1,inBody:!0,extra:{count:this.countModelSort},isCloseByClickInside:!1,lockArrowsNavigation:!1,lockTabNavigation:!1,onOpen:this.initUnappliedModelSort},{dropdown:()=>n("div",{class:"a_filter_horizontal"},[n("div",{class:"a_filter_horizontal__header__wrapper"},[n("div",{class:"a_filter_horizontal__header"},[n("div",{class:"a_filter_horizontal__header__texts"},[n(q,{class:"a_filter_horizontal__header__texts__filter",tag:"span",text:"_A_TABLE_SORT_ADDITIONAL_HEADER_"})])])]),n("div",{class:"a_filter_horizontal__body__wrapper"},[n("div",{class:"a_filter_horizontal__body"},[n(Il,{idPrefix:this.idPrefix,class:"a_filter_horizontal__body__form",classColumnDefault:"",classColumns:"",data:this.dataForForm,excludeRenderAttributes:this.excludeRenderAttributes,modelValue:this.unappliedModelSort,showErrors:!1,onChange:this.updateUnappliedModelSort},{slotAppend:({item:e})=>{var t,l;return n(K,{type:"button",class:"a_btn a_btn_primary a_ml_2",title:"_A_TABLE_SORT_ADDITIONAL_BTN_DELETE_",textScreenReader:"_A_TABLE_SORT_ADDITIONAL_BTN_DELETE_",disabled:!((l=(t=this.unappliedModelSort)==null?void 0:t[e.additionalProps.index])!=null&&l.sortId),iconLeft:Ae,onClick:()=>this.removeUnappliedModelSort({item:e})})}})]),n("div",{class:"a_filter_horizontal__footer"},[n("div",{class:"a_filter_horizontal__footer__actions"},[n(K,{type:"button",class:"a_btn a_btn_primary a_text_nowrap a_filter_horizontal__footer__actions__btn_search",iconLeft:Xe,text:"_A_TABLE_SORT_ADDITIONAL_START_",disabled:this.disabledSort,onClick:this.changeModelSortInTable}),n(K,{type:"button",class:"a_btn a_btn_secondary a_text_nowrap a_filter_horizontal__footer__actions__btn_close",text:"_A_TABLE_SORT_ADDITIONAL_CLOSE_DROPDOWN_",onClick:this.closeDropdown})])])])])}):null}};function Gi(e,{emit:t}){const l=u(e,"areAllRowsSelected"),s=u(e,"closeMultipleActionsActive"),o=u(e,"multipleActions"),a=u(e,"selectedRows"),r=u(e,"tableActions"),v=O("tableId"),d=O("currentMultipleActions"),b=O("rowsLocalAll"),{closeConfirm:_,openConfirm:w}=Tl(),h=i(()=>`${v.value}_btn_multiple`),m=i(()=>{const C=[];return E(W(r.value),I=>{if(!I.isHidden){if(U(I.callback)){const L=I.callback;I.callback=()=>L({id:I.id,action:I})}C.push(I)}}),C}),f=({action:C,callbackDefault:I})=>{const L=W(C);L.callback=I,t("toggleMultipleActionsActive",{isActive:!0,action:L})},p=()=>{t("toggleMultipleActionsActive",{action:d.value})},S=i(()=>{const C=W(o.value);return E(C,I=>{if(U(I.callback)){const L=I.callback;I.callback=()=>f({action:I,callbackDefault:L})}}),C}),g=async()=>{await d.value.callback({close:s.value,rows:a.value,rowsVisible:b.value,id:h.value,areAllRowsSelected:l.value,action:d.value}),_(),p()};return{buttonMultipleId:h,currentMultipleActions:d,multipleActionsFiltered:S,onCancelMultipleActions:p,onOpenModalMultipleActions:()=>{d.value.isConfirm?w({headerText:"_A_TABLE_EXECUTE_MULTIPLE_ACTION_",bodyHtml:"_A_TABLE_EXECUTE_MULTIPLE_ACTION_BODY_HTML_{{action}}_{{selectedRows}}_",saveButtonText:"_A_TABLE_EXECUTE_MULTIPLE_ACTION_BTN_SAVE_",extra:{action:xe({placeholder:d.value.text}),selectedRows:a.value.length},save:g}):d.value.callback({close:s.value,rows:a.value,rowsVisible:b.value,id:h.value,areAllRowsSelected:l.value,action:d.value})},tableActionsFiltered:m}}function Hi(e){const t=u(e,"countAllRows"),{filterFloat:l}=ae();return{countAllRowsFormatted:i(()=>`(${l(t.value,{digits:0})})`)}}function $i(){const e=O("tableId");return{tableLabelId:i(()=>vt({tableId:e.value}))}}function zi(e,{emit:t}){const l=u(e,"areAllRowsSelected"),s=u(e,"areSomeRowsSelected"),o=u(e,"countAllRows"),a=u(e,"isLoadingMultipleActions"),r=u(e,"selectedRows"),v=O("tableId"),{filterFloat:d}=ae(),b=i(()=>ft({tableId:v.value})),_=i(()=>l.value?o.value:r.value.length),w=i(()=>({countSelectedRows:_.value,countSelectedRowsFiltered:d(_.value,{digits:0}),countAllRows:o.value,countAllRowsFiltered:d(o.value,{digits:0})})),h=i(()=>l.value?"_A_TABLE_DESELECT_ALL_ROWS_{{countAllRows}}_{{countAllRowsFiltered}}_":"_A_TABLE_SELECT_ALL_ROWS_{{countAllRows}}_{{countAllRowsFiltered}}_"),m=i(()=>!!(a.value||o.value===0)),f=()=>{m.value||t("toggleBtnAllRows")};return{isBtnMultipleActionDisabled:i(()=>!s.value&&!l.value),isBtnSelectAllRowsDisabled:m,multiplePanelId:b,textMultipleBtnAllRowsTranslate:h,textMultipleSelectedTranslateExtra:w,toggleBtnAllRows:f}}function ji(e,{emit:t}){const l=u(e,"useViewSlot"),s=a=>{t("updateViewCurrent",a)},o=i(()=>l.value?"viewSlot":void 0);return{updateViewCurrentLocal:s,viewSlotLocal:o}}const Xi={name:"ATableTopPanel",props:{additionalSortingColumns:{type:Array,required:!1,default:()=>[]},areAllRowsSelected:{type:Boolean,required:!0},areSomeRowsSelected:{type:Boolean,required:!0},closeMultipleActionsActive:{type:Function,required:!0},countAllRows:{type:Number,required:!0},disabledActions:{type:Boolean,required:!0},disabledMultipleActions:{type:Boolean,required:!0},disabledSort:{type:Boolean,required:!1},disabledViews:{type:Boolean,required:!0},extra:{type:Object,required:!1,default:void 0},hasViews:{type:Boolean,required:!0},isLabelVisible:{type:Boolean,required:!1},isLoadingMultipleActions:{type:Boolean,required:!1},isQuickSearch:{type:Boolean,required:!1},isSortingMultiColumn:{type:Boolean,required:!1,default:!1},label:{type:[String,Number],required:!1,default:""},labelClass:{type:[String,Object],required:!1,default:void 0},labelTag:{type:String,required:!0},modelQuickSearch:{type:String,required:!0},modelSort:{type:Array,required:!1},modelView:{type:String,required:!1,default:void 0},multipleActions:{type:Array,required:!0},selectedRows:{type:Array,required:!0},showCount:{type:Boolean,required:!1,default:!0},tableActions:{type:Array,required:!0},tableActionsIndexFirstDropdownAction:{type:Number,required:!1,default:-1},tableActionsIndexFirstDropdownActionMobile:{type:Number,required:!1,default:0},useAdditionalSorting:{type:Boolean,required:!1,default:!0},useViewSlot:{type:Boolean,required:!1},viewCurrent:{type:Object,required:!1,default:void 0},views:{type:Array,required:!0}},emits:["toggleBtnAllRows","toggleMultipleActionsActive","updateModelQuickSearch","updateViewCurrent"],inject:["isMultipleActionsActive","rowsLocalAll","tableId"],setup(e,t){const{tableLabelId:l}=$i(),{filterCurrency:s}=ae(),{buttonMultipleId:o,currentMultipleActions:a,multipleActionsFiltered:r,onCancelMultipleActions:v,onOpenModalMultipleActions:d,tableActionsFiltered:b}=Gi(e,t),{isBtnMultipleActionDisabled:_,isBtnSelectAllRowsDisabled:w,multiplePanelId:h,textMultipleBtnAllRowsTranslate:m,textMultipleSelectedTranslateExtra:f,toggleBtnAllRows:p}=zi(e,t),{updateViewCurrentLocal:S,viewSlotLocal:g}=ji(e,t),{countAllRowsFormatted:A}=Hi(e);return{buttonMultipleId:o,countAllRowsFormatted:A,currentMultipleActions:a,filterCurrency:s,isBtnMultipleActionDisabled:_,isBtnSelectAllRowsDisabled:w,multipleActionsFiltered:r,multiplePanelId:h,onCancelMultipleActions:v,onOpenModalMultipleActions:d,tableActionsFiltered:b,tableLabelId:l,textMultipleBtnAllRowsTranslate:m,textMultipleSelectedTranslateExtra:f,toggleBtnAllRows:p,updateViewCurrentLocal:S,viewSlotLocal:g}},methods:{updateModelQuickSearch(e){this.$emit("updateModelQuickSearch",e)}},render(){return[n("div",{class:"a_table__top_panel"},[this.isLabelVisible?this.$slots.tableLabel?this.$slots.tableLabel({countAllRows:this.countAllRows,tableLabelId:this.tableLabelId}):n(this.labelTag,{class:["a_table__top_panel__label",this.labelClass]},[n(q,{id:this.tableLabelId,tag:"span",class:"a_table__top_panel__label__text",text:this.label,extra:this.extra}),this.showCount?n(K,{class:"a_table__top_panel__label__count",extra:{count:this.countAllRows},tag:"span",text:this.countAllRowsFormatted,textAriaHidden:!0,textScreenReader:"_A_TABLE_ALL_ROWS_{{count}}_",title:"_A_TABLE_ALL_ROWS_{{count}}_",type:"text"}):""]):"",n("div",{class:"a_table__top_panel__actions"},[this.$slots.tableActionsPrepend?this.$slots.tableActionsPrepend({isMultipleActionsActive:this.isMultipleActionsActive,modelView:this.modelView}):"",n(Re,{actions:this.tableActionsFiltered,actionsClasses:[],disabled:this.isMultipleActionsActive||this.disabledActions,indexFirstDropdownAction:this.tableActionsIndexFirstDropdownAction,indexFirstDropdownActionMobile:this.tableActionsIndexFirstDropdownActionMobile,minDropdownActions:0,dropdownAttributes:{buttonClass:"a_btn a_btn_secondary a_table__action",buttonIconLeft:Ee,buttonText:{desktop:"_A_TABLE_ACTIONS_"},hasCaret:!1,inBody:!0,placement:"bottom-end"}}),n(Re,{actions:this.multipleActionsFiltered,actionsClasses:[],disabled:this.isMultipleActionsActive||this.disabledMultipleActions,indexFirstDropdownAction:0,indexFirstDropdownActionMobile:0,minDropdownActions:0,dropdownAttributes:{id:this.buttonMultipleId,buttonClass:"a_btn a_btn_secondary a_table__action",buttonText:{desktop:"_A_TABLE_MULTIPLE_ACTIONS_"},buttonIconLeft:Zl,inBody:!0,placement:"bottom-end"}}),this.isQuickSearch?n(et,{label:"_A_TABLE_QUICK_SEARCH_",class:"a_table__top_panel__actions__quick_search",modelUndefined:"",modelValue:this.modelQuickSearch,iconPrepend:ei,"onUpdate:modelValue":this.updateModelQuickSearch}):"",this.hasViews?n(Rl,{modelValue:this.modelView,class:"a_d_inline_block",isButtonGroup:!0,disabled:this.disabledViews,slotName:this.viewSlotLocal,data:this.views,keyId:"id",keyLabel:"label",hasBorder:!1,classFieldset:"a_p_0","onUpdate:modelValue":this.updateViewCurrentLocal},{viewSlot:e=>this.$slots.viewSlot&&this.$slots.viewSlot({...e})}):"",this.useAdditionalSorting?n(Ui,{additionalSortingColumns:this.additionalSortingColumns,disabledSort:this.disabledSort,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSort}):"",this.$slots.tableActionsAppend?this.$slots.tableActionsAppend({isMultipleActionsActive:this.isMultipleActionsActive,modelView:this.modelView}):""])]),this.isMultipleActionsActive&&n("div",{id:this.multiplePanelId,class:"a_table__multiple_panel"},[n("div",{class:"a_table__multiple_panel__header"},[n(q,{class:"a_table__multiple_panel__header__text",tag:"strong",text:"_A_TABLE_MULTIPLE_ACTIONS_"}),n("div",{class:"a_table__multiple_panel__items"},[n(q,{class:"a_table__multiple_panel__items__selected",tag:"span",text:"_A_TABLE_MULTIPLE_ITEMS_SELECTED_{{countSelectedRows}}_{{countAllRows}}_{{countSelectedRowsFiltered}}_{{countAllRowsFiltered}}_",extra:this.textMultipleSelectedTranslateExtra}),this.currentMultipleActions.isAllRowsSelected&&n(Z,{class:"a_btn a_btn_secondary a_table__multiple_panel__btn_all_rows",type:"button",text:this.textMultipleBtnAllRowsTranslate,extra:this.textMultipleSelectedTranslateExtra,disabled:this.isBtnSelectAllRowsDisabled||this.disabledMultipleActions,loading:this.isLoadingMultipleActions,onClick:this.toggleBtnAllRows})])]),n("div",{class:"a_table__multiple_panel__actions"},[this.currentMultipleActions.slot&&this.$slots.multipleActionActiveSlot?this.$slots.multipleActionActiveSlot({disabled:this.isBtnMultipleActionDisabled||this.isLoadingMultipleActions||this.disabledMultipleActions,loading:this.isLoadingMultipleActions,text:this.currentMultipleActions.text,action:this.currentMultipleActions,onClick:this.onOpenModalMultipleActions,close:this.closeMultipleActionsActive,rows:this.selectedRows,rowsVisible:this.rowsLocalAll,id:this.buttonMultipleId,areAllRowsSelected:this.areAllRowsSelected}):n(Z,{class:"a_btn a_btn_primary a_table__action",type:"button",disabled:this.isBtnMultipleActionDisabled||this.isLoadingMultipleActions||this.disabledMultipleActions,text:this.currentMultipleActions.text,loading:this.isLoadingMultipleActions,loadingAlign:"left",onClick:this.onOpenModalMultipleActions}),n(Z,{class:"a_btn a_btn_secondary a_table__action",type:"button",text:"_A_TABLE_MULTIPLE_CANCEL_",onClick:this.onCancelMultipleActions})])])]}};function Ki(){const e=T(void 0);return{componentRef:e,setFocusToComponent:()=>{var l;(l=e.value)==null||l.focus({preventScroll:!0})}}}const Qi={name:"ATablePreviewDown",props:{row:{type:Object,required:!0},rowIndex:{type:Number,required:!0}},inject:["onTogglePreview"],setup(){const{componentRef:e,setFocusToComponent:t}=Ki();return Be(()=>{t()}),{componentRef:e}},render(){return n("div",{ref:"componentRef",class:"a_table__preview_down",tabindex:-1},[n(q,{class:"a_sr_only",text:"_A_TABLE_PREVIEW_DOWN_ARIA_LABEL_"}),this.$slots.preview&&this.$slots.preview({row:this.row,rowIndex:this.rowIndex}),n(Z,{class:"a_btn a_btn_transparent_dark a_table__preview_down__btn_close",iconLeft:Ae,iconClass:"a_table__preview_down__btn_close__icon",title:"_A_TABLE_PREVIEW_DOWN_CLOSE_",textScreenReader:"_A_TABLE_PREVIEW_DOWN_CLOSE_",onClick:()=>this.onTogglePreview({row:this.row,rowIndex:this.rowIndex})})])}};function Yi(e){const t=u(e,"column"),l=u(e,"disabledPreview"),s=u(e,"isFooter"),o=O("hasPreview"),a=O("isMobile"),{columnsStyles:r}=gt(e);return{attributesForTd:i(()=>{const d={class:["a_table__td a_table__cell",{a_table__cell_click:o.value&&!s.value&&!l.value},t.value.classRowParent],style:r.value};return a.value||(d.role="cell"),d})}}function Ct(e){const t=u(e,"column"),l=u(e,"row"),s=i(()=>!!t.value.to),o=i(()=>{if(Me(t.value.to))return t.value.to;if(we(t.value.to)){const r=W(t.value.to),v=r.params||{},d=r.query||{};if(t.value.to.nameDynamic&&!t.value.to.name){const b=G(l.value,t.value.to.nameDynamic);b&&(r.name=b)}if(t.value.to.paramsDynamic){let b=!1;if(E(t.value.to.paramsDynamic,(_,w)=>{const h=G(l.value,_);if(j(h))return b=!0,!1;v[w]=h}),b)return}if(t.value.to.queryDynamic){let b=!1;if(E(t.value.to.queryDynamic,(_,w)=>{const h=G(l.value,_);if(j(h))return b=!0,!1;d[w]=h}),b)return}return r.params=v,r.query=d,r}});return{classForLink:i(()=>"a_btn a_btn_link a_p_0 a_text_left"),isLink:s,toLocal:o}}function St(e){const t=u(e,"column"),l=u(e,"isFooter"),s=i(()=>l.value?t.value.footerSlot:t.value.slot);return{hasSlot:i(()=>!!s.value),slotName:s}}function It(e){const t=u(e,"column"),l=u(e,"isFooter"),s=u(e,"row"),o=O("columnsDefaultValue"),a=O("valuesForColumnDefault"),r=i(()=>l.value&&"footerDefaultValue"in t.value?t.value.footerDefaultValue:"defaultValue"in t.value?t.value.defaultValue:j(o.value)?"":o.value),v=i(()=>l.value?t.value.footerKeyLabel:t.value.keyLabel),d=i(()=>l.value?t.value.footerKeyLabelSafeHtml:t.value.keyLabelSafeHtml),b=i(()=>l.value?t.value.footerKeyLabelHtml:t.value.keyLabelHtml),_=i(()=>{if(v.value)return G(s.value,v.value)}),w=i(()=>{if(d.value)return G(s.value,d.value)}),h=i(()=>{if(b.value)return G(s.value,b.value)}),m=A=>{let C=!1;return E(a.value,I=>{if(A===I)return C=!0,!1}),C?r.value:A},f=i(()=>m(_.value)),p=i(()=>m(w.value)),S=i(()=>m(h.value));return{textOrHtmlRender:i(()=>{if(v.value)return n("span",null,f.value);if(d.value)return n("div",{innerHTML:p.value});if(b.value)return rt(n("div"),[[Ze,S.value]])})}}const Qe={name:"ATableTd",props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},disabledPreview:{type:Boolean,required:!1},isFooter:{type:Boolean,required:!1},level:{type:Number,required:!0},row:{type:Object,required:!0},rowIndex:{type:Number,required:!0},showIconChildren:{type:Boolean,required:!1}},inject:["isMobile","rowsLocalAll"],setup(e){const{attributesForTd:t}=Yi(e),{classForLink:l,isLink:s,toLocal:o}=Ct(e),{hasSlot:a,slotName:r}=St(e),{textOrHtmlRender:v}=It(e);return{attributesForTd:t,classForLink:l,hasSlot:a,isLink:s,slotName:r,textOrHtmlRender:v,toLocal:o}},render(){const e=n("div",this.attributesForTd,[n("div",{class:["a_table__cell__child",this.column.class,this.column.classRow]},[this.showIconChildren?n(K,{"aria-hidden":!0,class:"a_table__row_level__icon",classDefault:"",iconLeft:dt,type:"text"}):"",this.hasSlot&&this.$slots[this.slotName]?this.$slots[this.slotName]({column:this.column,columnIndex:this.columnIndex,level:this.level,row:this.row,rowIndex:this.rowIndex,rows:this.rowsLocalAll}):this.isLink&&this.toLocal?n(ke("RouterLink"),{class:[this.column.class,this.classForLink,this.column.classRow],to:this.toLocal},()=>[this.textOrHtmlRender]):this.textOrHtmlRender])]);return this.isMobile?[n(q,{text:this.column.label,tag:"dt"}),n("dd",{},[e])]:e}},Ye={name:"ATableListItem",inject:["rowsLocalAll"],props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},row:{type:Object,required:!0},rowIndex:{type:Number,required:!0},isFooter:{type:Boolean,required:!1}},setup(e){const{classForLink:t,isLink:l,toLocal:s}=Ct(e),{hasSlot:o,slotName:a}=St(e),{textOrHtmlRender:r}=It(e);return{classForLink:t,hasSlot:o,isLink:l,slotName:a,textOrHtmlRender:r,toLocal:s}},render(){return[n(q,{text:this.column.label,tag:"dt"}),n("dd",null,this.hasSlot&&this.$slots[this.slotName]?this.$slots[this.slotName]({column:this.column,columnIndex:this.columnIndex,row:this.row,rowIndex:this.rowIndex,rows:this.rowsLocalAll}):this.isLink&&this.toLocal?[n(ke("RouterLink"),{class:[this.column.class,this.classForLink,this.column.classRow],to:this.toLocal},()=>[this.textOrHtmlRender])]:[this.textOrHtmlRender])]}};function Ji(){const e=O("columnsScrollInvisible"),t=O("modelIsTableWithoutScroll"),l=i(()=>e.value.length),s=i(()=>t.value?l.value>0:!1);return{columnsScrollInvisibleText:i(()=>l.value===1?"_A_TABLE_DROPDOWN_HIDE_FIELD_TEXT_":"_A_TABLE_DROPDOWN_HIDE_FIELDS_TEXT_{{count}}_"),countColumnsScrollInvisible:l,isColumnsScrollInvisibleDropdownVisible:s}}function Zi(e){const t=u(e,"columnActionsView"),l=u(e,"isFooter"),s=u(e,"row"),o=u(e,"rowIndex"),a=O("columnActionsOnePlusDropdownOptions"),r=O("rowActions"),v=O("tableId"),d=i(()=>`${v.value}_action_${o.value}`),b=i(()=>j(a.value.indexFirstDropdownAction)?1:a.value.indexFirstDropdownAction),_=({rowAction:c})=>{if(c.text)return c.text;if(U(c.textCallback))return c.textCallback({row:s.value,rowIndex:o.value,rowAction:c})},w=({rowAction:c})=>{if(c.html)return c.html;if(U(c.htmlCallback))return c.htmlCallback({row:s.value,rowIndex:o.value,rowAction:c})},h=({rowAction:c})=>{if(c.title)return c.title;if(U(c.titleCallback))return c.titleCallback({row:s.value,rowIndex:o.value,rowAction:c})},m=({rowAction:c})=>c.disabled?c.disabled:U(c.disabledCallback)?c.disabledCallback({row:s.value,rowIndex:o.value,rowAction:c}):!1,f=({rowAction:c})=>c.class?c.class:U(c.classCallback)?c.classCallback({row:s.value,rowIndex:o.value,rowAction:c}):"",p=({rowAction:c})=>{if(c.iconLeft)return c.iconLeft;if(U(c.iconLeftCallback))return c.iconLeftCallback({row:s.value,rowIndex:o.value,rowAction:c})},S=({rowAction:c})=>{if(c.iconRight)return c.iconRight;if(U(c.iconRightCallback))return c.iconRightCallback({row:s.value,rowIndex:o.value,rowAction:c})},g=({rowAction:c})=>{if(Me(c.to))return c.to;if(we(c.to)){const y=W(c.to),R=y.params||{},k=y.query||{};if(c.to.nameDynamic&&!c.to.name){const X=G(s.value,c.to.nameDynamic);X&&(y.name=X)}if(c.to.paramsDynamic){let X=!1;if(E(c.to.paramsDynamic,(D,F)=>{const B=G(s.value,D);if(j(B))return X=!0,!1;R[F]=B}),X)return}if(c.to.queryDynamic){let X=!1;if(E(c.to.queryDynamic,(D,F)=>{const B=G(s.value,D);if(j(B))return X=!0,!1;k[F]=B}),X)return}return y.params=R,y.query=k,y}},A=({rowAction:c})=>c.href?c.href:U(c.hrefCallback)?c.hrefCallback({row:s.value,rowIndex:o.value,rowAction:c}):!1,C=({rowAction:c})=>{if(c.extra)return c.extra;if(U(c.extraCallback))return c.extraCallback({row:s.value,rowIndex:o.value,rowAction:c})},I=({rowAction:c})=>{if(c.textScreenReader)return c.textScreenReader;if(U(c.textScreenReaderCallback))return c.textScreenReaderCallback({row:s.value,rowIndex:o.value,rowAction:c})},L=({rowActionIndexVisible:c})=>{if(t.value==="dropdown")return{id:d.value,ids:[d.value,v.value]};if(c<b.value){const y=`${d.value}_${c}`;return{buttonId:y,id:y,ids:[y,v.value]}}return{id:d.value,ids:[d.value,v.value]}},M=c=>{E(c,(y,R)=>{Ml(R,"Callback")&&(c[R]=void 0)})},P=i(()=>{const c=[];let y=0;return E(W(r.value),R=>{if(mt({rowAction:R,row:s.value,rowIndex:o.value})){if(R.type!=="divider"){const k=_({rowAction:R});k&&(R.text=k);const X=w({rowAction:R});X&&(R.html=X);const D=h({rowAction:R});D?R.title=D:k&&(R.title=k);const F=m({rowAction:R});F&&(R.disabled=F);const B=f({rowAction:R});B&&(R.class=B);const $=p({rowAction:R});$&&(R.iconLeft=$);const le=S({rowAction:R});le&&(R.iconRight=le);const ie=C({rowAction:R});ie&&(R.extra=ie);const N=I({rowAction:R});if(ie&&(R.textScreenReader=N),R.type==="link"){const H=g({rowAction:R});H?R.to=H:R.href=A({rowAction:R})}if(U(R.callback)){const{buttonId:H,id:z,ids:J}=L({rowActionIndexVisible:y});R.id=H;const re=R.callback;R.callback=()=>re({row:s.value,rowIndex:o.value,id:z,ids:J,rowAction:R})}M(R)}y++,c.push(R)}}),c}),x=i(()=>!l.value&&P.value.length>0);return{buttonActionsId:d,isRowActionsDropdownVisible:x,rowActionsFiltered:P}}function es(e){const t=u(e,"rowIndex");return{rowNumber:i(()=>t.value+1)}}const ts={name:"ATableTdAction",components:{AIcon:te,ATableListItem:Ye},props:{columnActionsBtnGroupMaxWidthStyle:{type:String,required:!1,default:void 0},columnActionsView:{type:String,required:!0},disabledRowActions:{type:Boolean,required:!1},isFooter:{type:Boolean,required:!1},isRowActionsStickyLocal:{type:Boolean,required:!0},row:{type:Object,required:!0},rowActionsClass:{type:[String,Object],required:!1,default:void 0},rowIndex:{type:Number,required:!0}},inject:["columnActionsOnePlusDropdownOptions","columnsScrollInvisible","tableId"],setup(e){const{isMobileWidth:t}=pe(),{buttonActionsId:l,isRowActionsDropdownVisible:s,rowActionsFiltered:o}=Zi(e),{columnsScrollInvisibleText:a,countColumnsScrollInvisible:r,isColumnsScrollInvisibleDropdownVisible:v}=Ji(),{rowNumber:d}=es(e),{stylesThTd:b}=wt();return{buttonActionsId:l,columnsScrollInvisibleText:a,countColumnsScrollInvisible:r,isColumnsScrollInvisibleDropdownVisible:v,isMobileWidth:t,isRowActionsDropdownVisible:s,rowActionsFiltered:o,rowNumber:d,stylesThTd:b}},render(){return n("div",{role:"cell",class:["a_table__td a_table__cell a_table__cell_action",{a_table__cell_action_sticky:this.isRowActionsStickyLocal}],...this.stylesThTd},[n("div",{class:["a_table__cell__child",this.rowActionsClass]},[this.isColumnsScrollInvisibleDropdownVisible&&n(ce,{buttonClass:"a_btn a_btn_link a_text_nowrap",buttonIconLeft:ti,buttonIconClass:"a_table__cell_action__additional_icon",buttonTitle:"_A_TABLE_DROPDOWN_HIDE_FIELDS_TITLE_{{count}}_",buttonTextScreenReader:"_A_TABLE_DROPDOWN_HIDE_FIELDS_TITLE_{{count}}_",buttonText:this.columnsScrollInvisibleText,buttonTextClass:"a_table__cell_action__additional_text",buttonTextAriaHidden:!0,extra:{count:this.countColumnsScrollInvisible},dropdownClass:"a_p_0 a_overflow_x_hidden a_table__extra_dropdown",dropdownTag:"div",hasCaret:!1,floatingFlip:{use:!0,fallbackPlacements:["top-end","left"]},inBody:!0,placement:"bottom-end",menuWidth:600,isCloseByClickInside:!1},{dropdown:()=>[n("dl",{class:"a_list_dl a_list_dl_dt_right"},[this.columnsScrollInvisible.map((e,t)=>n(Ye,{column:e,columnIndex:t,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter},this.$slots))])]}),this.isRowActionsDropdownVisible||this.$slots.rowActions?n("div",{class:"a_table__cell_action__group"},[this.$slots.rowActions?this.$slots.rowActions({tableId:this.tableId,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter}):"",this.isRowActionsDropdownVisible?this.columnActionsView==="dropdown"||this.isMobileWidth&&this.columnActionsOnePlusDropdownOptions.indexFirstDropdownActionMobile===0?n(ce,{id:this.buttonActionsId,actions:this.rowActionsFiltered,buttonClass:"a_btn a_btn_secondary a_table__cell_action__btn",buttonIconLeft:Ee,buttonTextScreenReader:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",buttonTitle:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",disabled:this.disabledRowActions,extra:{rowNumber:this.rowNumber},hasCaret:!1,inBody:!0,placement:"bottom-end"},this.$slots):n(Re,{class:"a_d_inline_block",style:this.columnActionsBtnGroupMaxWidthStyle,actions:this.rowActionsFiltered,dropdownAttributes:{id:this.buttonActionsId,buttonClass:"a_btn a_btn_secondary a_table__cell_action__btn",buttonIconLeft:ut,buttonTextScreenReader:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",buttonTitle:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",extra:{rowNumber:this.rowNumber},hasCaret:!1,inBody:!0,placement:"bottom-end"},disabled:this.disabledRowActions,btnGroupClass:j(this.columnActionsOnePlusDropdownOptions.btnGroupClass)?"a_btn_group a_btn_group_table":this.columnActionsOnePlusDropdownOptions.btnGroupClass,hasDividerBeforeDropdown:this.columnActionsOnePlusDropdownOptions.hasDividerBeforeDropdown||!1,indexFirstDropdownAction:j(this.columnActionsOnePlusDropdownOptions.indexFirstDropdownAction)?1:this.columnActionsOnePlusDropdownOptions.indexFirstDropdownAction,indexFirstDropdownActionMobile:j(this.columnActionsOnePlusDropdownOptions.indexFirstDropdownActionMobile)?1:this.columnActionsOnePlusDropdownOptions.indexFirstDropdownActionMobile,minDropdownActions:j(this.columnActionsOnePlusDropdownOptions.minDropdownActions)?1:this.columnActionsOnePlusDropdownOptions.minDropdownActions,actionsClasses:this.columnActionsOnePlusDropdownOptions.actionsClasses||["a_btn a_btn_primary a_text_truncate"]},this.$slots):""]):""])])}};function ls(e,{hasChildren:t=i(()=>!1),hasPreviewLocal:l=i(()=>!1),rowClassChildren:s=i(()=>{}),rowClassLevelChildren:o=i(()=>{}),rowClassPreview:a=i(()=>{}),toggleChildren:r=()=>{}}){const v=u(e,"disabledPreview"),d=u(e,"disabledPreviewRowCallback"),b=u(e,"isFooter"),_=u(e,"isTreeCollapsible"),w=u(e,"level"),h=u(e,"row"),m=u(e,"rowClass"),f=u(e,"rowIndex"),p=O("isMobile"),S=O("onTogglePreview"),g=O("tableId"),A=i(()=>{const y=b.value?"_footer":"";return`${g.value}${y}_${f.value}`}),C=i(()=>U(m.value)?m.value({level:w.value,row:h.value,rowindex:f.value}):m.value),I=i(()=>["a_table__row a_table__body__row a_table__row_hover",s.value,o.value,a.value,C.value]),L=i(()=>p.value?"listitem":"row"),M=i(()=>U(d.value)?d.value({row:h.value,rowIndex:f.value}):v.value),P=y=>{Ci({$event:y,tagsName:["A","BUTTON","INPUT","LABEL"],classStop:"a_table__row"})||(t.value?r():l.value&&S({row:h.value,rowIndex:f.value}))},x=y=>{y.keyCode===Y.enter&&P(y)},c=i(()=>(_.value&&t.value||l.value)&&!M.value?{tabindex:0,onClick:P,onKeydown:x}:{});return{disabledPreviewRow:M,eventsLocal:c,roleLocal:L,rowClassComputed:I,rowHtmlId:A}}function is(e,{emit:t}){const l=u(e,"areAllRowsSelected"),s=u(e,"row"),o=u(e,"rowIndex"),a=u(e,"selectedRowsIndexes"),r=O("currentMultipleActions"),v=O("isMultipleActionsActive"),d=i(()=>!!a.value[o.value]||l.value),b=i(()=>{if(v.value){if(U(G(r.value,"isHiddenCallback")))return r.value.isHiddenCallback({row:s.value,rowIndex:o.value});if(l.value)return!0}return!1}),_=i(()=>d.value?"_A_TABLE_DESELECT_THIS_ROW_":"_A_TABLE_SELECT_THIS_ROW_");return{isCheckboxDisabled:b,isRowSelected:d,labelCheckbox:_,toggleCheckbox:()=>{b.value||t("setSelectedRowsIndexes",{rowIndex:o.value})}}}function ss(e){const t=u(e,"isTree"),l=u(e,"keyChildren"),s=u(e,"level"),o=u(e,"row"),a=u(e,"rowIndex"),r=u(e,"rowsLength"),v=i(()=>{if(!l.value)return[];const h=G(o.value,l.value);return oe(h)?h:[]}),d=i(()=>v.value.length>0),b=i(()=>s.value+1),_=i(()=>t.value?{"aria-level":s.value,"aria-posinset":a.value+1,"aria-setsize":r.value}:{}),w=i(()=>{if(t.value)return`a_table__row_level a_table__row_level_${s.value}`});return{ariaTreeAttributes:_,children:v,hasChildren:d,levelForChildren:b,rowClassLevelChildren:w}}function os(e,{hasChildren:t=i(()=>!1)}){const l=u(e,"isOneOfParentsClose"),s=u(e,"isTreeCollapsible"),o=u(e,"isTreeOpened"),a=T(!1),r=i(()=>{if(t.value)return a.value}),v=i(()=>({a_table__row_has_children:t.value,a_table__row_hide:l.value,a_table__row_level_open:t.value&&a.value})),d=i(()=>!!(l.value||!a.value));return{ariaExpanded:r,initIsChildrenOpen:()=>{(!s.value||o.value)&&(a.value=!0)},isOneOfParentsCloseForChildren:d,rowClassChildren:v,toggleChildren:()=>{a.value=!a.value}}}function ns(e){const t=u(e,"allVisibleMobileColumns"),l=u(e,"countVisibleMobileColumns"),s=O("isMobile"),o=T(!1),a=i(()=>t.value.length-l.value),r=i(()=>s.value&&t.value.length>l.value),v=i(()=>a.value===1?"_A_TABLE_MOBILE_TR_PLUS_FIELD_":"_A_TABLE_MOBILE_TR_PLUS_FIELDS_{{count}}_"),d=i(()=>o.value?"_A_TABLE_MOBILE_TR_CLOSE_":v.value);return{countInvisibleMobileColumns:a,isAllColumnsVisibleMobile:o,isBtnToggleAllColumnsVisible:r,textBtnToggleAllColumns:d,toggleAllColumnsVisibleMobile:({$event:_})=>{o.value=!o.value,_.stopPropagation()}}}function as(e,{hasChildren:t=i(()=>!1)}){const l=u(e,"isFooter"),s=u(e,"rowIndex"),o=O("hasPreview"),a=O("previewRightRowIndex"),r=O("previewRightRowIndexLast"),v=i(()=>!!(!t.value&&o.value&&!l.value)),d=i(()=>s.value===a.value),b=i(()=>!d.value&&s.value===r.value),_=i(()=>xe({placeholder:d.value?"_A_TABLE_ROW_PREVIEW_CLOSE_":"_A_TABLE_ROW_PREVIEW_OPEN_"})),w=i(()=>v.value?{"aria-label":_.value}:{}),h=i(()=>{if(v.value)return{a_table__row_preview_open:d.value,a_table__row_preview_was_open:b.value}});return{hasPreviewLocal:v,previewAttributes:w,rowClassPreview:h}}const Je={name:"ATableTr",props:{allVisibleMobileColumns:{type:Array,required:!0},areAllRowsSelected:{type:Boolean,required:!0},columnActionsBtnGroupMaxWidthStyle:{type:String,required:!1,default:void 0},columnActionsView:{type:String,required:!0},countVisibleMobileColumns:{type:Number,required:!0},disabledPreview:{type:Boolean,required:!1},disabledPreviewRowCallback:{type:Function,required:!1},disabledRowActions:{type:Boolean,required:!1},isFooter:{type:Boolean,required:!1},isOneOfParentsClose:{type:Boolean,required:!1},isPreviewDownOpen:{type:Boolean,required:!1},isRowActionsStickyLocal:{type:Boolean,required:!0},isTree:{type:Boolean,required:!1},isTreeCollapsible:{type:Boolean,required:!1,default:!0},isTreeOpened:{type:Boolean,required:!1},keyChildren:{type:String,required:!1,default:void 0},keyId:{type:String,required:!1,default:"id"},level:{type:Number,required:!0},row:{type:Object,required:!0},rowActionsClass:{type:[String,Object],required:!1,default:void 0},rowClass:{type:[String,Object,Function],required:!1,default:void 0},rowIndex:{type:Number,required:!0},rowsLength:{type:Number,required:!0},selectedRowsIndexes:{type:Object,required:!0}},emits:["setSelectedRowsIndexes"],setup(e,t){const{ariaTreeAttributes:l,children:s,hasChildren:o,levelForChildren:a,rowClassLevelChildren:r}=ss(e),{ariaExpanded:v,initIsChildrenOpen:d,isOneOfParentsCloseForChildren:b,rowClassChildren:_,toggleChildren:w}=os(e,{hasChildren:o}),{hasPreviewLocal:h,previewAttributes:m,rowClassPreview:f}=as(e,{hasChildren:o}),{disabledPreviewRow:p,eventsLocal:S,roleLocal:g,rowClassComputed:A,rowHtmlId:C}=ls(e,{hasChildren:o,hasPreviewLocal:h,rowClassChildren:_,rowClassLevelChildren:r,rowClassPreview:f,toggleChildren:w}),{countInvisibleMobileColumns:I,isAllColumnsVisibleMobile:L,isBtnToggleAllColumnsVisible:M,textBtnToggleAllColumns:P,toggleAllColumnsVisibleMobile:x}=ns(e),{isCheckboxDisabled:c,isRowSelected:y,labelCheckbox:R,toggleCheckbox:k}=is(e,t);return d(),{ariaExpanded:v,ariaTreeAttributes:l,children:s,countInvisibleMobileColumns:I,disabledPreviewRow:p,eventsLocal:S,hasChildren:o,isAllColumnsVisibleMobile:L,isBtnToggleAllColumnsVisible:M,isCheckboxDisabled:c,isOneOfParentsCloseForChildren:b,isRowSelected:y,labelCheckbox:R,levelForChildren:a,previewAttributes:m,roleLocal:g,rowClassComputed:A,rowHtmlId:C,textBtnToggleAllColumns:P,toggleAllColumnsVisibleMobile:x,toggleCheckbox:k,toggleChildren:w}},inject:["columnsFilteredForRender","isActionColumnVisible","isMultipleActionsActive","isMobile"],render(){let e=[];this.isMobile&&!this.isAllColumnsVisibleMobile?E(this.allVisibleMobileColumns,(s,o)=>{if(o+1>this.countVisibleMobileColumns)return!1;e.push(n(Qe,{key:s.id,column:s,columnIndex:o,disabledPreview:this.disabledPreviewRow,level:this.level,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter},this.$slots))}):e=this.columnsFilteredForRender.map((s,o)=>n(Qe,{key:s.id,column:s,columnIndex:o,disabledPreview:this.disabledPreviewRow,level:this.level,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter,showIconChildren:!!(this.isTreeCollapsible&&this.hasChildren&&o===0)},this.$slots));const t=this.isActionColumnVisible&&n(ts,{columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,disabledRowActions:this.disabledRowActions,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter,rowActionsClass:this.rowActionsClass,isRowActionsStickyLocal:this.isRowActionsStickyLocal},this.$slots),l=this.isMobile?n("div",{class:"a_table_mobile__dl__wrapper"},[this.$slots.rowMobilePrepend?this.$slots.rowMobilePrepend({row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter}):"",this.isTreeCollapsible&&this.hasChildren?n(K,{"aria-hidden":!0,class:"a_table__row_level__icon",classDefault:"",iconLeft:dt,type:"text"}):"",n("dl",{class:"a_table_mobile__dl"},e),this.$slots.rowMobileAppend?this.$slots.rowMobileAppend({row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter}):""]):e;return[n("div",{id:this.rowHtmlId,role:this.roleLocal,class:this.rowClassComputed,"aria-expanded":this.ariaExpanded,...this.previewAttributes,...this.ariaTreeAttributes,...this.eventsLocal},[this.isMultipleActionsActive&&n("div",{class:"a_table__td a_table__cell a_table__cell_checkbox",style:"width: 50px; min-width: 50px; max-width: 50px;"},[!this.isFooter&&n(Oe,{isWidthAuto:!0,modelValue:this.isRowSelected,disabled:this.isCheckboxDisabled,label:this.labelCheckbox,labelClass:"a_sr_only",isLabelTitle:!0,"onUpdate:modelValue":this.toggleCheckbox})]),l,this.isMobile?n("div",{class:"a_table_mobile__actions_parent"},[this.isBtnToggleAllColumnsVisible&&n(K,{class:"a_btn a_btn_link a_table_mobile__columns_btn_toggle",extra:{count:this.countInvisibleMobileColumns},text:this.textBtnToggleAllColumns,type:"button",onClick:this.toggleAllColumnsVisibleMobile}),t]):t]),this.isPreviewDownOpen&&n(Qi,{row:this.row,rowIndex:this.rowIndex},{preview:s=>this.$slots.preview?this.$slots.preview(s):void 0}),this.hasChildren?this.children.map((s,o)=>n(ke("ATableTr"),{key:s[this.keyId]||o,allVisibleMobileColumns:this.allVisibleMobileColumns,areAllRowsSelected:this.areAllRowsSelected,columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,countVisibleMobileColumns:this.countVisibleMobileColumns,disabledPreview:this.disabledPreviewRow,disabledRowActions:this.disabledRowActions,isFooter:this.isFooter,isOneOfParentsClose:this.isOneOfParentsCloseForChildren,isPreviewDownOpen:!1,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isTree:this.isTree,isTreeCollapsible:this.isTreeCollapsible,isTreeOpened:this.isTreeOpened,keyChildren:this.keyChildren,keyId:this.keyId,level:this.levelForChildren,row:s,rowActionsClass:this.rowActionsClass,rowClass:this.rowClass,rowIndex:o,rowsLength:this.children.length,selectedRowsIndexes:this.selectedRowsIndexes},{get:a=>[n(Te,{data:a.row,keyLabel:a.column.keyLabel,filter:a.column.filter,filterParameters:a.column.filterParameters,defaultValue:a.column.defaultValue,tag:a.column.filterTag||"div"})],...this.$slots})):""]}};function rs(e,{isMobile:t=i(()=>!1),rowsLocal:l=T([])}){const s=u(e,"columnActionsView"),o=u(e,"columnActionsWidth"),a=u(e,"columnActionsWidthDefaults"),r=u(e,"columnActionsWidthMin"),v=u(e,"rowActions"),d=i(()=>s.value==="onePlusDropdown"),b=i(()=>{let f=!1;e:for(let p=0;p<l.value.length;p++){const S=l.value[p];for(let g=0;g<v.value.length;g++){const A=v.value[g];if(mt({rowAction:A,row:S,rowIndex:p})&&A.type!=="divider"){f=!0;break e}}}return f}),_=i(()=>!v.value.length||!d.value?!1:b.value),w=i(()=>j(o.value)?_.value&&s.value==="onePlusDropdown"?a.value.onePlusDropdown:a.value.default:o.value),h=i(()=>j(r.value)?_.value&&s.value==="onePlusDropdown"?a.value.onePlusDropdownMin:a.value.min:r.value);return{columnActionsBtnGroupMaxWidthStyle:i(()=>{const f=a.value.btnGroupMaxWidth;if(!t.value&&s.value!=="dropdown"&&!j(f))return`max-width: ${f}px`}),columnActionsWidthLocal:w,columnActionsWidthMinLocal:h,isColumnActionWide:_}}function us(e,{columnsScrollInvisible:t=T([]),indexFirstScrollInvisibleColumn:l=T(void 0),modelColumnsVisibleLocal:s=T({}),modelIsTableWithoutScrollComputed:o=i(()=>!1),columnsOrderedFromSimpleTable:a=i(()=>[])}){const r=u(e,"columns"),v=u(e,"isActionColumnVisible"),d=u(e,"isSimpleTable"),b=u(e,"modelColumnsOrdering"),_=u(e,"multipleActions"),w=i(()=>De(r.value,"id")),h=i(()=>{const A={true:[],false:[],trueObject:{},falseObject:{},trueColumns:[],falseColumns:[]};return E(W(r.value),C=>{const I=C.id;C.locked?(A.true.push(I),A.trueColumns.push(C),A.trueObject[I]=!0):(A.false.push(I),A.falseColumns.push(C),A.falseObject[I]=!0)}),A}),m=i(()=>{if(d.value&&a.value&&a.value.length)return a.value;if(!b.value.length)return[...h.value.trueColumns,...h.value.falseColumns];const A=[],C=W(w.value);return E(b.value,I=>{C[I]&&A.push(C[I])}),A}),f=i(()=>{const A=[],C={};return E(m.value,(I,L)=>{Ti({column:I,columnIndex:L,modelIsTableWithoutScroll:o.value,modelColumnsVisibleLocal:s.value,indexFirstScrollInvisibleColumn:l.value})&&(C[A.length]=L,A.push(I))}),{columns:A,columnsIndexesMapping:C}}),p=i(()=>f.value.columnsIndexesMapping),S=i(()=>f.value.columns),g=i(()=>{let A=S.value.length;return o.value&&(A+=t.value.length),v.value&&A++,_.value.length&&A++,A});return{columnIdsGroupByLocked:h,columnsFilteredForRender:S,columnsFilteredForRenderIndexesMapping:p,columnsOrdered:m,countNotHiddenColumns:g}}function ds(e,{modelSort:t=T([])}){const l=u(e,"columns"),s=u(e,"showFirstSortingSequenceNumber"),o=u(e,"sortingSequenceNumberClass"),a=i(()=>se(l.value,g=>Si({column:g}))),r=i(()=>ee(a.value,(g,A)=>({...g,_index:g.prio||A}))),v=i(()=>ee(r.value,g=>(g.group&&g.group.length&&(g.group=ee(g.group,(A,C)=>[A,C].join("%%%"))),g))),d=({groups:g,group:A,level:C,columnsOrderedFromGroups:I,firstLevelGroupObject:L})=>{const M=A?se(g,c=>ze(c,A[C-1])):g,P=Bl(M,c=>c[C]),x=ee(P,c=>{const y={id:c[C].split("%%%")[0]};let R;return C===0?(R=y,R.columnIndexes=[]):R=L,c.length>C+1?y.children=G(d({groups:g,group:c,level:C+1,columnsOrderedFromGroups:I,firstLevelGroupObject:R}),"recursiveGroup"):c.length===C+1&&(y.columns=se(v.value,k=>ze(k.group,c[C])),R.columnIndexes.push(...ee(y.columns,"_index")),I.push(...y.columns)),y});return{columnsOrderedFromGroups:I,recursiveGroup:x}},b=i(()=>ee(v.value,g=>G(g,"group",g))),_=i(()=>se(b.value,g=>oe(g))),w=i(()=>se(b.value,g=>!oe(g))),h=i(()=>{const g=[];return d({groups:_.value,group:null,level:0,columnsOrderedFromGroups:g})}),m=i(()=>Ie([...h.value.columnsOrderedFromGroups,...w.value],"_index")),f=g=>n(Le,{ref:"th",class:"a_table__cell__child_group",column:g,columnGroupNames:ee(g.group,A=>A.split("%%%")[0]),columnIndex:g._index,hasMultipleActions:!1,modelSort:t.value,showFirstSortingSequenceNumber:s.value,sortingSequenceNumberClass:o.value}),p=g=>n("div",{class:"a_table__th_group"},[n("div",{class:"a_table__th_child_group"},[n("div",{class:"a_table__cell_group a_text_center"},[g.id&&n(q,{html:g.id,tag:"span","aria-hidden":!0})]),n("div",{class:"a_table__th_group_container"},g.children?ee(g.children,A=>p(A)):ee(g.columns,A=>f(A)))])]),S=i(()=>{const g=Ie([...h.value.recursiveGroup,...w.value],A=>A.columnIndexes?El(A.columnIndexes):A._index);return ee(g,A=>A.columnIndexes?p(A):f(A))});return{columnsOrderedFromSimpleTable:m,renderedGroupedColumns:S}}function cs(e,{emit:t},{checkVisibleColumns:l=()=>{},columnIdsGroupByLocked:s=i(()=>({true:[],false:[],trueObject:{},falseObject:{},trueColumns:[],falseColumns:[]})),columnsFilteredForRenderIndexesMapping:o=i(()=>({}))}){const a=u(e,"columns"),r=u(e,"modelColumnsOrdering"),v=({columnIndexDraggable:_,columnIndexOver:w,reset:h,inHeader:m})=>{if(_===w&&!h)return;m&&(_=o.value[_],w=o.value[w]);let f;if(h)f=[...s.value.true,...s.value.false];else{f=W(r.value);const p=f[_];f.splice(_,1),f.splice(w,0,p)}t("changeColumnsOrdering",{columnIndexDraggable:_,columnIndexOver:w,modelColumnsOrdering:f}),setTimeout(()=>{l()})},d=()=>{let _=[],w=!1;if(!r.value.length)_=[...s.value.true,...s.value.false];else{_=[...s.value.true];const h=W(s.value.falseObject);E(r.value,m=>{h[m]&&(_.push(m),delete h[m])}),E(h,(m,f)=>{_.push(f)}),JSON.stringify(r.value)!==JSON.stringify(_)&&(w=!0)}return{shouldFixColumns:w,modelColumnsOrderingLocal:_}},b=()=>{const{shouldFixColumns:_,modelColumnsOrderingLocal:w}=d();_&&t("changeColumnsOrdering",{modelColumnsOrdering:w,shouldFixColumns:_})};return ne(a,()=>{b()},{deep:!0}),{changeColumnsOrdering:v,checkColumnsOrdering:d}}function _s(e){const t=u(e,"countAllRows"),l=u(e,"data"),s=u(e,"isTree"),o=u(e,"keyChildren"),a=u(e,"keyCountAllRowsInData"),r=i(()=>we(l.value)),v=i(()=>oe(l.value)),d=i(()=>Q(t.value)?r.value?+G(l.value,a.value):v.value?s.value?yl({array:l.value,keyChildren:o.value}):l.value.length:0:t.value),b=i(()=>Q(t.value)?l.value.length:t.value);return{countAllRowsLocal:d,totalRowsCount:b}}function hs({tableRef:e=T(void 0)}){return{scrollToTable:()=>{if(e.value){let o=e.value.getBoundingClientRect().top+window.scrollY-window.innerHeight/2;o<0&&(o=0),document.documentElement.scrollTop=o}},setFocusToTable:()=>{e.value&&(e.value.setAttribute("tabindex","-1"),e.value.focus(),e.value.removeAttribute("tabindex"))}}}function bs(e,{emit:t},{checkColumnsOrdering:l=()=>{},checkVisibleColumns:s=()=>{},modelColumnsVisibleLocal:o=T({})}){const a=u(e,"modelColumnsVisible"),r=u(e,"columns");return{initTable:()=>{const{shouldFixColumns:d,modelColumnsOrderingLocal:b}=l();let _=!1;nt(a.value)?o.value=W(a.value):(_=!0,o.value=_t(r.value),s()),t("initTable",W({columnsOrdering:{model:b,shouldFix:d},columnsVisible:{model:o.value,shouldFix:_}}))}}}function fs(e,{emit:t},{closePreviewAll:l=()=>{},scrollToTable:s=()=>{},setFocusToTable:o=()=>{},viewCurrent:a=i(()=>({}))}){const r=u(e,"isTree"),v=u(e,"offsetStart"),d=u(e,"pagination"),b=T(void 0),_=T(void 0),w=()=>{b.value=d.value.limitStart||10,_.value=v.value},h=i(()=>{var p;return r.value?!1:(p=d.value)!=null&&p.use?a.value?a.value.usePagination||!1:!0:!1});return{changeLimit:p=>{o(),s(),b.value=p,_.value=v.value,t("changeLimit",{offset:_.value,limit:p}),l()},changeOffset:p=>{let S,g;we(p)?(S=p.offset,g=p.reload):(S=p,g=!0),g&&(o(),s()),_.value=S,t("changeOffset",{offset:S,limit:b.value}),g&&l()},initLocalVars:w,limit:b,offset:_,usePaginationLocal:h}}function vs({columnsOrdered:e=T([]),isMobile:t=T(!1),modelColumnsVisibleLocal:l=T({})}){return{allVisibleMobileColumns:i(()=>t.value?se(e.value,o=>o.isRender!==!1&&l.value[o.id]!==!1):[])}}function ms(e,{emit:t},{checkVisibleColumns:l=()=>{},isMultipleActionsActive:s=T(void 0),rowsLocalAll:o=i(()=>[]),rowsLocalLength:a=i(()=>0)}){const r=u(e,"id"),v=u(e,"multipleActions"),d=T(void 0),b=T({}),_=T(!1),w=i(()=>v.value.length>0),h=i(()=>U(G(d.value,"isHiddenCallback"))),m=i(()=>se(o.value,(P,x)=>b.value[x])),f=()=>{b.value={}},p=()=>{s.value=!1,d.value=void 0,_.value=!1,f()},S=()=>{if(window.isScrollDisabled)return;const P=ft({tableId:r.value});be({selector:`#${P}`})},g=({isActive:P,action:x}={})=>{if(P){s.value=!0,d.value=x,setTimeout(()=>{l(),S()}),t("toggleMultipleActions",{isActive:P,action:x});return}s.value?p():s.value=!0,setTimeout(()=>{l(),S()}),t("toggleMultipleActions",{isActive:P,action:x})},A=i(()=>nt(b.value)),C=i(()=>a.value>0&&a.value===A.value),I=i(()=>A.value>0);return{areAllRowsSelected:_,areAllVisibleRowsSelected:C,areSomeRowsSelected:I,closeMultipleActionsActive:p,currentMultipleActions:d,hasMultipleActions:w,selectedRows:m,selectedRowsIndexes:b,setEmptySelectedRowsIndexes:f,setSelectedRowsIndexes:({rowIndex:P,isAll:x})=>{if(x){if(I.value)f();else{const c={};h.value?je(a.value,y=>{d.value.isHiddenCallback({row:o.value[y],rowIndex:y})||(c[y]=!0)}):je(a.value,y=>{c[y]=!0}),b.value=c}return}b.value[P]?delete b.value[P]:b.value[P]=!0},toggleBtnAllRows:()=>{_.value=!_.value,_.value&&f()},toggleMultipleActionsActive:g}}function ps(e,{emit:t},{aTableRef:l=T({}),tableGrandparentRef:s=T({})}){const{previewRef:o,removePreviewRef:a}=lt(),r=u(e,"previewBoxWidth"),v=200,d=50;let b,_=0,w=0,h=0;const m=()=>{w=l.value.getBoundingClientRect().left},f=({clientWidth:c})=>{_=c,b=c/100*d,m()},p=({clientWidthLocal:c,clientXTableParent:y,previewBoxWidth:R})=>{const k=c-y-R;l.value.style.width=`${k}px`},S=({clientX:c=0,previewRef:y,previewBoxWidth:R=0})=>{let k=R||_-c;k<v?k=v:k>b&&(k=b),p({clientWidthLocal:_,clientXTableParent:w,previewBoxWidth:k}),y.style.width=`${k}px`},g=({previewRef:c})=>{G(c,"style.removeProperty")&&c.style.removeProperty("width"),G(l,"value.style.removeProperty")&&l.value.style.removeProperty("width")},A=({previewRef:c})=>{_=document.documentElement.clientWidth,h=G(s,"value.offsetWidth",0),m(),S({previewRef:c,previewBoxWidth:r.value})},C=({previewRef:c,isOpen:y})=>{y?A({previewRef:c}):g({previewRef:c})},I=({previewRightWidth:c})=>{t("mouseupResizePreviewRight",{previewRightWidth:c})},L=()=>{A({previewRef:o.value})},M=new ResizeObserver(at(c=>{const y=c[0].contentRect;h!==y.width&&(h=y.width,L())},300)),P=()=>{M.observe(s.value)},x=()=>{M.unobserve(s.value)};return ge(()=>{a(),x()}),{addEventListenerWindowResize:P,mousedownResizePreviewRight:f,mousemoveResizePreviewRight:S,mouseupResizePreviewRight:I,removeEventListenerWindowResize:x,togglePreviewResize:C}}function ws(e,t,{aTableRef:l=T({}),isMobile:s=T(void 0),rowsLocalAll:o=i(()=>[]),tableGrandparentRef:a=T({})}){const{isDropdownGlobalOpen:r}=Ll(),{addEventListenerWindowResize:v,mousedownResizePreviewRight:d,mousemoveResizePreviewRight:b,mouseupResizePreviewRight:_,removeEventListenerWindowResize:w,togglePreviewResize:h}=ps(e,t,{aTableRef:l,tableGrandparentRef:a}),m=u(e,"keyId"),f=u(e,"preview"),p=u(e,"id"),S=t.emit,g=T({}),A=T(void 0),C=T(void 0),I=i(()=>!!f.value),L=({rowIndex:N})=>{window.isScrollDisabled||setTimeout(()=>{const H=`#${p.value}_${N}`;be({selector:H})})},M=()=>{window.isScrollDisabled||setTimeout(()=>{const N=`#${bt({tableId:p.value})}`;be({selector:N})})},P=i(()=>f.value==="right"||s.value),x=i(()=>!Q(A.value)),c=()=>{L({rowIndex:A.value}),S("togglePreview",{row:o.value[A.value],rowIndex:A.value,typeToggle:"close"}),C.value=A.value,A.value=void 0,w()},y=()=>{S("togglePreview",{row:o.value[A.value],rowIndex:A.value,typeToggle:"close"}),C.value=void 0,A.value=void 0,w()},R=i(()=>f.value==="down"),k=({rowIndex:N,row:H})=>{const z=me({row:H,rowIndex:N,keyId:m.value});delete g.value[z]},X=()=>{g.value={}},D=()=>{y(),X()},F=({rowIndex:N,row:H}={})=>{P.value?c():R.value&&k({rowIndex:N,row:H})},B=({rowIndex:N})=>{!s.value&&j(A.value)&&v(),S("togglePreview",{row:o.value[N],rowIndex:N,typeToggle:"open"}),A.value=N,C.value=void 0,M()},$=({rowIndex:N})=>{A.value===N?c():B({rowIndex:N})},le=({rowIndex:N,row:H})=>{const z=me({row:H,rowIndex:N,keyId:m.value});g.value[z]?delete g.value[z]:g.value[z]=!0};return{closePreview:F,closePreviewAll:D,hasPreview:I,isPreviewRightOpen:x,mousedownResizePreviewRight:d,mousemoveResizePreviewRight:b,mouseupResizePreviewRight:_,onTogglePreview:({row:N,rowIndex:H})=>{if(!r.value){if(P.value){$({rowIndex:H});return}R.value&&le({row:N,rowIndex:H})}},previewDownRowIds:g,previewRightRowIndex:A,previewRightRowIndexLast:C,togglePreviewResize:h}}function As(e,{dataSorted:t=i(()=>[]),limit:l=T(0),offset:s=T(0),setEmptySelectedRowsIndexes:o=()=>{},usePaginationLocal:a=i(()=>!1)}){const r=u(e,"clearSelectedRowsOnDataChange"),v=u(e,"pagination"),d=u(e,"rowsCountRenderPerTick"),b=T([]),_=T([]);let w=!0,h=0,m;const f=i(()=>{if(l.value&&!v.value.isOutside&&a.value){const x=s.value,c=x+l.value;return t.value.slice(x,c)}return t.value}),p=i(()=>f.value),S=i(()=>p.value.length),g=i(()=>!!S.value),A=()=>{const x=h*d.value,c=x+d.value;ee(f.value.slice(x,c),y=>_.value.push(y)),h++},C=()=>{m=setInterval(()=>{h*d.value>=f.value.length?clearInterval(m):A()})},I=()=>{clearInterval(m)},L=({row:x,rowIndex:c})=>{c>_.value.length-1||(_.value[c]=x)},M=({row:x})=>{_.value.unshift(x)},P=({index:x})=>{_.value.splice(x,1)};return ne(f,x=>{kl(x,b.value)||(b.value=[...x],!w&&r.value&&o(),w=!1,_.value=[],h=0,I(),d.value>0?(A(),C()):_.value=f.value)},{immediate:!0,deep:!0}),{addRow:M,deleteRow:P,hasRows:g,rowsLocal:_,rowsLocalAll:p,rowsLocalLength:S,stopRenderRows:I,updateRow:L}}function gs(e,{emit:t},{columnActionsWidth:l=i(()=>0),columnActionsWidthMin:s=i(()=>0),columnsOrdered:o=i(()=>[]),columnsScrollInvisible:a=T([]),indexFirstScrollInvisibleColumn:r=T(void 0),isMobile:v=T(!1),isMultipleActionsActive:d=T(void 0),modelColumnsVisibleLocal:b=T({}),modelIsTableWithoutScroll:_=T(!1),modelIsTableWithoutScrollComputed:w=i(()=>!1)}){const h=u(e,"columnWidthDefault"),m=u(e,"isActionColumnVisible"),f=u(e,"isSimpleTable"),p=T(void 0),S=T(0),g=T(void 0);let A=!1;const C=20,I=i(()=>m.value?s.value:0),L=i(()=>{const D=d.value?s.value:0,F=f.value?0:C;return D+F}),M=({sumGrows:D=0,freeSpaceWidth:F=0})=>{D>0?S.value=F/D:S.value=0},P=()=>{if(Q(r.value)||o.value.length<r.value)a.value=[];else{const D=[];for(let F=r.value;F<o.value.length;F++){const B=o.value[F];he({column:B,modelColumnsVisibleLocal:b.value})&&D.push(W(B))}a.value=D}},x=()=>{a.value=[],S.value=0,r.value=1e3,g.value=0},c=()=>{if(v.value||g.value===0){x();return}if(j(g.value))return;const D=g.value-L.value-I.value,F=g.value-L.value-l.value;let B=0,$=0,le=0,ie=!1;if(E(o.value,z=>{if(!he({column:z,modelColumnsVisibleLocal:b.value})){$++;return}const J=+z.width||h.value;if(B+J>D)return ie=!0,!1;B+=J,$++,le+=Q(z.grow)?1:z.grow}),ie&&B>F)for(let z=$-1;z>=0;z--){$--;const J=o.value[$];if(!he({column:J,modelColumnsVisibleLocal:b.value}))continue;const re=+J.width||h.value;if(B-=re,le-=Q(J.grow)?1:J.grow,B<=F)break}let N=0;const H=ie?F:D;(w.value||$===o.value.length)&&(N=H-B),r.value=$,M({sumGrows:le,freeSpaceWidth:N}),P()},y=({entries:D,forceAdjust:F})=>{const B=D[0].contentRect;(F||g.value>B.width+C||g.value<B.width-C)&&(A||(A=!0,g.value=B.width,c(),A=!1))},R=new ResizeObserver(at(D=>{j(g.value)?y({entries:D,forceAdjust:!0}):y({entries:D})},300)),k=D=>{D?(R.unobserve(p.value),x()):(R.observe(p.value),_.value&&c())},X=D=>{_.value=D,t("updateModelIsTableWithoutScroll",D),_.value&&c()};return Be(()=>{v.value||R.observe(p.value)}),ge(()=>{R.unobserve(p.value)}),ne(o,()=>{c()}),{aTableRef:p,changeModelIsTableWithoutScroll:X,checkVisibleColumns:c,columnsVisibleAdditionalSpaceForOneGrow:S,onWatchMobileScrollControl:k}}function Cs(e){const t=u(e,"hasMobile"),l=u(e,"isActionColumnVisible"),s=u(e,"isActionColumnVisible"),o=u(e,"isColumnsDnd"),a=u(e,"isSimpleTable"),r=u(e,"modelIsTableWithoutScrollStart"),v=u(e,"rowActions"),d=T(void 0),b=()=>{d.value=r.value},{isMobileWidth:_}=pe(),w=i(()=>a.value?v.value&&!!v.value.length&&l.value:s.value),h=i(()=>!!(s.value&&!a.value)),m=i(()=>!!(o.value&&!a.value)),f=i(()=>t.value?!!_.value:!1),p=i(()=>a.value?!1:d.value);return{initModelIsTableWithoutScroll:b,isActionColumnVisibleLocal:w,isActionIconVisibleLocal:h,isColumnsDndLocal:m,isMobile:f,modelIsTableWithoutScroll:d,modelIsTableWithoutScrollComputed:p}}function Ss(e,{viewCurrent:t=i(()=>({}))}){const l=u(e,"data"),s=u(e,"isSortingOutside"),o=u(e,"modelSort"),a=u(e,"useAdditionalSorting"),r=T([]),v=i(()=>a.value?t.value?t.value.useAdditionalSorting||!1:!0:!1),d=()=>{Me(o.value)?r.value=[o.value]:oe(o.value)&&(r.value=W(o.value))},b=i(()=>{const w={models:[],directions:[]};return r.value.length&&E(r.value,h=>{let m="asc",f=h;ot(h,"-")&&(m="desc",f=h.slice(1)),w.models.push(f),w.directions.push(m)}),w}),_=i(()=>r.value.length&&!s.value?Nl(l.value||[],b.value.models,b.value.directions):l.value||[]);return ne(o,()=>{d()}),{dataSorted:_,initModelSort:d,modelSortLocal:r,useAdditionalSortingLocal:v}}function Is(e,{emit:t},{modelSortLocal:l=T([]),closePreviewAll:s=()=>{}}){const o=u(e,"id"),a=u(e,"isSortingMultiColumn"),r=u(e,"sortingMultiColumnKey"),v=i(()=>`${r.value}Key`),d=h=>a.value&&h[v.value],b=({sortId:h})=>{const m=l.value.indexOf(h);if(m!==-1){l.value.splice(m,1,`-${h}`);return}const f=l.value.indexOf(`-${h}`);if(f!==-1){l.value.splice(f,1);return}l.value.push(h)},_=({sortId:h})=>{if(l.value.indexOf(h)!==-1){l.value=[`-${h}`];return}if(l.value.indexOf(`-${h}`)!==-1){l.value=[];return}l.value=[h]};return{changeModelSort:({sortId:h,$event:m,modelAll:f})=>{f?l.value=f:d(m)?b({sortId:h}):_({sortId:h}),t("changeSorting",{modelSort:W(l.value)}),Se.$emit("changeTableSorting",{modelSort:W(l.value),tableId:o.value}),s()}}}function Ts(e,{isMobile:t=T(void 0),modelIsTableWithoutScrollComputed:l=i(()=>{})}){const s=u(e,"rowActionsSticky");return{isRowActionsStickyLocal:i(()=>!!(!t.value&&s.value&&!l.value))}}function Rs(e,{countNotHiddenColumns:t=i(()=>-1),isMobile:l=T(!1)}){const s=u(e,"id"),o=u(e,"isLabelVisible"),a=i(()=>{const d={};return l.value||(d.role="table",d["aria-colcount"]=t.value),d}),r=i(()=>l.value?"list":"rowgroup"),v=i(()=>{if(o.value)return vt({tableId:s.value})});return{tableChildRole:r,tableLabelId:v,tableRoleAttributes:a}}function ys(e,{emit:t},{modelColumnsVisibleLocal:l=T({}),checkVisibleColumns:s=()=>{}}){return{changeModelColumnsVisible:a=>{l.value=a,t("update:modelColumnsVisible",W(l.value)),s()}}}function Ls(e){const t=u(e,"texts");return{emptyText:i(()=>j(t.value.empty)?"_A_TABLE_EMPTY_TEXT_":t.value.empty)}}function xs(){const e=T([]),t=T(void 0),l=T(void 0),s=T({}),o=T(void 0),a=T(void 0);return{columnsScrollInvisible:e,indexFirstScrollInvisibleColumn:t,isMultipleActionsActive:l,modelColumnsVisibleLocal:s,tableGrandparentRef:o,tableRef:a}}function Os(e,{emit:t},{closePreviewAll:l=()=>{}}){const s=u(e,"views"),o=u(e,"modelFilters"),a=u(e,"modelView"),r=i(()=>De(s.value,"id")),v=i(()=>r.value[a.value]),d=i(()=>s.value.length>1),b=()=>{if(d.value){const h=st(s.value,["active",!0]);let m=s.value[0].id;h&&(m=h.id),t("updateView",{_modelView:m,view:r.value[m],modelFilters:o.value,init:!0})}},_=h=>{l(),t("updateView",{_modelView:h,view:r.value[h],modelFilters:o.value})},w=i(()=>!v.value||v.value.type==="table");return{hasViews:d,initViewCurrent:b,isViewTableVisible:w,updateViewCurrent:_,viewCurrent:v}}const Es={name:"ATable",props:{additionalSortingColumns:{type:Array,required:!1,default:()=>[]},clearSelectedRowsOnDataChange:{type:Boolean,required:!1,default:!0},columnActionsOnePlusDropdownOptions:{type:Object,required:!1,default:()=>({actionsClasses:["a_btn a_btn_primary a_text_truncate"],btnGroupClass:"a_btn_group a_btn_group_table",hasDividerBeforeDropdown:!1,indexFirstDropdownAction:1,indexFirstDropdownActionMobile:1,minDropdownActions:1})},columnActionsView:{type:String,required:!1,default:"dropdown",validator:e=>["onePlusDropdown","onePlusDropdownEmptyPlace","dropdown"].indexOf(e)!==-1},columnActionsWidth:{type:Number,required:!1,default:void 0},columnActionsWidthDefaults:{type:Object,required:!1,default:()=>({default:170,min:50,onePlusDropdown:320,onePlusDropdownMin:200,btnGroupMaxWidth:180})},columnActionsWidthMin:{type:Number,required:!1,default:void 0},columns:{type:Array,required:!0},columnsDefaultValue:{type:[String,Number],required:!1,default:""},columnWidthDefault:{type:Number,required:!1,default:250},countAllRows:{type:Number,required:!1,default:void 0},countVisibleMobileColumns:{type:Number,required:!1,default:4,validator:e=>e>0},borderType:{type:String,required:!1,default:()=>tt.value.propsDefault.borderType,validator:e=>["bordered","innerBordered"].indexOf(e)!==-1},data:{type:[Array,Object,Promise],required:!1},disabledActions:{type:Boolean,required:!1},disabledMultipleActions:{type:Boolean,required:!1},disabledOptions:{type:Boolean,required:!1},disabledPreview:{type:Boolean,required:!1},disabledPreviewRowCallback:{type:Function,required:!1},disabledRowActions:{type:Boolean,required:!1},disabledSort:{type:Boolean,required:!1},disabledViews:{type:Boolean,required:!1},extra:{type:Object,required:!1,default:void 0},hasMobile:{type:Boolean,required:!1,default:!0},hasScrollClass:{type:Boolean,required:!1,default:!0},id:{type:String,required:!1,default:()=>Fl("a_table")},isActionColumnVisible:{type:Boolean,required:!1,default:!1},isActionIconVisible:{type:Boolean,required:!1,default:!0},isColumnsDnd:{type:Boolean,required:!1,default:!1},isLabelVisible:{type:Boolean,required:!1,default:!0},isLoadingMultipleActions:{type:Boolean,required:!1},isLoadingOptions:{type:Boolean,required:!1},isLoadingTable:{type:Boolean,required:!1},isQuickSearch:{type:Boolean,required:!1},isSimpleTable:{type:Boolean,required:!1,default:!1},isSortingMultiColumn:{type:Boolean,required:!1,default:!1},isSortingOutside:{type:Boolean,required:!1},isTree:{type:Boolean,required:!1},isTreeCollapsible:{type:Boolean,required:!1,default:!0},isTreeOpened:{type:Boolean,required:!1},keyCountAllRowsInData:{type:String,required:!1,default:"count"},keyId:{type:String,required:!1,default:void 0},keyChildren:{type:String,required:!1,default:"children"},label:{type:[String,Number],required:!1,default:""},labelClass:{type:[String,Object],required:!1,default:void 0},labelTag:{type:String,required:!1,default:"h2"},modelColumnsOrdering:{type:Array,required:!1,default:()=>[]},modelColumnsVisible:{type:Object,required:!1,default:()=>({})},modelIsTableWithoutScrollStart:{type:Boolean,required:!1,default:!1},modelQuickSearch:{type:String,required:!1,default:""},modelSort:{type:[String,Array],required:!1,default:()=>[]},modelView:{type:[String,Number],required:!1,default:void 0},multipleActions:{type:Array,required:!1,default:()=>[]},offsetStart:{type:Number,required:!1,default:0},pagination:{type:Object,required:!1,default:()=>({use:!1,maxPages:5,limitsPerPage:[],limitStart:10,disabled:!1,isOutside:!1,outside:!1,modes:{desktop:{pagination:{mode:"normal",position:0},perPage:{mode:"inline",position:1}},mobile:{pagination:{mode:"loadMore"}}}})},preview:{type:String,required:!1,default:void 0,validator:e=>["right","down"].indexOf(e)!==-1},previewBoxWidth:{type:Number,required:!1,default:300},previewStyles:{type:[String,Object],required:!1,default:void 0},rowActions:{type:Array,required:!1,default:()=>[]},rowActionsClass:{type:[String,Object],required:!1,default:void 0},rowActionsSticky:{type:Boolean,required:!1,default:!0},rowClass:{type:[String,Object,Function],required:!1,default:void 0},rowsCountRenderPerTick:{type:Number,required:!1,default:25,validator:e=>Pe(e)&&e>=0},rowsFooter:{type:Array,required:!1,default:()=>[]},showCount:{type:Boolean,required:!1,default:!0},showFirstSortingSequenceNumber:{type:Boolean,required:!1,default:!1},sortingMultiColumnKey:{type:String,required:!1,default:"shift",validator:e=>["shift","ctrl","alt"].indexOf(e)!==-1},sortingSequenceNumberClass:{type:[String,Object],required:!1,default:"a_badge"},tableActions:{type:Array,required:!1,default:()=>[]},tableActionsIndexFirstDropdownAction:{type:Number,required:!1,default:-1},tableActionsIndexFirstDropdownActionMobile:{type:Number,required:!1,default:0},texts:{type:Object,required:!1,default:()=>({empty:"_A_TABLE_EMPTY_TEXT_"})},useAdditionalSorting:{type:Boolean,required:!1,default:!0},useViewSlot:{type:Boolean,required:!1},valuesForColumnDefault:{type:Array,required:!1,default:()=>[null,void 0,""]},views:{type:Array,required:!1,default:()=>[]}},emits:["changeColumnsOrdering","changeColumnsVisible","changeLimit","changeOffset","changeSorting","mouseupResizePreviewRight","initTable","togglePreview","toggleMultipleActions","update:modelColumnsOrder","update:modelColumnsVisible","update:modelQuickSearch","updateModelIsTableWithoutScroll","updateView"],provide(){return{changeModelColumnsVisible:this.changeModelColumnsVisible,columnActionsOnePlusDropdownOptions:i(()=>this.columnActionsOnePlusDropdownOptions),columns:i(()=>this.columns),columnsDefaultValue:i(()=>this.columnsDefaultValue),columnWidthDefault:i(()=>this.columnWidthDefault),isLoadingOptions:i(()=>this.isLoadingOptions),isLoadingTable:i(()=>this.isLoadingTable),keyId:i(()=>this.keyId),rowActions:i(()=>this.rowActions),tableId:i(()=>this.id),valuesForColumnDefault:i(()=>this.valuesForColumnDefault)}},setup(e,t){const{initModelIsTableWithoutScroll:l,isActionColumnVisibleLocal:s,isActionIconVisibleLocal:o,isColumnsDndLocal:a,isMobile:r,modelIsTableWithoutScroll:v,modelIsTableWithoutScrollComputed:d}=Cs(e),{countAllRowsLocal:b,totalRowsCount:_}=_s(e),{columnsScrollInvisible:w,indexFirstScrollInvisibleColumn:h,isMultipleActionsActive:m,modelColumnsVisibleLocal:f,tableGrandparentRef:p,tableRef:S}=xs(),{scrollToTable:g,setFocusToTable:A}=hs({tableRef:S}),{hasViews:C,initViewCurrent:I,isViewTableVisible:L,updateViewCurrent:M,viewCurrent:P}=Os(e,t,{closePreviewAll:_e}),{dataSorted:x,initModelSort:c,modelSortLocal:y,useAdditionalSortingLocal:R}=Ss(e,{viewCurrent:P}),{columnsOrderedFromSimpleTable:k,renderedGroupedColumns:X}=ds(e,{modelSort:y}),{columnIdsGroupByLocked:D,columnsFilteredForRender:F,columnsFilteredForRenderIndexesMapping:B,columnsOrdered:$,countNotHiddenColumns:le}=us(e,{columnsScrollInvisible:w,indexFirstScrollInvisibleColumn:h,modelColumnsVisibleLocal:f,modelIsTableWithoutScrollComputed:d,columnsOrderedFromSimpleTable:k}),{changeLimit:ie,changeOffset:N,initLocalVars:H,limit:z,offset:J,usePaginationLocal:re}=fs(e,t,{closePreviewAll:_e,scrollToTable:g,setFocusToTable:A,viewCurrent:P}),{addRow:Tt,deleteRow:Rt,hasRows:yt,rowsLocal:Ne,rowsLocalAll:fe,rowsLocalLength:Fe,stopRenderRows:Lt,updateRow:xt}=As(e,{dataSorted:x,limit:z,offset:J,setEmptySelectedRowsIndexes:He,usePaginationLocal:re}),{columnActionsBtnGroupMaxWidthStyle:Ot,columnActionsWidthLocal:qe,columnActionsWidthMinLocal:Ve,isColumnActionWide:Pt}=rs(e,{isMobile:r,rowsLocal:Ne}),{aTableRef:We,changeModelIsTableWithoutScroll:Dt,checkVisibleColumns:ue,columnsVisibleAdditionalSpaceForOneGrow:Mt,onWatchMobileScrollControl:Et}=gs(e,t,{columnActionsWidth:qe,columnActionsWidthMin:Ve,columnsOrdered:$,columnsScrollInvisible:w,indexFirstScrollInvisibleColumn:h,isMobile:r,isMultipleActionsActive:m,modelColumnsVisibleLocal:f,modelIsTableWithoutScroll:v,modelIsTableWithoutScrollComputed:d}),{changeColumnsOrdering:Bt,checkColumnsOrdering:kt}=cs(e,t,{checkVisibleColumns:ue,columnIdsGroupByLocked:D,columnsFilteredForRenderIndexesMapping:B}),{isRowActionsStickyLocal:Nt}=Ts(e,{isMobile:r,modelIsTableWithoutScrollComputed:d}),{areAllRowsSelected:Ft,areAllVisibleRowsSelected:qt,areSomeRowsSelected:Vt,closeMultipleActionsActive:Wt,currentMultipleActions:Ut,hasMultipleActions:Gt,selectedRows:Ht,selectedRowsIndexes:$t,setEmptySelectedRowsIndexes:zt,setSelectedRowsIndexes:jt,toggleBtnAllRows:Xt,toggleMultipleActionsActive:Kt}=ms(e,t,{checkVisibleColumns:ue,isMultipleActionsActive:m,rowsLocalAll:fe,rowsLocalLength:Fe}),{changeModelColumnsVisible:Qt}=ys(e,t,{modelColumnsVisibleLocal:f,checkVisibleColumns:ue}),{closePreview:Yt,closePreviewAll:Jt,hasPreview:Zt,isPreviewRightOpen:el,onTogglePreview:Ue,mousedownResizePreviewRight:tl,mousemoveResizePreviewRight:ll,mouseupResizePreviewRight:il,previewDownRowIds:sl,previewRightRowIndex:Ge,previewRightRowIndexLast:ol,togglePreviewResize:nl}=ws(e,t,{aTableRef:We,isMobile:r,rowsLocalAll:fe,tableGrandparentRef:p}),{tableChildRole:al,tableLabelId:rl,tableRoleAttributes:ul}=Rs(e,{countNotHiddenColumns:le,isMobile:r}),{allVisibleMobileColumns:dl}=vs({columnsOrdered:$,isMobile:r,modelColumnsVisibleLocal:f}),{changeModelSort:cl}=Is(e,t,{modelSortLocal:y,closePreviewAll:_e}),{initTable:_l}=bs(e,t,{checkColumnsOrdering:kt,checkVisibleColumns:ue,modelColumnsVisibleLocal:f}),{emptyText:hl}=Ls(e);function _e(){Jt()}function He(){zt()}return ne(r,Ce=>{Et(Ce),_e()}),ne(Pt,(Ce,bl)=>{Ce!==bl&&ue()}),V("changeModelIsTableWithoutScroll",Dt),V("changeModelSort",cl),V("columnsOrdered",$),V("columnsFilteredForRender",F),V("columnsScrollInvisible",w),V("columnsVisibleAdditionalSpaceForOneGrow",Mt),V("columnActionsWidthLocal",qe),V("columnActionsWidthMinLocal",Ve),V("currentMultipleActions",Ut),V("hasPreview",Zt),V("indexFirstScrollInvisibleColumn",h),V("isActionColumnVisible",s),V("isActionIconVisible",o),V("isColumnsDnd",a),V("isMobile",r),V("isMultipleActionsActive",m),V("modelIsTableWithoutScroll",d),V("onTogglePreview",Ue),V("previewRightRowIndex",Ge),V("previewRightRowIndexLast",ol),V("rowsLocalAll",fe),V("modelColumnsVisibleLocal",f),V("changeColumnsOrdering",Bt),H(),l(),I(),_l(),c(),{addRow:Tt,allVisibleMobileColumns:dl,areAllRowsSelected:Ft,areAllVisibleRowsSelected:qt,areSomeRowsSelected:Vt,aTableRef:We,changeLimit:ie,changeModelColumnsVisible:Qt,changeOffset:N,checkVisibleColumns:ue,closeMultipleActionsActive:Wt,closePreview:Yt,closePreviewAll:_e,columnActionsBtnGroupMaxWidthStyle:Ot,columnsFilteredForRender:F,columnsOrdered:$,countAllRowsLocal:b,deleteRow:Rt,emptyText:hl,hasMultipleActions:Gt,hasRows:yt,hasViews:C,isMobile:r,isMultipleActionsActive:m,isPreviewRightOpen:el,isRowActionsStickyLocal:Nt,isViewTableVisible:L,limit:z,modelColumnsVisibleLocal:f,modelIsTableWithoutScrollComputed:d,modelSortLocal:y,mousedownResizePreviewRight:tl,mousemoveResizePreviewRight:ll,mouseupResizePreviewRight:il,offset:J,onTogglePreview:Ue,previewDownRowIds:sl,previewRightRowIndex:Ge,renderedGroupedColumns:X,rowsLocal:Ne,rowsLocalAll:fe,rowsLocalLength:Fe,selectedRows:Ht,selectedRowsIndexes:$t,setEmptySelectedRowsIndexes:He,setSelectedRowsIndexes:jt,stopRenderRows:Lt,tableChildRole:al,tableGrandparentRef:p,tableLabelId:rl,tableRef:S,tableRoleAttributes:ul,toggleBtnAllRows:Xt,toggleMultipleActionsActive:Kt,togglePreviewResize:nl,totalRowsCount:_,updateRow:xt,updateViewCurrent:M,useAdditionalSortingLocal:R,usePaginationLocal:re,viewCurrent:P}},data(){return{resolved:void 0,error:void 0}},computed:{hasRowsFooter(){return this.rowsFooter.length>0}},methods:{updateModelQuickSearch(e){this.$emit("update:modelQuickSearch",e)}},render(){return n("div",{ref:"tableGrandparentRef",class:["a_table__grandparent",{a_table_mobile:this.isMobile,a_table__grandparent_without_scroll:!this.hasScrollClass}]},[this.$slots.tablePrepend&&this.$slots.tablePrepend({id:this.id}),n("div",{ref:"aTableRef",class:["a_table__parent",{a_table__parent_scrollable:this.hasScrollClass&&!this.modelIsTableWithoutScrollComputed}]},[n(Xi,{additionalSortingColumns:this.additionalSortingColumns,areAllRowsSelected:this.areAllRowsSelected,areSomeRowsSelected:this.areSomeRowsSelected,closeMultipleActionsActive:this.closeMultipleActionsActive,countAllRows:this.countAllRowsLocal,disabledActions:this.disabledActions,disabledMultipleActions:this.disabledMultipleActions,disabledSort:this.disabledSort,disabledViews:this.disabledViews,extra:this.extra,hasViews:this.hasViews,isLabelVisible:this.isLabelVisible,isLoadingMultipleActions:this.isLoadingMultipleActions,isQuickSearch:this.isQuickSearch,isSortingMultiColumn:this.isSortingMultiColumn,label:this.label,labelClass:this.labelClass,labelTag:this.labelTag,modelQuickSearch:this.modelQuickSearch,modelSort:this.modelSortLocal,modelView:this.modelView,multipleActions:this.multipleActions,selectedRows:this.selectedRows,showCount:this.showCount,tableActions:this.tableActions,tableActionsIndexFirstDropdownAction:this.tableActionsIndexFirstDropdownAction,tableActionsIndexFirstDropdownActionMobile:this.tableActionsIndexFirstDropdownActionMobile,useAdditionalSorting:this.useAdditionalSortingLocal,useViewSlot:this.useViewSlot,viewCurrent:this.viewCurrent,views:this.views,onUpdateViewCurrent:this.updateViewCurrent,onUpdateModelQuickSearch:this.updateModelQuickSearch,onToggleMultipleActionsActive:this.toggleMultipleActionsActive,onToggleBtnAllRows:this.toggleBtnAllRows},this.$slots),this.$slots.topPanelAppend?this.$slots.topPanelAppend():"",this.isViewTableVisible&&n("div",{ref:"tableRef","aria-labelledby":this.isLabelVisible?this.tableLabelId:void 0,class:["a_table",{a_table_simple:this.isSimpleTable,a_table_bordered:this.borderType==="bordered",a_table_inner_bordered:this.borderType==="innerBordered"}],...this.tableRoleAttributes},[this.isSimpleTable?n(yi,{areAllRowsSelected:this.areAllRowsSelected,areAllVisibleRowsSelected:this.areAllVisibleRowsSelected,areSomeRowsSelected:this.areSomeRowsSelected,disabledOptions:this.disabledOptions,disabledSort:this.disabledSort,hasMultipleActions:this.hasMultipleActions,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSortLocal,rowsLocalLength:this.rowsLocalLength,showFirstSortingSequenceNumber:this.showFirstSortingSequenceNumber,sortingSequenceNumberClass:this.sortingSequenceNumberClass,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes,columnsForRender:this.renderedGroupedColumns}):n(Pi,{areAllRowsSelected:this.areAllRowsSelected,areAllVisibleRowsSelected:this.areAllVisibleRowsSelected,areSomeRowsSelected:this.areSomeRowsSelected,disabledOptions:this.disabledOptions,disabledSort:this.disabledSort,hasMultipleActions:this.hasMultipleActions,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSortLocal,rowsLocalLength:this.rowsLocalLength,showFirstSortingSequenceNumber:this.showFirstSortingSequenceNumber,sortingSequenceNumberClass:this.sortingSequenceNumberClass,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes}),n("div",{class:"a_table__loading"},[n(xl,{isLoading:this.isLoadingTable},()=>[n("div",{class:"a_table__body",role:this.tableChildRole},{default:()=>this.rowsLocal.map((e,t)=>{const l=me({row:e,rowIndex:t,keyId:this.keyId});return n(Je,{key:l,allVisibleMobileColumns:this.allVisibleMobileColumns,areAllRowsSelected:this.areAllRowsSelected,columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,countVisibleMobileColumns:this.countVisibleMobileColumns,disabledPreview:this.disabledPreview,disabledPreviewRowCallback:this.disabledPreviewRowCallback,disabledRowActions:this.disabledRowActions,isFooter:!1,isPreviewDownOpen:this.previewDownRowIds[l],isRowActionsStickyLocal:this.isRowActionsStickyLocal,isTree:this.isTree,isTreeCollapsible:this.isTreeCollapsible,isTreeOpened:this.isTreeOpened,keyChildren:this.keyChildren,keyId:this.keyId,level:1,row:e,rowActionsClass:this.rowActionsClass,rowClass:this.rowClass,rowIndex:t,rowsLength:this.rowsLocal.length,selectedRowsIndexes:this.selectedRowsIndexes,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes},{get:s=>[n(Te,{data:s.row,keyLabel:s.column.keyLabel,filter:s.column.filter,filterParameters:s.column.filterParameters,defaultValue:s.column.defaultValue,tag:s.column.filterTag||"div"})],...this.$slots})})}),this.isViewTableVisible&&!this.hasRows&&n(q,{class:"a_table__empty_text",text:this.emptyText}),this.hasRowsFooter&&n("div",{class:"a_table__footer",role:this.tableChildRole},this.rowsFooter.map((e,t)=>{const l=me({row:e,rowIndex:t,keyId:this.keyId});return n(Je,{key:l,allVisibleMobileColumns:this.allVisibleMobileColumns,areAllRowsSelected:this.areAllRowsSelected,columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,countVisibleMobileColumns:this.countVisibleMobileColumns,disabledPreview:this.disabledPreview,disabledPreviewRowCallback:this.disabledPreviewRowCallback,disabledRowActions:this.disabledRowActions,isFooter:!0,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isTree:this.isTree,isTreeCollapsible:this.isTreeCollapsible,isTreeOpened:this.isTreeOpened,keyChildren:this.keyChildren,keyId:this.keyId,level:1,row:e,rowActionsClass:this.rowActionsClass,rowClass:this.rowClass,rowIndex:t,rowsLength:this.rowsFooter.length,selectedRowsIndexes:this.selectedRowsIndexes,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes},{get:s=>[n(Te,{data:s.row,keyLabel:s.column.footerPath,filter:s.column.footerFilter,filterParameters:s.column.footerFilterParameters,defaultValue:s.column.footerDefaultValue})],...this.$slots})}))])])]),!this.isViewTableVisible&&this.viewCurrent&&this.$slots[this.viewCurrent.type]&&this.$slots[this.viewCurrent.type]({isLoading:this.isLoadingTable,rows:this.rowsLocalAll}),this.usePaginationLocal&&n(bi,{countAllRows:this.countAllRowsLocal,disabled:this.pagination.disabled,hasRows:this.hasRows,limit:this.limit,limitsPerPage:this.pagination.limitsPerPage,maxPages:this.pagination.maxPages,offset:this.offset,rowsLength:this.rowsLocalLength,totalRowsCount:this.totalRowsCount,"onUpdate:limit":this.changeLimit,"onUpdate:offset":this.changeOffset}),this.isPreviewRightOpen&&n(ki,{countAllRows:this.countAllRowsLocal,isMobile:this.isMobile,isLoadingTable:this.isLoadingTable,limitPagination:this.limit,offsetPagination:this.offset,previewStyles:this.previewStyles,rowIndex:this.previewRightRowIndex,rows:this.rowsLocalAll,disabledPreviewRowCallback:this.disabledPreviewRowCallback,usePagination:!!this.usePaginationLocal,onClosePreview:this.closePreview,onMousedownResizePreviewRight:this.mousedownResizePreviewRight,onMousemoveResizePreviewRight:this.mousemoveResizePreviewRight,onMouseupResizePreviewRight:this.mouseupResizePreviewRight,onTogglePreview:this.onTogglePreview,onTogglePreviewResize:this.togglePreviewResize,"onUpdate:offset":this.changeOffset},this.$slots)])])}};export{Es as A,Re as a};
