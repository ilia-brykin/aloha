"use strict";(self.webpackChunkaloha_vue_docs=self.webpackChunkaloha_vue_docs||[]).push([[114],{2114:(t,e,o)=>{o.d(e,{Z:()=>w});var n=o(2147),i=o(7079),r=o(2754),a=o(3059);const d={name:"ADropdownAction",props:{action:{type:Object,required:!0}},setup(t){const{attributesAction:e}=function(t){const e=(0,n.Vh)(t,"action");return{attributesAction:(0,n.Fl)((()=>{const t={...e.value,isHiddenCallback:void 0,classReplace:void 0};return e.value.classReplace?t.class=e.value.classReplace:(0,a.isString)(t.class)?t.class+=" a_dropdown__item":(0,a.isPlainObject)(t.class)?t.class.a_dropdown__item=!0:t.class="a_dropdown__item","link"===t.type&&(t.type=void 0),t}))}}(t);return{attributesAction:e}},render(){return"button"===this.action.type?(0,n.h)("li",{class:this.action.liClass},[(0,n.h)(i.Z,{...this.attributesAction,isHidden:void 0,callback:void 0,onClick:this.action.callback})]):"divider"===this.action.type?(0,n.h)("li",{class:["a_dropdown__divider",this.action.liClass]}):"link"===this.action.type?(0,n.h)("li",{class:this.action.liClass},[(0,n.h)(r.Z,{...this.attributesAction,isHidden:void 0})]):"template"===this.action.type&&this.action.slotName&&this.$slots[this.action.slotName]?this.$slots[this.action.slotName]({action:this.action}):""}};var s=o(6009),l=o(8180),u=o(3022),p=o(9528),c=o(6818),b=o(2160),h=o(7829),v=o(6739);function f(t,{dropdownButtonRef:e=(0,n.iH)(void 0),dropdownRef:o=(0,n.iH)(void 0),destroyPopover:i=(()=>{}),setFocusToFirstElement:r=(()=>{}),startPopper:d=(()=>{})}){const s=(0,n.Vh)(t,"disabled"),l=(0,n.Vh)(t,"elementsForArrows"),u=(0,n.Vh)(t,"isCloseByClickInside"),p=(0,n.Vh)(t,"isListWidthSameWithButton"),c=(0,n.Vh)(t,"persist"),b=(0,n.iH)(void 0),f=(0,n.iH)(!1),y=(0,n.iH)(!1),w=(0,n.iH)(!1),{closeDropdownGlobal:g,openDropdownGlobal:m}=(0,h.Z)(),A=()=>{o.value.focus()},C=t=>{const e=t||window.$event;e.keyCode===v.Z.arrowDown||e.keyCode===v.Z.arrowUp?((({down:t})=>{const e=o.value.querySelectorAll(l.value);0!==e.length&&(0,a.forEach)(e,((o,n)=>{if(o===document.activeElement)return t?n<e.length-1&&e[n+1].focus():n>0&&e[n-1].focus(),!1}))})({down:e.keyCode===v.Z.arrowDown}),t.preventDefault(),t.stopPropagation()):e.keyCode===v.Z.escape?(S(),A(),t.preventDefault(),t.stopPropagation()):e.keyCode===v.Z.tab&&(S(),A())},q=()=>{document.removeEventListener("click",R)},_=()=>{f.value&&(f.value=!1,document.body.removeEventListener("keydown",C))},T=()=>{s.value||(y.value?S():(p.value&&e.value&&(b.value=e.value.clientWidth),f.value||(f.value=!0,document.body.addEventListener("keydown",C)),y.value=!0,c.value&&w.value&&d(),w.value=!0,setTimeout((()=>{document.addEventListener("click",R),setTimeout((()=>{r()})),m()}))))};function S(){q(),_(),i(),y.value=!1,g()}function R(t){o.value.contains(t.target)?u.value&&(S(),A()):S()}return{buttonWidth:b,destroyEventCloseClick:q,destroyEventPressArrows:_,onKeydown:t=>{t.keyCode!==v.Z.enter&&t.keyCode!==v.Z.space&&t.keyCode!==v.Z.arrowUp&&t.keyCode!==v.Z.arrowDown||(T(),t.stopPropagation(),t.preventDefault())},onToggle:T,statusExpanded:y,wasOpened:w}}var y=o(7700);const w={name:"ADropdown",inheritAttrs:!1,components:{ATranslation:l.Z},props:{actions:{type:Array,required:!1,default:()=>[]},isHideWithoutActionAndSlot:{type:Boolean,required:!1,default:!0},buttonAttributes:{type:Object,required:!1,default:()=>({})},buttonText:{type:[String,Number],required:!1,default:void 0},buttonTextScreenReader:{type:String,required:!1,default:void 0},buttonTextAriaHidden:{type:Boolean,required:!1,default:!1},buttonTextClass:{type:String,required:!1,default:void 0},buttonClass:{type:[String,Object],required:!1,default:"a_btn a_btn_secondary"},buttonTag:{type:String,required:!1,default:"button"},buttonTitle:{type:String,required:!1,default:void 0},buttonIsTitleHtml:{type:Boolean,required:!1},buttonTitlePlacement:{type:String,required:!1,default:"top",validator:t=>-1!==["top","left","bottom","right"].indexOf(t)},buttonLoading:{type:Boolean,required:!1,default:!1},buttonLoadingClass:{type:[String,Object],required:!1,default:"a_spinner_small"},buttonLoadingAlign:{type:String,required:!1,default:"right",validator:t=>-1!==["right","left"].indexOf(t)},buttonIconLeft:{type:String,required:!1,default:void 0},buttonIconRight:{type:String,required:!1,default:void 0},buttonIconClass:{type:String,required:!1,default:void 0},buttonIconAttributes:{type:Object,required:!1,default:()=>({})},buttonIconTag:{type:String,required:!1,default:void 0},buttonPrevent:{type:Boolean,required:!1},buttonStop:{type:Boolean,required:!1},extraTranslate:{type:Object,required:!1,default:void 0},classForTooltipInner:{type:[String,Object],required:!1,default:"a_position_relative p-0 font_family_inherit"},disabled:{type:Boolean,required:!1},dropdownAttributes:{type:Object,required:!1,default:()=>({})},dropdownClass:{type:String,required:!1,default:void 0},dropdownTag:{type:String,required:!1,default:"ul"},elementsForArrows:{type:String,required:!1,default:"button:not([disabled]), input:not([disabled]), a"},id:{type:String,required:!1,default:()=>(0,a.uniqueId)("a_dropdown_btn_")},inBody:{type:Boolean,required:!1,default:!0},isCaret:{type:Boolean,required:!1,default:!0},isCloseByClickInside:{type:Boolean,required:!1,default:!0},isListWidthSameWithButton:{type:Boolean,required:!1},menuWidth:{type:Number,required:!1,default:void 0},persist:{type:Boolean,required:!1,default:!0},placement:{type:String,required:!1,default:"bottom-start",validator:t=>-1!==y.Z.indexOf(t)},tag:{type:String,required:!1,default:"div"},popperContainerId:{type:String,required:!1,default:"a_tooltip_container"}},setup(t){const{dropdownButtonRef:e,dropdownRef:o}={dropdownButtonRef:(0,n.iH)(void 0),dropdownRef:(0,n.iH)(void 0)},{setFocusToFirstElement:i}=function(t,{dropdownRef:e=(0,n.iH)(void 0)}){const o=(0,n.Vh)(t,"elementsForArrows");return{setFocusToFirstElement:()=>{if(!e.value)return;const t=e.value.querySelectorAll(o.value);0!==t.length&&t[0].focus()}}}(t,{dropdownRef:o}),{destroyPopover:r,startPopper:d}=function(t,{dropdownButtonRef:e=(0,n.iH)(void 0),dropdownRef:o=(0,n.iH)(void 0)}){const i=(0,n.Vh)(t,"placement"),r=(0,n.iH)(void 0);return{destroyPopover:()=>{r.value&&(r.value.destroy(),r.value=void 0)},startPopper:()=>{r.value||(r.value=(0,c.fi)(e.value.$el,o.value,{placement:i.value,removeOnDestroy:!0,modifiers:[{name:"offset",options:{offset:[0,0]}}]}))}}}(t,{dropdownButtonRef:e,dropdownRef:o}),{buttonWidth:s,destroyEventCloseClick:l,destroyEventPressArrows:u,onKeydown:h,onToggle:v,statusExpanded:y,wasOpened:w}=f(t,{dropdownButtonRef:e,dropdownRef:o,destroyPopover:r,setFocusToFirstElement:i,startPopper:d}),{idLocal:g,buttonAttributesDisabled:m,buttonAttributesLocal:A,dropdownAttributesLocal:C,isMenuRendered:q}=function(t,{statusExpanded:e=(0,n.iH)(!1),wasOpened:o=(0,n.iH)(!1)}){const i=(0,n.Vh)(t,"buttonAttributes"),r=(0,n.Vh)(t,"buttonTag"),d=(0,n.Vh)(t,"disabled"),s=(0,n.Vh)(t,"dropdownAttributes"),l=(0,n.Vh)(t,"dropdownClass"),u=(0,n.Vh)(t,"id"),p=(0,n.Vh)(t,"menuWidth"),c=(0,n.Vh)(t,"persist"),b=(0,n.Fl)((()=>i.value.id||u.value)),h=(0,n.Fl)((()=>{const t=(0,a.cloneDeep)(i.value);return t["aria-haspopup"]="true",t["aria-expanded"]=e.value,"button"===r.value&&(t.type=t.type||"button"),t})),v=(0,n.Fl)((()=>{const t={};return d.value&&("button"===r.value?t.disabled=!0:"a"===r.value&&(t.ariaDisabled=!0)),t})),f=(0,n.Fl)((()=>{const t=(0,a.cloneDeep)(s.value);return t.ref="dropdownRef",t["aria-labelledby"]=b.value,t.class=["a_dropdown__menu",l.value,{a_dropdown__menu_show:e.value}],p.value&&(t.style=`width: ${p.value}px`),t})),y=(0,n.Fl)((()=>e.value||c.value&&o.value));return{idLocal:b,buttonAttributesDisabled:v,buttonAttributesLocal:h,dropdownAttributesLocal:f,isMenuRendered:y}}(t,{statusExpanded:y,wasOpened:w}),{actionsFiltered:_,hasActions:T}=function(t){const e=(0,n.Vh)(t,"actions"),o=(0,n.Fl)((()=>(0,p.s)({actions:e.value}))),i=(0,n.Fl)((()=>o.value.length>0));return{actionsFiltered:o,hasActions:i}}(t),{addPopperContainerInBody:S,popperContainerIdSelector:R}=(0,b.Z)(t);return S(),(0,n.Jd)((()=>{l(),u(),r()})),{actionsFiltered:_,buttonAttributesDisabled:m,buttonAttributesLocal:A,buttonWidth:s,dropdownAttributesLocal:C,dropdownButtonRef:e,dropdownRef:o,hasActions:T,idLocal:g,isMenuRendered:q,onKeydown:h,onToggle:v,popperContainerIdSelector:R,startPopper:d,statusExpanded:y}},render(){return!this.isHideWithoutActionAndSlot||this.hasActions||this.$slots.dropdown?[(0,n.h)(i.Z,{ref:"dropdownButtonRef",...this.$attrs,id:this.idLocal,tag:this.buttonTag,class:this.buttonClass,text:this.buttonText,textScreenReader:this.buttonTextScreenReader,textAriaHidden:this.buttonTextAriaHidden,textClass:this.buttonTextClass,title:this.buttonTitle,isTitleHtml:this.buttonIsTitleHtml,titlePlacement:this.buttonTitlePlacement,loading:this.buttonLoading,loadingClass:this.buttonLoadingClass,loadingAlign:this.buttonLoadingAlign,iconLeft:this.buttonIconLeft,iconRight:this.buttonIconRight,iconClass:this.buttonIconClass,iconAttributes:this.buttonIconAttributes,iconTag:this.buttonIconTag,prevent:this.buttonPrevent,stop:this.buttonStop,extraTranslate:this.extraTranslate,attributes:this.buttonAttributesLocal,...this.buttonAttributesDisabled,onClick:this.onToggle,onKeydown:this.onKeydown},{default:()=>this.$slots.button&&this.$slots.button(),buttonAppend:()=>this.isCaret&&(0,n.h)(s.Z,{class:"a_dropdown__caret",icon:"ChevronDown"})}),(0,n.h)(n.lR,{to:this.popperContainerIdSelector},[this.isMenuRendered&&(0,n.wy)((0,n.h)(this.dropdownTag,this.dropdownAttributesLocal,[this.$slots.dropdown&&this.$slots.dropdown(),this.hasActions&&this.actionsFiltered.map(((t,e)=>(0,n.h)(d,{key:e,action:t},this.$slots)))]),[[u.Z,{mounted:this.startPopper}]])])]:""}}},7829:(t,e,o)=>{o.d(e,{Z:()=>i});const n=(0,o(2147).iH)(!1);function i(){return{closeDropdownGlobal:()=>{n.value=!1},isDropdownGlobalOpen:n,openDropdownGlobal:()=>{n.value=!0}}}},9528:(t,e,o)=>{o.d(e,{s:()=>i});var n=o(3059);function i({actions:t}){const e=(0,n.filter)(t,(t=>!t.isHidden)),o=[];(0,n.forEach)(e,(t=>{("divider"!==t.type||o.length>0&&"divider"!==(0,n.last)(o).type)&&o.push(t)}));const i=(0,n.last)(o);return i&&"divider"===i.type&&o.pop(),o}}}]);
//# sourceMappingURL=chunk.114.7aa42468fa555141d35f.js.map