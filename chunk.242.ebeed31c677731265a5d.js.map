{"version":3,"file":"chunk.242.ebeed31c677731265a5d.js","mappings":"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","sources":["webpack://aloha-vue-docs/./src/views/PageApi/PageApi.pug","webpack://aloha-vue-docs/../src/compositionAPI/AHttpAPI.js","webpack://aloha-vue-docs/./src/views/PageApi/PageApi.js","webpack://aloha-vue-docs/./src/views/PageApi/PageApi.vue"],"sourcesContent":["<div><h1>PageApi</h1></div>","import {\n  ref,\n} from \"vue\";\n\nimport axios from \"axios\";\n\nimport {\n  forEach,\n  isArray,\n  isFunction,\n  isNil,\n  isPlainObject, isString,\n  keyBy,\n} from \"lodash-es\";\n\n\nconst BASE_URL = ref(\"/api/\");\nconst API = ref(axios.create());\nconst API_SAVED = ref({});\nconst ERROR_CALLBACKS = ref({});\nconst HEADER_PARAMS = ref({});\nconst abortGroupController = {};\nconst abortGroupPending = {};\n\nexport const API_CONFIG = ref({\n  setUrlForArray: setUrlForArray,\n});\n\nexport function create({ axiosCreateOptions = {} }) {\n  API.value = axios.create(axiosCreateOptions);\n}\n\nexport function setBaseUrl({ baseUrl = \"\" }) {\n  BASE_URL.value = baseUrl;\n}\n\nexport function setErrorCallbacks({ errorCallbacks = {} }) {\n  ERROR_CALLBACKS.value = errorCallbacks;\n}\n\nexport function setHeaderParams({ headerParams = {} } = {}) {\n  HEADER_PARAMS.value = headerParams;\n}\n\nexport function abortHttp({\n  all = false,\n  abortGroup,\n  excludeAbortGroup,\n}) {\n  const EXCLUDE_ABORT_GROUP_OBJ = getExcludeAbortGroup({ excludeAbortGroup });\n\n  if (all) {\n    forEach(abortGroupController, (abortController, abortKey) => {\n      if (EXCLUDE_ABORT_GROUP_OBJ[abortKey]) {\n        return;\n      }\n      abortController.abort();\n      delete abortGroupController[abortKey];\n      if (abortGroupPending[abortGroup]) {\n        delete abortGroupPending[abortGroup];\n      }\n    });\n  } else if (abortGroup) {\n    let abortGroupList = [];\n    if (isString(abortGroup)) {\n      abortGroupList.push(abortGroup);\n    } else if (isArray(abortGroup)) {\n      abortGroupList = abortGroup;\n    }\n    forEach(abortGroupList, abortKey => {\n      if (EXCLUDE_ABORT_GROUP_OBJ[abortKey]) {\n        return;\n      }\n      if (abortGroupController[abortKey]) {\n        abortGroupController[abortKey].abort();\n        delete abortGroupController[abortKey];\n        if (abortGroupPending[abortGroup]) {\n          delete abortGroupPending[abortGroup];\n        }\n      }\n    });\n  }\n}\n\nexport function clearAllApiSaved() {\n  API_SAVED.value = {};\n}\n\nexport default function AHttpAPI() {\n  return {\n    abortHttp,\n    deleteHttp,\n    getHttp,\n    getListHttp,\n    getOptionsHttp,\n    patchHttp,\n    postHttp,\n    putHttp,\n  };\n}\n\nexport function getHttp({\n  url,\n  urlBase,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  apiSaveId,\n  keyId,\n  fullResponse,\n  showError,\n  ignoreErrorHandler = false,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"get\",\n    url,\n    urlBase,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    apiSaveId,\n    keyId,\n    fullResponse,\n    showError,\n    ignoreErrorHandler,\n    abortable,\n    abortGroup,\n  });\n}\n\nexport function getListHttp({\n  url,\n  urlBase,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  apiSaveId,\n  keyId,\n  fullResponse,\n  showError,\n  ignoreErrorHandler = false,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"get\",\n    url,\n    urlBase,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    apiSaveId,\n    keyId,\n    fullResponse,\n    showError,\n    ignoreErrorHandler,\n    abortable,\n    abortGroup,\n    expectedList: true,\n  });\n}\n\nexport function getOptionsHttp({\n  url,\n  urlBase,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  keyId,\n  fullResponse,\n  showError,\n  ignoreErrorHandler = false,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"options\",\n    url,\n    urlBase,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    keyId,\n    fullResponse,\n    showError,\n    abortable,\n    abortGroup,\n    ignoreErrorHandler,\n  });\n}\n\nexport function postHttp({\n  url,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  fullResponse,\n  showError,\n  ignoreErrorHandler = false,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"post\",\n    url,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    fullResponse,\n    showError,\n    abortable,\n    abortGroup,\n    ignoreErrorHandler,\n  });\n}\n\nexport function putHttp({\n  url,\n  urlBase,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  fullResponse,\n  showError,\n  ignoreErrorHandler = false,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"put\",\n    url,\n    urlBase,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    fullResponse,\n    showError,\n    abortable,\n    abortGroup,\n    ignoreErrorHandler,\n  });\n}\n\nexport function patchHttp({\n  url,\n  urlBase,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  fullResponse,\n  showError,\n  ignoreErrorHandler = false,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"patch\",\n    url,\n    urlBase,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    fullResponse,\n    showError,\n    abortable,\n    abortGroup,\n    ignoreErrorHandler,\n  });\n}\n\nexport function deleteHttp({\n  url,\n  urlBase,\n  data,\n  urlParams = {},\n  headerParams,\n  responseType,\n  fullResponse,\n  showError,\n  ignoreErrorHandler = false,\n  abortable = true,\n  abortGroup = \"\",\n}) {\n  return callHttpRequestAndCheckSavedApi({\n    methodHttp: \"delete\",\n    url,\n    urlBase,\n    urlParams,\n    data,\n    headerParams,\n    responseType,\n    fullResponse,\n    showError,\n    abortable,\n    abortGroup,\n    ignoreErrorHandler,\n  });\n}\n\nexport function callHttpRequestAndCheckSavedApi({\n  methodHttp,\n  url,\n  urlBase,\n  urlParams,\n  data,\n  headerParams = {},\n  responseType = \"json\",\n  apiSaveId,\n  keyId,\n  fullResponse,\n  showError = false,\n  ignoreErrorHandler = false,\n  abortable = true,\n  abortGroup = \"\",\n  expectedList,\n}) {\n  let apiSavedData = undefined;\n  if (apiSaveId) {\n    apiSavedData = API_SAVED.value[apiSaveId];\n    if (apiSavedData) {\n      if (apiSavedData.loading) {\n        return apiSavedData.promise;\n      }\n    }\n  }\n\n  const PROMISE = new Promise((resolve, reject) => {\n    if (apiSavedData) {\n      if (!apiSavedData.loading) {\n        if (keyId) {\n          if (apiSavedData.keyData) {\n            return resolve(apiSavedData.keyData);\n          }\n          const KEY_DATA = setKeyData({ data: apiSavedData.data, keyId });\n          API_SAVED.value[apiSaveId].keyData = KEY_DATA;\n          return resolve(KEY_DATA);\n        }\n        return resolve(apiSavedData.data);\n      }\n    }\n    const URL_NEW = setUrlWithParams({ url, params: urlParams });\n    let url_full = `${ isNil(urlBase) ? BASE_URL.value : urlBase }${ URL_NEW }`;\n    url_full = url_full.replace(/\\/\\//g, \"/\");\n    const HEADER_PARAMS_LOCAL = {\n      ...HEADER_PARAMS.value,\n      ...headerParams,\n    };\n\n    const signal = getAbortGroupSignal({ abortGroup, abortable });\n    setAbortGroupPendingCurrent({ abortGroup, abortable });\n\n    API.value({\n      method: methodHttp,\n      url: url_full,\n      data,\n      headers: HEADER_PARAMS_LOCAL,\n      responseType,\n      signal,\n    }).then(\n      response => {\n        if (fullResponse) {\n          return resolve(response);\n        }\n        const DATA = checkedExpectedList({ expectedList, response });\n        const KEY_DATA = setKeyData({ data: DATA, keyId });\n        if (apiSaveId) {\n          API_SAVED.value[apiSaveId].data = DATA;\n          API_SAVED.value[apiSaveId].keyData = KEY_DATA;\n          API_SAVED.value[apiSaveId].loading = false;\n        }\n        if (keyId) {\n          return resolve(KEY_DATA);\n        }\n        return resolve(DATA);\n      },\n      error => {\n        if (ignoreErrorHandler || checkErrorStatus({ error: error.response, showError, client: API, reject, resolve })) {\n          return reject(error.response);\n        }\n      }\n    ).finally(\n      () => {\n        removeAbortGroupCurrent({ abortGroup, abortable });\n      }\n    );\n  });\n\n  if (!apiSavedData) {\n    API_SAVED.value[apiSaveId] = API_SAVED.value[apiSaveId] || {};\n    API_SAVED.value[apiSaveId].loading = true;\n    API_SAVED.value[apiSaveId].promise = PROMISE;\n  }\n\n  return PROMISE;\n}\n\nfunction checkErrorStatus({ error, showError, client, resolve, reject }) {\n  if (!error) {\n    return true;\n  }\n  const ERROR_CALLBACK = () => {\n    const CALLBACK = ERROR_CALLBACKS.value[error.status];\n    if (isFunction(CALLBACK)) {\n      return CALLBACK({ error, showError, client, resolve, reject });\n    }\n    if (isFunction(ERROR_CALLBACKS.value.all)) {\n      return ERROR_CALLBACKS.value.all({ error, showError, client, resolve, reject });\n    }\n  };\n\n  ERROR_CALLBACK();\n  // Let the promise handle the error\n  return true;\n}\n\nexport function setUrlWithParams({ url, params }) {\n  const URL = url || \"\";\n  let urlParams = \"\";\n  forEach(params, (value, key) => {\n    if (isArray(value)) {\n      urlParams = API_CONFIG.value.setUrlForArray({ id: key, array: value, url: urlParams });\n    } else if (isPlainObject(value)) {\n      forEach(value, (v, k) => {\n        if (v) {\n          if (urlParams) {\n            urlParams += \"&\";\n          }\n          urlParams += `${ k }=${ v }`;\n        }\n      });\n    } else if (!isNil(value)) {\n      if (urlParams) {\n        urlParams += \"&\";\n      }\n      urlParams += `${ key }=${ value }`;\n    }\n  });\n  const prefix = urlParams && URL ? URL.indexOf(\"?\") === -1 ? \"?\" : \"&\" : \"\";\n\n  return `${ URL }${ prefix }${ urlParams }`;\n}\n\nexport function setUrlForArray({ array, url, id }) {\n  if (!array.length) {\n    return url;\n  }\n  let URL = url || \"\";\n  if (id === \"fields\" || id === \"ordering\") { // TODO: soll in plugin sein.\n    if (URL) {\n      URL += \"&\";\n    }\n    URL += `${ id }=`;\n    URL += array.join(\",\");\n  } else {\n    forEach(array, v => {\n      if (URL) {\n        URL += \"&\";\n      }\n      URL += `${ id }=${ v }`;\n    });\n  }\n  return URL;\n}\n\nfunction setKeyData({ data, keyId }) {\n  if (!keyId) {\n    return undefined;\n  }\n  return keyBy(data, keyId);\n}\n\nfunction checkedExpectedList({ expectedList, response }) {\n  if (expectedList) {\n    if (isArray(response.data)) {\n      return response.data;\n    }\n    return response.data.results ? response.data.results : [];\n  }\n  return response.data;\n}\n\nfunction getAbortGroupSignal({ abortGroup = \"_global\", abortable } = {}) {\n  if (!abortable) {\n    return undefined;\n  }\n  abortGroupController[abortGroup] = abortGroupController[abortGroup] || new AbortController();\n  return abortGroupController[abortGroup].signal;\n}\n\nfunction getExcludeAbortGroup({ excludeAbortGroup }) {\n  const EXCLUDE_ABORT_GROUP_OBJ = {};\n  if (excludeAbortGroup) {\n    if (isString(excludeAbortGroup)) {\n      EXCLUDE_ABORT_GROUP_OBJ[excludeAbortGroup] = true;\n    } else if (isArray(excludeAbortGroup)) {\n      forEach(excludeAbortGroup, abortGroupkey => {\n        EXCLUDE_ABORT_GROUP_OBJ[abortGroupkey] = true;\n      });\n    }\n  }\n  return EXCLUDE_ABORT_GROUP_OBJ;\n}\n\nfunction setAbortGroupPendingCurrent({ abortGroup, abortable }) {\n  if (!abortable || !abortGroup) {\n    return;\n  }\n  if (abortGroupPending[abortGroup]) {\n    abortGroupPending[abortGroup]++;\n  } else {\n    abortGroupPending[abortGroup] = 1;\n  }\n}\n\nfunction removeAbortGroupCurrent({ abortGroup, abortable }) {\n  if (!abortable || !abortGroup) {\n    return;\n  }\n  if (abortGroupPending[abortGroup]) {\n    abortGroupPending[abortGroup]--;\n  }\n  if (abortGroupPending[abortGroup] === 0 && abortGroupController[abortGroup]) {\n    delete abortGroupPending[abortGroup];\n    delete abortGroupController[abortGroup];\n  }\n}\n","\nimport AHttpAPI from \"../../../../src/compositionAPI/AHttpAPI\";\n\nexport default {\n  name: \"PageCloak\",\n  setup() {\n    const {\n      abortHttp,\n      getHttp,\n    } = AHttpAPI();\n\n    const loadData = () => {\n      getHttp({\n        urlBase: \"\",\n        url: \"/api/get_response\",\n      }).then(\n        response => {\n          console.log(\"response\", response);\n        },\n        error => {\n          console.log(\"error\", error);\n        }\n      );\n      setTimeout(() => {\n        abortHttp({\n          all: true,\n        });\n      }, 1000);\n    };\n\n    loadData();\n  },\n};\n","import { render } from \"./PageApi.pug?vue&type=template&id=5d03f8a3&lang=pug&external\"\nimport script from \"./PageApi.js?vue&type=script&lang=js&external\"\nexport * from \"./PageApi.js?vue&type=script&lang=js&external\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["BASE_URL","API","create","API_SAVED","ERROR_CALLBACKS","HEADER_PARAMS","abortGroupController","abortGroupPending","API_CONFIG","setUrlForArray","array","url","id","length","URL","join","forEach","v","abortHttp","all","abortGroup","excludeAbortGroup","EXCLUDE_ABORT_GROUP_OBJ","isString","isArray","abortGroupkey","getExcludeAbortGroup","abortController","abortKey","abort","abortGroupList","push","AHttpAPI","deleteHttp","getHttp","getListHttp","getOptionsHttp","patchHttp","postHttp","putHttp","urlBase","data","urlParams","headerParams","responseType","apiSaveId","keyId","fullResponse","showError","ignoreErrorHandler","abortable","callHttpRequestAndCheckSavedApi","methodHttp","expectedList","apiSavedData","value","loading","promise","PROMISE","Promise","resolve","reject","keyData","KEY_DATA","setKeyData","URL_NEW","params","key","isPlainObject","k","isNil","prefix","indexOf","setUrlWithParams","url_full","replace","HEADER_PARAMS_LOCAL","signal","AbortController","getAbortGroupSignal","setAbortGroupPendingCurrent","method","headers","then","response","DATA","results","checkedExpectedList","error","client","CALLBACK","status","isFunction","ERROR_CALLBACK","checkErrorStatus","finally","removeAbortGroupCurrent","keyBy","name","setup","console","log","setTimeout"],"sourceRoot":""}