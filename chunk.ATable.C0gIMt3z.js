import{y as st,z as ue,B as Ae,c as te,C as Cl,D as be,E as Sl,F as Ce,G as _e,m as Z,A as F,i as X,f as Il,H as Tl,I as ye,b as se,J as Rl,K as yl,L as Ll,g as Me,s as me,p as ot,a as Pl,r as Ee,o as Be,M as nt,h as Qe,N as xl,P as at,O as Le,Q as Ol,R as Dl,S as Ml,T as El,U as Bl,V as kl,W as Nl}from"./bundle.index.CDkdMM-I.js";import{i as z,a as ae,j as k,g as U,l as J,a4 as Fl,r as V,c as W,K as rt,a5 as ql,q as he,I as Vl,m as ne,S as ke,Z as ut,n as dt,k as Ne,b as Se,a6 as Wl,_ as le,a0 as Ul,a2 as Gl,P as Ye,C as ct,O as Ze,X as _t,p as Hl,u as $l}from"./chunk.vendor-lodash.qxhehls9.js";import{w as ht,h as a,t as u,d as l,f as re,b7 as zl,b1 as jl,Q as Xl,b8 as Kl,r as T,b9 as Ql,O as Fe,i as x,L as Yl,B as bt,ba as Zl,z as Jl,g as Ie,bb as ei,bc as ti,bd as li,be as ii,bf as si,bg as oi,x as qe,o as Te,bh as Je,bi as ni,bj as ai,bk as ft,e as Ve,bl as ri,M as N}from"./chunk.vendor.BNArDUz4.js";const Pe={name:"AGet",props:{keyLabel:{type:[String,Array],required:!0,info:"Weg zu Informationen. Z.B.('a[0].b.c', 'vertrag.antrag_obj.pk', ['vertrag', aloha, 'pk'])"},data:{type:[String,Number,Boolean,Array,Object,Date,Function,Symbol],required:!1,default:void 0,info:"Haupt-Objekt oder -Array, wo man sucht"},tag:{type:String,required:!1,default:"span",info:"Semantisch-relevanter HTML-Tag.(span, div, ...)"},defaultValue:{type:[String,Number,Boolean,Array,Object,Date,Function,Symbol],required:!1,default:void 0,info:"Standardwert, wenn Lodash-Funktion 'get' undefined zurückschickt"},filter:{type:String,required:!1,default:void 0},filterParameters:{type:[Object,String,Number,Boolean],required:!1,default:()=>{}},replacedWithDefault:{type:[String,Number,Boolean,Array,Object,Date,Function,Symbol],required:!1,default:void 0,info:"Wenn das Wert, das Lodash-Funktion 'get' zurückschickt, === this.replacedWithDefault, dann this.defaultValue"}},setup(){return ue()},computed:{valueLocal(){let e=U(this.data,this.keyLabelLocal);if(J(e)&&(e=this.defaultValue),this.isValueEqualsWithValueThenDefaultValue(e))return this.defaultValue;if(this.filter){const t=`filter${Fl(this.filter)}`;if(V(this[t]))return this[t](e,this.filterParameters);console.warn(`filter "${t}" ist not defined`)}return e},keyLabelLocal(){return ae(this.keyLabel)?this.keyLabel.join("."):this.keyLabel}},methods:{isValueEqualsWithValueThenDefaultValue(e){if(z(this.replacedWithDefault))return!1;let t=!1;return ae(this.replacedWithDefault)?k(this.replacedWithDefault,i=>{if(i===e)return t=!0,!1}):this.replacedWithDefault===e&&(t=!0),t}},render(){return ht(a(this.tag),[[st,this.valueLocal]])}};function ui(e){const t=u(e,"isLast"),i=u(e,"hasDropdownActions"),s=u(e,"hasDividerBeforeDropdown"),o=l(()=>t.value&&i.value),n=l(()=>o.value&&!s.value);return{isDropdownActionsAfterGroup:l(()=>o.value&&s.value),isDropdownActionsInGroup:n}}const di={name:"AGroupButtonDropdownItem",props:{actionsClasses:{type:Array,required:!0},actionsIds:{type:Array,required:!0},actionsDropdown:{type:Array,required:!0},btnGroupClass:{type:[String,Array,Object],required:!1,default:"a_btn_group"},data:{type:Object,required:!0},disabled:{type:Boolean,required:!1},dropdownAttributes:{type:Object,required:!0},hasDividerBeforeDropdown:{type:Boolean,required:!0},hasDropdownActions:{type:Boolean,required:!0},isLast:{type:Boolean,required:!0}},setup(e){const{isDropdownActionsAfterGroup:t,isDropdownActionsInGroup:i}=ui(e);return{isDropdownActionsAfterGroup:t,isDropdownActionsInGroup:i}},render(){return[!!this.data.children.length&&a("div",{class:this.btnGroupClass},[...this.data.children.map(e=>{let t=e.classButton?e.classButton:this.actionsClasses[e.actionNotDividerIndex];e.classExtra&&(t=Ae({class1:t,class2:e.classExtra}));const i=e.id?e.id:this.actionsIds[e.actionNotDividerIndex],s=this.disabled||e.disabled;if(e.type==="button")return a(te,{...e,id:i,class:t,classButton:void 0,classExtra:void 0,disabled:s,onClick:e.callback,callback:void 0,actionNotDividerIndex:void 0,isHidden:void 0,isConfirm:void 0,callbackLocal:void 0});if(e.type==="link")return a(Cl,{...e,id:i,classButton:void 0,classExtra:void 0,disabled:s,class:t,actionNotDividerIndex:void 0,isHidden:void 0,type:void 0,isConfirm:void 0,callbackLocal:void 0});if(e.type==="template"&&e.slotName&&this.$slots[e.slotName])return this.$slots[e.slotName]({id:i,class:t,action:e})}),this.isDropdownActionsInGroup&&a(be,{isHideWithoutActionAndSlot:!0,actions:this.actionsDropdown,disabled:this.disabled,...this.dropdownAttributes},this.$slots)]),this.isDropdownActionsAfterGroup&&a(be,{isHideWithoutActionAndSlot:!0,actions:this.actionsDropdown,disabled:this.disabled,...this.dropdownAttributes},this.$slots)]}};function ci(e){const t=u(e,"actions"),i=u(e,"indexFirstDropdownAction"),s=u(e,"indexFirstDropdownActionMobile"),o=u(e,"minDropdownActions"),{isMobileWidth:n}=Ce(),d=l(()=>Sl({actions:t.value})),c=l(()=>{const p=W(d.value);return k(p,v=>{v.classButton=Ae({class1:v.classButton,class2:v.class}),v.class=Ae({class1:v.classDropdown,class2:v.class}),delete v.classDropdown,v.classExtra&&(v.class=Ae({class1:v.classExtra,class2:v.class}))}),p}),r=l(()=>n.value?s.value:i.value),f=({actions:p=[],minCountActions:v=0})=>{let g=0;return k(p,I=>{if(g>=v)return!1;I.type!=="divider"&&g++}),g>=v},_=l(()=>{const p=W(c.value),v={buttons:[],dropdown:[]};let g=0,I=!0;return k(p,(C,w)=>{if(g===r.value){const A=p.slice(w,p.length);if(f({actions:A,minCountActions:o.value}))return v.dropdown=p.splice(w,p.length),r.value===0&&v.buttons.push({type:"group",children:[]}),!1}C.type!=="divider"?(C.actionNotDividerIndex=g,g++,I?v.buttons.push({type:"group",children:[C]}):rt(v.buttons).children.push(C),I=!1):I=!0}),v}),m=l(()=>_.value.dropdown.length>0),b=l(()=>c.value.length>0);return{actionsAllWithClassesFiltered:c,actionsGrouped:_,hasActionsAllFiltered:b,hasDropdownActions:m}}const xe={name:"AGroupButtonDropdown",props:{actions:{type:Array,required:!1,default:()=>[]},actionsClasses:{type:Array,required:!1,default:()=>_e.value.propsDefault.actionsClasses},actionsIds:{type:Array,required:!1,default:()=>[]},btnGroupClass:{type:[String,Array,Object],required:!1,default:"a_btn_group"},disabled:{type:Boolean,required:!1},dropdownAttributes:{type:Object,required:!1,default:()=>_e.value.propsDefault.dropdownAttributes},hasDividerBeforeDropdown:{type:Boolean,required:!1,default:()=>_e.value.propsDefault.hasDividerBeforeDropdown},indexFirstDropdownAction:{type:Number,required:!1,default:()=>_e.value.propsDefault.indexFirstDropdownAction,validator:e=>e>=-1},indexFirstDropdownActionMobile:{type:Number,required:!1,default:()=>_e.value.propsDefault.indexFirstDropdownActionMobile,validator:e=>e>=-1},minDropdownActions:{type:Number,required:!1,default:()=>_e.value.propsDefault.minDropdownActions},innerFlagHasActions:{type:Boolean,required:!1}},emits:["update:innerFlagHasActions"],setup(e,{emit:t}){const{actionsAllWithClassesFiltered:i,actionsGrouped:s,hasActionsAllFiltered:o,hasDropdownActions:n}=ci(e);return re(o,d=>{t("update:innerFlagHasActions",d)},{immediate:!0}),{actionsAllWithClassesFiltered:i,actionsGrouped:s,hasActionsAllFiltered:o,hasDropdownActions:n}},render(){if(this.hasActionsAllFiltered)return a("div",{class:"aloha_group_btn_dropdown"},[...this.actionsGrouped.buttons.map((e,t)=>a(di,{btnGroupClass:this.btnGroupClass,data:e,disabled:this.disabled,actionsDropdown:this.actionsGrouped.dropdown,hasDropdownActions:this.hasDropdownActions,dropdownAttributes:this.dropdownAttributes,actionsClasses:this.actionsClasses,actionsIds:this.actionsIds,isLast:t===this.actionsGrouped.buttons.length-1,hasDividerBeforeDropdown:this.hasDividerBeforeDropdown},this.$slots))])}};function _i(e,{emit:t}){const i=u(e,"isLoadingTable"),s=u(e,"limit"),o=l(()=>`${s.value}`),n=r=>{i.value||t("update:limit",+r)};return{changeLimit:n,changeLimitFromSelect:({model:r})=>{n(r)},keyDownChangeLimit:(r,f)=>{(r.keyCode===Z.enter||r.keyCode===Z.space)&&(n(f),r.stopPropagation(),r.preventDefault())},limitString:o}}function hi(e){const t=u(e,"offset"),i=u(e,"rowsLength"),s=u(e,"totalCount"),{filterCurrency:o}=ue(),n=l(()=>o(+t.value+1,{suffix:"",digits:0})),d=l(()=>o(+t.value+i.value,{suffix:"",digits:0})),c=l(()=>o(s.value,{suffix:"",digits:0}));return{extraForTranslate:l(()=>({start:n.value,current:d.value,count:c.value}))}}const bi={name:"APaginationCountPerPage",props:{totalCount:{type:Number,required:!0},disabled:{type:Boolean,required:!1},limit:{type:Number,required:!0},limitsPerPage:{type:Array,required:!1,default:()=>["10","25","50","100"]},mode:{type:String,required:!1,default:"group",validator:e=>["inline","group","select"].indexOf(e)!==-1},offset:{type:Number,required:!0},rowsLength:{type:Number,required:!0},showTextCountFromTo:{type:Boolean,required:!1,default:!0}},emits:["update:limit"],setup(e,t){const{changeLimit:i,changeLimitFromSelect:s,keyDownChangeLimit:o,limitString:n}=_i(e,t),{extraForTranslate:d}=hi(e);return{changeLimit:i,changeLimitFromSelect:s,extraForTranslate:d,keyDownChangeLimit:o,limitString:n}},render(){return a("div",{class:"a_pagination__counts a_pagination_vars"},this.mode==="inline"||this.mode==="group"?[this.showTextCountFromTo?a(F,{class:"a_pagination__count_from_to",html:"_A_COUNT_PER_PAGE_{{start}}_{{current}}_{{count}}_",extra:this.extraForTranslate}):"",a(F,{tag:"span",class:"a_pagination__count__text",html:"_A_COUNT_PER_PAGE_"}),this.mode==="inline"?a("div",{class:"a_pagination__count"},[this.limitsPerPage.map(e=>{const t=+e===this.limit;return a("div",{class:"a_pagination__count__item"},[a(X,{"aria-current":t?!0:void 0,class:"a_btn a_btn_link a_pagination__count__button",disabled:t||this.disabled,extra:{count:e},text:e,textAriaHidden:!0,textScreenReader:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",title:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",type:"button",onClick:()=>this.changeLimit(e)})])})]):a("ul",{class:"a_pagination a_pagination_group"},[this.limitsPerPage.map(e=>{const t=+e===this.limit;return a("li",{class:["a_pagination__item",{active:t,disabled:this.disabled}]},[a(X,{"aria-current":t?!0:void 0,class:"a_pagination__item__link",disabled:this.disabled,extra:{count:e},role:"button",tabindex:t||this.disabled?-1:0,tag:"a",text:e,textAriaHidden:!0,textScreenReader:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",title:"_A_COUNT_PER_PAGE_ITEM_{{count}}_",type:"button",onClick:()=>this.changeLimit(e),onKeydown:i=>this.keyDownChangeLimit(i,e)})])})])]:[this.showTextCountFromTo?a(F,{class:"a_pagination__count_from_to",html:"_A_COUNT_PER_PAGE_{{start}}_{{current}}_{{count}}_",extra:this.extraForTranslate}):"",a(Il,{label:"_A_COUNT_PER_PAGE_",labelClass:"a_sr_only",data:this.limitsPerPage,isDataSimpleArray:!0,isLabelFloat:!1,deselectable:!1,menuWidthType:"by_content",modelValue:this.limitString,disabled:this.disabled,change:this.changeLimitFromSelect})])}};function fi(e,{currentItem:t=l(()=>1),maxItems:i=l(()=>1)}){const s=u(e,"disabled"),o=l(()=>s.value||t.value===1),n=l(()=>s.value||t.value===i.value);return{disabledButtonFirstPage:o,disabledButtonLastPage:n}}function vi(e){const t=u(e,"totalCount"),i=u(e,"limit"),s=u(e,"offset"),o=u(e,"maxPages"),n=l(()=>Tl(o.value)),d=l(()=>(s.value/i.value>>0)+1),c=l(()=>ql(t.value/i.value)),r=l(()=>Math.floor(o.value/2)),f=l(()=>o.value*2-1),_=({currentItemIndex:b,paginationLength:p})=>{let v,g;const I=r.value,C=f.value;if(b<=I?(v=0,g=o.value):b>=C-(I+1)?(v=C-o.value,g=C):n.value?(v=b-I+1,g=b+I+1):(v=b-I,g=b+I+1),g>p){const w=g-p;g=p+1,v=v-w,v<0&&(v=0)}return{indexStart:v,indexEnd:g}},m=l(()=>{const b=[];let p=-1;for(let I=o.value-1;I>-o.value;I--){const C=d.value-I;C>0&&C<=c.value&&b.push(C),I===0&&(p=b.length-1)}const{indexStart:v,indexEnd:g}=_({currentItemIndex:p,paginationLength:b.length});return b.slice(v,g)});return{currentItem:d,maxItems:c,paginationItems:m}}function mi(e,{currentItem:t=l(()=>1),maxItems:i=l(()=>1)}){const s=u(e,"texts"),o=l(()=>s.value.pagesFirstPage||"_A_PAGINATION_FIRST_PAGE_"),n=l(()=>s.value.pagesLastPage||"_A_PAGINATION_LAST_PAGE_"),d=l(()=>s.value.pagesNavigation||"_A_PAGINATION_NAVIGATION_"),c=l(()=>s.value.pagesNextPage||"_A_PAGINATION_NEXT_PAGE_"),r=l(()=>s.value.pagesPreviousPage||"_A_PAGINATION_PREVIOUS_PAGE_"),f=l(()=>V(s.value.pagesMobile)?s.value.pagesMobile({currentPage:t.value,allPages:i.value}):s.value.pagesMobile||"_A_PAGINATION_MOBILE_{{currentPage}}_{{allPages}}_"),_=l(()=>V(s.value.pagesToPage)),m=l(()=>s.value.pagesToPage||"_A_PAGINATION_TO_PAGE_{{page}}_");return{getTextToPage:({page:p})=>{if(_.value)return s.value.pagesToPage({page:p})},isTextToPageFunction:_,textFirstPage:o,textLastPage:n,textMobile:f,textNavigation:d,textNextPage:c,textPreviousPage:r,textToPage:m}}function pi(e,{emit:t},{currentItem:i=l(()=>1),disabledButtonFirstPage:s=l(()=>!1),disabledButtonLastPage:o=l(()=>!1),maxItems:n=l(()=>1)}){const d=u(e,"disabled"),c=u(e,"limit"),r=u(e,"offset"),f=A=>{if(d.value||A===i.value)return;const S=(A-1)*c.value;t("update:offset",S)},_=()=>{s.value||t("update:offset",0)},m=()=>{s.value||t("update:offset",r.value-c.value)},b=()=>{o.value||t("update:offset",(n.value-1)*c.value)},p=()=>{o.value||t("update:offset",r.value+c.value)};return{keyDownUpdateOffset:(A,S)=>{(A.keyCode===Z.enter||A.keyCode===Z.space)&&(f(S),A.stopPropagation(),A.preventDefault())},keyDownUpdateOffsetFirst:A=>{(A.keyCode===Z.enter||A.keyCode===Z.space)&&(_(),A.stopPropagation(),A.preventDefault())},keyDownUpdateOffsetLast:A=>{(A.keyCode===Z.enter||A.keyCode===Z.space)&&(b(),A.stopPropagation(),A.preventDefault())},keyDownUpdateOffsetNext:A=>{(A.keyCode===Z.enter||A.keyCode===Z.space)&&(p(),A.stopPropagation(),A.preventDefault())},keyDownUpdateOffsetPrevious:A=>{(A.keyCode===Z.enter||A.keyCode===Z.space)&&(m(),A.stopPropagation(),A.preventDefault())},updateOffset:f,updateOffsetFirst:_,updateOffsetLast:b,updateOffsetNext:p,updateOffsetPrevious:m}}const wi={name:"APaginationPages",props:{disabled:{type:Boolean,required:!1},limit:{type:Number,required:!0,validator:e=>he(e)&&e>0},maxPages:{type:Number,required:!1,default:5,validator:e=>he(e)&&e>0},mode:{type:String,required:!1,default:"normal",validator:e=>["normal","short","loadMore"].indexOf(e)!==-1},offset:{type:Number,required:!0,validator:e=>he(e)&&e>=0},texts:{type:Object,required:!1,default:()=>({pagesFirstPage:"_A_PAGINATION_FIRST_PAGE_",pagesLastPage:"_A_PAGINATION_LAST_PAGE_",pagesMobile:"_A_PAGINATION_MOBILE_{{currentPage}}_{{allPages}}_",pagesNavigation:"_A_PAGINATION_NAVIGATION_",pagesNextPage:"_A_PAGINATION_NEXT_PAGE_",pagesPreviousPage:"_A_PAGINATION_PREVIOUS_PAGE_",pagesToPage:"_A_PAGINATION_TO_PAGE_{{page}}_"})},totalCount:{type:Number,required:!0,validator:e=>he(e)&&e>=0}},emits:["update:offset"],setup(e,t){const{currentItem:i,maxItems:s,paginationItems:o}=vi(e),{disabledButtonFirstPage:n,disabledButtonLastPage:d}=fi(e,{currentItem:i,maxItems:s}),{keyDownUpdateOffset:c,keyDownUpdateOffsetFirst:r,keyDownUpdateOffsetLast:f,keyDownUpdateOffsetNext:_,keyDownUpdateOffsetPrevious:m,updateOffset:b,updateOffsetFirst:p,updateOffsetLast:v,updateOffsetNext:g,updateOffsetPrevious:I}=pi(e,t,{currentItem:i,disabledButtonFirstPage:n,disabledButtonLastPage:d,maxItems:s}),{getTextToPage:C,isTextToPageFunction:w,textFirstPage:A,textLastPage:S,textMobile:L,textNavigation:D,textNextPage:O,textPreviousPage:P,textToPage:h}=mi(e,{currentItem:i,maxItems:s});return{currentItem:i,disabledButtonFirstPage:n,disabledButtonLastPage:d,getTextToPage:C,isTextToPageFunction:w,keyDownUpdateOffset:c,keyDownUpdateOffsetFirst:r,keyDownUpdateOffsetLast:f,keyDownUpdateOffsetNext:_,keyDownUpdateOffsetPrevious:m,maxItems:s,paginationItems:o,textFirstPage:A,textLastPage:S,textMobile:L,textNavigation:D,textNextPage:O,textPreviousPage:P,textToPage:h,updateOffset:b,updateOffsetFirst:p,updateOffsetLast:v,updateOffsetNext:g,updateOffsetPrevious:I}},render(){return a(F,{tag:"nav",class:"a_pagination_vars a_pagination__nav","aria-label":this.textNavigation},{default:()=>this.mode==="loadMore"?a(X,{class:"a_btn a_btn_primary",text:"Load more",type:"button"}):[a("ul",{class:"a_pagination"},[this.mode!=="short"?a("li",{class:["a_pagination__item",{disabled:this.disabledButtonFirstPage}]},[a(X,{class:"a_pagination__item__link",iconLeft:zl,role:"button",tabindex:this.disabledButtonFirstPage?-1:0,tag:"a",textScreenReader:this.textFirstPage,title:this.textFirstPage,type:"button",onClick:this.updateOffsetFirst,onKeydown:this.keyDownUpdateOffsetFirst})]):"",a("li",{class:["a_pagination__item",{disabled:this.disabledButtonFirstPage}]},[a(X,{class:"a_pagination__item__link",iconLeft:jl,role:"button",tabindex:this.disabledButtonFirstPage?-1:0,tag:"a",textScreenReader:this.textPreviousPage,title:this.textPreviousPage,type:"button",onClick:this.updateOffsetPrevious,onKeydown:this.keyDownUpdateOffsetPrevious})]),this.mode==="short"?a("li",{class:"a_pagination__item"},[a(F,{class:"a_pagination__item__text",html:this.textMobile,extra:{currentPage:this.currentItem,allPages:this.maxItems}})]):this.paginationItems.map(e=>{const t=e===this.currentItem,i=this.isTextToPageFunction?this.getTextToPage({page:e}):this.textToPage;return a("li",{class:["a_pagination__item",{active:t,disabled:this.disabled}]},[a(X,{"aria-current":t?!0:void 0,class:"a_pagination__item__link",extra:{page:e},role:"button",tabindex:t||this.disabled?-1:0,tag:"a",text:e,textAriaHidden:!0,textScreenReader:i,title:i,type:"button",onClick:()=>this.updateOffset(e),onKeydown:s=>this.keyDownUpdateOffset(s,e)})])}),a("li",{class:["a_pagination__item",{disabled:this.disabledButtonLastPage}]},[a(X,{class:"a_pagination__item__link",iconLeft:Xl,role:"button",tabindex:this.disabledButtonLastPage?-1:0,tag:"a",textScreenReader:this.textNextPage,title:this.textNextPage,type:"button",onClick:this.updateOffsetNext,onKeydown:this.keyDownUpdateOffsetNext})]),this.mode!=="short"?a("li",{class:["a_pagination__item",{disabled:this.disabledButtonLastPage}]},[a(X,{class:"a_pagination__item__link",iconLeft:Kl,role:"button",tabindex:this.disabledButtonLastPage?-1:0,tag:"a",textScreenReader:this.textLastPage,title:this.textLastPage,type:"button",onClick:this.updateOffsetLast,onKeydown:this.keyDownUpdateOffsetLast})]):""])]})}};function Ai(e,{isMobile:t=T(!1),updateLimit:i=()=>{},updateOffset:s=()=>{}}){const o=u(e,"modes"),n=u(e,"totalCount"),d=u(e,"disabled"),c=u(e,"limitsPerPage"),r=u(e,"limit"),f=u(e,"offset"),_=u(e,"rowsLength"),m=u(e,"maxPages"),b=l(()=>t.value?o.value.mobile||{perPage:{mode:"select",position:0,showTextCountFromTo:!1},pagination:{mode:"short",position:1}}:o.value.desktop||{perPage:{mode:"inline",position:0,showTextCountFromTo:!0},pagination:{mode:"normal",position:1}}),p=l(()=>{const g=[];return k(b.value,(I,C)=>{g.push({...I,component:C})}),ye(g,"position")});return{components:l(()=>{const g=[];return k(p.value,I=>{I.component==="perPage"?g.push(a(bi,{totalCount:n.value,disabled:d.value,limitsPerPage:c.value,limit:r.value,offset:f.value,rowsLength:_.value,mode:I.mode,showTextCountFromTo:I.showTextCountFromTo,"onUpdate:limit":i})):I.component==="pagination"&&g.push(a(wi,{totalCount:n.value,disabled:d.value,limit:r.value,mode:I.mode,offset:f.value,maxPages:m.value,"onUpdate:offset":s}))}),g})}}function gi(e,{emit:t}){return{updateLimit:o=>{t("update:limit",o)},updateOffset:o=>{t("update:offset",o)}}}const et={name:"APagination",props:{disabled:{type:Boolean,required:!1},limit:{type:Number,required:!0},limitsPerPage:{type:Array,required:!1,default:()=>["10","25","50","100"]},maxPages:{type:Number,required:!1,default:5,validator:e=>he(e)&&e>0},modes:{type:Object,required:!1,default:()=>({desktop:{perPage:{mode:"group",position:0,showTextCountFromTo:!0},pagination:{mode:"normal",position:1}},mobile:{perPage:{mode:"select",position:0,showTextCountFromTo:!1},pagination:{mode:"short",position:1}}})},offset:{type:Number,required:!0},rowsLength:{type:Number,required:!0},totalCount:{type:Number,required:!0}},emits:["update:limit","update:offset"],setup(e,t){const{isMobileWidth:i}=Ce(),{updateLimit:s,updateOffset:o}=gi(e,t),{components:n}=Ai(e,{isMobile:i,updateLimit:s,updateOffset:o});return{components:n,updateLimit:s,updateOffset:o}},render(){return a("div",{class:"a_pagination__parent"},this.components)}},Ci={name:"AResizer",props:{direction:{type:String,required:!0,validator:e=>["x","y"].indexOf(e)!==-1},disabled:{type:Boolean,required:!1}},emits:["mousedown","mousemove","mouseoutDocument","mouseup"],data(){return{clientHeight:0,clientWidth:0}},computed:{isDirectionX(){return this.direction==="x"},isDirectionY(){return this.direction==="y"},directionClass(){return`a_resizer_${this.direction}`},directionIcon(){if(this.direction==="x")return Ql;if(this.direction==="y")return Fe},cursor(){if(this.direction==="x")return"w-resize";if(this.direction==="y")return"s-resize"},bodyClass(){return`a_resizer_${this.direction}_active__body`},attributesResizer(){const e={class:["a_resizer",this.directionClass,{a_resizer_disabled:this.disabled}],ariaHidden:!0};return this.disabled||(e.onMousedown=this.mousedown),e}},unmounted(){this.removeMouseEventListeners(),this.removeClassFromBody()},methods:{mousedown(e){this.addMouseEventListeners(),this.clientHeight=document.documentElement.clientHeight,this.clientWidth=document.documentElement.clientWidth,this.$emit("mousedown",{$event:e,clientHeight:this.clientHeight,clientWidth:this.clientWidth}),this.addClassToBody()},mousemove(e){this.$emit("mousemove",{$event:e,clientX:e.clientX,clientY:e.clientY,clientHeight:this.clientHeight,clientWidth:this.clientWidth})},mouseup(e){this.removeMouseEventListeners(),this.$emit("mouseup",{$event:e,clientHeight:this.clientHeight,clientWidth:this.clientWidth}),this.removeClassFromBody()},mouseoutDocument(e){this.removeMouseEventListeners(),this.$emit("mouseoutDocument",{$event:e,clientHeight:this.clientHeight,clientWidth:this.clientWidth}),this.removeClassFromBody()},addMouseEventListeners(){document.addEventListener("mousemove",this.mousemove),document.addEventListener("mouseup",this.mouseup),document.addEventListener("mouseleave",this.mouseoutDocument)},removeMouseEventListeners(){document.removeEventListener("mousemove",this.mousemove),document.removeEventListener("mouseup",this.mouseup),document.removeEventListener("mouseleave",this.mouseoutDocument)},addClassToBody(){document.body.classList.add(this.bodyClass)},removeClassFromBody(){document.body.classList.remove(this.bodyClass)}},render(){return a("div",this.attributesResizer,[a("div",{class:"a_resizer__line"}),a(se,{class:"a_resizer__icon",icon:this.directionIcon})])}};function Si(e,{attributesForRoot:t=l(()=>({})),isColumnVisible:i=l(()=>!1),isLocked:s=l(()=>!1),labelTranslated:o=l(()=>"")}){const n=u(e,"searchColumnModel"),d=l(()=>{if(!n.value)return!0;const r=new RegExp(Vl(n.value),"gi");return`${o.value}`.search(r)!==-1});return{attributesComponent:l(()=>{const r={...t.value,class:"a_table__th__dropdown__li"};return d.value||(r.style="display: none;"),!s.value&&!i.value&&(r.class+=" a_table__th__dropdown__li_invisible"),r})}}const Ii=`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="18"
  height="18"
  viewBox="0 0 18 18"
>
  <g
    transform="matrix(0.01757813,0,0,0.01757813,-3.96314e-5,1.7578125e-5)"
  >
    <path
      d="m 493.034,717.353 v 0 c -22.097,-7.811 -37.924,-28.881 -37.924,-53.651 0,-31.421 25.469,-56.89 56.89,-56.89 31.421,0 56.89,25.469 56.89,56.89 0,24.769 -15.833,45.843 -37.924,53.651 v 98.392 c 0,9.98 -8.486,18.618 -18.966,18.618 -10.164,0 -18.966,-8.339 -18.966,-18.618 z m -265.48,-300.17 v 0 0 C 164.683,417.358 113.78,467.989 113.78,531.324 v 189.27 c 0,167.568 136.008,303.405 303.372,303.405 h 189.695 c 167.548,0 303.372,-136.179 303.372,-303.405 v -189.27 c 0,-62.93 -50.854,-113.956 -113.774,-114.141 V 284.414 C 796.445,127.332 668.777,-0.001 512,-0.001 c -157.093,0 -284.445,127.307 -284.445,284.415 v 132.769 z m 113.779,0 V 284.476 c 0,-94.496 76.411,-170.699 170.665,-170.699 94.063,0 170.665,76.426 170.665,170.699 V 417.183 H 341.33 Z"
    />
  </g>
</svg>`;function Ti(e,{isLocked:t=l(()=>!1)}){const i=u(e,"column"),s=u(e,"disabledOptions"),o=x("changeModelColumnsVisible"),n=x("modelColumnsVisibleLocal"),d=l(()=>i.value.id in n.value?!!n.value[i.value.id]:!i.value.hide),c=l(()=>t.value?Ii:d.value?Rl:yl),r=l(()=>t.value?"_A_TABLE_OPTIONS_BTN_LOCK_TITLE_":d.value?"_A_TABLE_OPTIONS_BTN_EYE_TITLE_":"_A_TABLE_OPTIONS_BTN_EYE_CLOSED_TITLE_"),f=({$event:m})=>{m.stopPropagation(),m.preventDefault();const b=W(n.value);b[i.value.id]=!d.value,o(b)};return{buttonVisibleProps:l(()=>{const m={class:"a_table__th__dropdown_item__icon",tag:"span",iconLeft:c.value,title:r.value,textScreenReader:r.value};return t.value||(m.tag="button",m.class+=" a_table__th__dropdown_item__icon_btn a_btn a_btn_link",m.onClick=f,s.value&&(m.disabled=!0)),m}),isColumnVisible:d}}const tt="a_table__drag_element";function vt(e,{emit:t},{classOverString:i="",inDropdown:s=!1}){const o=u(e,"column"),n=u(e,"columnIndex"),d=u(e,"columnIndexDraggable"),c=x("isLoadingOptions"),r=x("isColumnsDnd"),f=T(null),_=l(()=>d.value>n.value?i:`${i}_right`),m=w=>{var A,S,L;if((A=w.target)==null||A.classList.add(tt),s){const D=((S=w.target)==null?void 0:S.offsetHeight)||30;(L=w.target)==null||L.parentElement.style.setProperty("--a_table_draggable_li_height",`${D}px`)}w.dataTransfer.effectAllowed="move",t("dragstartParent",{columnIndex:n.value})},b=w=>{var A,S;(A=w.target)==null||A.classList.remove(_.value),(S=w.target)==null||S.classList.remove(tt),t("dragendParent")},p=()=>{f.value&&f.value.classList&&f.value.classList.add(_.value),t("dragenterParent",{columnIndex:n.value})},v=w=>(w.preventDefault&&w.preventDefault(),!1),g=()=>{f.value&&f.value.classList&&f.value.classList.remove(_.value),t("dragleaveParent",{columnIndex:n.value})},I=l(()=>!!o.value.locked);return{attributesForRoot:l(()=>{const w={ref:"root"};return!I.value&&r.value&&(w.draggable=!c.value,w.onDragstart=m,w.onDragend=b,w.onDragenter=p,w.onDragover=v,w.onDragleave=g),w}),isLocked:I,root:f}}function Ri(e){const t=u(e,"column"),i=u(e,"searchColumnModel"),{filterSearchHighlight:s}=ue(),o=l(()=>Ll(t.value.label)?Me({placeholder:t.value.label}):t.value.label);return{labelLocal:l(()=>s(o.value,{searchModel:i.value})),labelTranslated:o}}function yi(e){const t=u(e,"columnIndex"),i=x("changeColumnsOrdering"),s=x("columnsOrdered"),o=x("tableId"),n=({columnIndex:b,iconKey:p})=>`${o.value}_${p}_${b}`,d=({$event:b})=>{b.stopPropagation();const p=t.value-1;i({columnIndexDraggable:t.value,columnIndexOver:p}),window.isScrollDisabled||setTimeout(()=>{me({selector:`#${n({columnIndex:p,iconKey:"up"})}`})})},c=({$event:b})=>{b.stopPropagation();const p=t.value+1;i({columnIndexDraggable:t.value,columnIndexOver:p}),window.isScrollDisabled||setTimeout(()=>{const v=`#${n({columnIndex:p,iconKey:"down"})}`;me({selector:v})})},r=l(()=>n({columnIndex:t.value,iconKey:"up"})),f=l(()=>n({columnIndex:t.value,iconKey:"down"})),_=l(()=>t.value!==0&&!s.value[t.value-1].locked),m=l(()=>s.value.length-1!==t.value&&!s.value[t.value+1].locked);return{idButtonArrowDown:f,idButtonArrowUp:r,isButtonArrowDownVisible:m,isButtonArrowUpVisible:_,moveColumnDown:c,moveColumnUp:d}}const Li={name:"ATableHeaderThActionItem",components:{AIcon:se,ATranslation:F},props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},columnIndexDraggable:{type:Number,required:!1,default:-1},disabledOptions:{type:Boolean,required:!1},searchColumnModel:{type:String,required:!0}},emits:["dragendParent","dragstartParent","dragenterParent","dragleaveParent"],inject:["changeColumnsOrdering","columnsOrdered","isColumnsDnd","isLoadingOptions","isLoadingTable","modelColumnsVisibleLocal","tableId"],setup(e,t){const{attributesForRoot:i,isLocked:s,root:o}=vt(e,t,{classOverString:"a_table__th__dropdown__li_over",inDropdown:!0}),{labelLocal:n,labelTranslated:d}=Ri(e),{buttonVisibleProps:c,isColumnVisible:r}=Ti(e,{isLocked:s}),{idButtonArrowDown:f,idButtonArrowUp:_,isButtonArrowDownVisible:m,isButtonArrowUpVisible:b,moveColumnDown:p,moveColumnUp:v}=yi(e),{attributesComponent:g}=Si(e,{attributesForRoot:i,isColumnVisible:r,isLocked:s,labelTranslated:d});return{attributesComponent:g,attributesForRoot:i,buttonVisibleProps:c,idButtonArrowDown:f,idButtonArrowUp:_,isButtonArrowDownVisible:m,isButtonArrowUpVisible:b,isLocked:s,labelLocal:n,moveColumnDown:p,moveColumnUp:v,root:o}},render(){return this.column.isRender===!1?null:a("li",this.attributesComponent,[a("div",{class:"a_dropdown__item_text a_table__th__dropdown_item"},[a("div",{class:"a_table__th__dropdown_item__child"},[a(te,this.buttonVisibleProps),a("span",{class:"a_position_relative"},[this.column.icon&&a(se,{icon:this.column.icon,class:"a_table__th__icon"}),a(F,{tag:"span",class:"a_table__th__text",safeHtml:this.labelLocal}),this.column.title&&a(F,{title:this.column.title,ariaHidden:!0,tag:"span",class:"a_position_absolute_all"}),this.column.title&&a(F,{text:this.column.title,tag:"span",class:"a_sr_only"})]),!this.isLocked&&this.isColumnsDnd?[this.isButtonArrowUpVisible&&a(te,{id:this.idButtonArrowUp,class:"a_sr_only_focusable a_btn a_btn_link a_p_0 a_table__th__dropdown_item__btn_arrow",disabled:this.disabledOptions,type:"button",iconLeft:Yl,title:"_A_TABLE_OPTIONS_BTN_ARROW_UP_TITLE_",textScreenReader:"_A_TABLE_OPTIONS_BTN_ARROW_UP_TITLE_",onClick:this.moveColumnUp}),this.isButtonArrowDownVisible&&a(te,{id:this.idButtonArrowDown,class:"a_sr_only_focusable a_btn a_btn_link a_p_0 a_table__th__dropdown_item__btn_arrow",disabled:this.disabledOptions,type:"button",iconLeft:bt,title:"_A_TABLE_OPTIONS_BTN_ARROW_DOWN_TITLE_",textScreenReader:"_A_TABLE_OPTIONS_BTN_ARROW_DOWN_TITLE_",onClick:this.moveColumnDown})]:""]),!this.isLocked&&this.isColumnsDnd&&a(se,{icon:Zl,class:"a_table__th__dropdown_item__icon_dnd"})])])}};function mt(e){const t={};return e.forEach(i=>{t[i.id]=!i.hide}),t}function pt({element:e,tagsName:t,classStop:i}){if(e&&e.tagName){if(t.indexOf(e.tagName)!==-1)return!0;if(e.classList.contains(i))return!1;if(e.parentElement)return pt({element:e.parentElement,tagsName:t,classStop:i})}return!1}function Pi({$event:e,classStop:t="",tagsName:i=[]}={}){return e&&e.target?pt({element:e.target,tagsName:i,classStop:t}):!1}function ve({column:e,modelColumnsVisibleLocal:t}){return e.isRender===!1?!1:e.id in t?!!t[e.id]:!e.hide}function xi({column:e}){return e.isRender===!1?!1:!e.hide}function Oi({columnIndex:e,indexFirstScrollInvisibleColumn:t}){return J(t)?!0:e<t}function Di({column:e,columnIndex:t,modelIsTableWithoutScroll:i,modelColumnsVisibleLocal:s,indexFirstScrollInvisibleColumn:o}){return i?ve({column:e,modelColumnsVisibleLocal:s})&&Oi({columnIndex:t,indexFirstScrollInvisibleColumn:o}):ve({column:e,modelColumnsVisibleLocal:s})}function wt({tableId:e}){return`${e}_preview_right`}function At({tableId:e}){return`${e}_multiple_panel`}function gt({tableId:e}){return`${e}_header_label`}function ge({row:e,rowIndex:t,keyId:i}){return i?U(e,i):t}function Ct({rowAction:e,row:t,rowIndex:i}){return e.isHidden?!1:V(e.isHiddenCallback)?!e.isHiddenCallback({row:t,rowIndex:i}):!0}function Mi(){const e=T("");return{searchColumnModel:e,updateSearchColumnModel:i=>{e.value=i}}}function St({classOver:e="",classOverRight:t="",classOverParent:i="",inHeader:s=!1}){const o=T(void 0),n=T(void 0),d=T(void 0),c=x("changeColumnsOrdering"),r=l(()=>!J(n.value)),f=({columnIndex:g})=>{n.value=g},_=({columnIndex:g})=>{d.value=g},m=({columnIndex:g})=>{d.value===g&&(d.value=void 0)},b=g=>{if(!(J(n.value)||J(d.value)))return c({columnIndexDraggable:n.value,columnIndexOver:d.value,inHeader:s}),g.stopPropagation(),!1},p=()=>{o.value.querySelectorAll(`.${i}`).forEach(I=>{I.classList.remove(e),I.classList.remove(t)})};return{columnIndexDraggable:n,dragstart:f,dragenter:_,dragleave:m,dragend:()=>{p(),n.value=void 0},drop:b,isDragstart:r,root:o}}function It(){const e=x("columnActionsWidthMinLocal"),t=x("modelIsTableWithoutScroll");return{stylesThTd:l(()=>t.value?{}:{style:`width: ${e.value}px;`})}}const Oe={name:"ATableHeaderThAction",inject:["changeModelIsTableWithoutScroll","columnActionsWidthLocal","changeColumnsOrdering","changeModelColumnsVisible","columns","columnsOrdered","isActionIconVisible","modelIsTableWithoutScroll","useRem"],props:{disabledOptions:{type:Boolean,required:!1},isRowActionsStickyLocal:{type:Boolean,required:!0}},setup(){const{columnIndexDraggable:e,dragend:t,dragenter:i,dragleave:s,dragstart:o,drop:n,isDragstart:d,root:c}=St({classOver:"a_table__th__dropdown__li_over",classOverRight:"a_table__th__dropdown__li_over_right",classOverParent:"a_table__th__dropdown__li",inHeader:!1}),{searchColumnModel:r,updateSearchColumnModel:f}=Mi(),{stylesThTd:_}=It();return{columnIndexDraggable:e,dragend:t,dragenter:i,dragleave:s,dragstart:o,drop:n,isDragstart:d,root:c,searchColumnModel:r,stylesThTd:_,updateSearchColumnModel:f}},methods:{selectAllColumns(){const e={};k(this.columnsOrdered,t=>{e[t.id]=!0}),this.changeModelColumnsVisible(e)},deselectAllColumns(){const e={};k(this.columnsOrdered,t=>{e[t.id]=!!t.locked}),this.changeModelColumnsVisible(e)},resetColumns(){this.changeModelColumnsVisible(mt(this.columnsOrdered)),this.changeColumnsOrdering({reset:!0})}},render(){return a("div",{class:["a_table__th a_table__cell a_table__cell_action",{a_table__cell_action_sticky:this.isRowActionsStickyLocal}],role:"columnheader",...this.stylesThTd},[a("span",{class:"a_sr_only"},"Aktionen"),this.isActionIconVisible&&a(be,{buttonClass:"a_btn a_btn_secondary a_table__cell_action__btn",buttonTitle:"_A_TABLE_DROPDOWN_OPTIONS_TITLE_",buttonTextScreenReader:"_A_TABLE_DROPDOWN_OPTIONS_TITLE_",dropdownTag:"div",dropdownClass:"a_p_0",hasCaret:!1,isCloseByClickInside:!1,disabled:this.disabledOptions,placement:"left",menuWidth:320,inBody:!0,useRem:this.useRem},{button:()=>a(se,{icon:ti}),dropdown:()=>[a("ul",{class:["a_table__th__dropdown__ul",{a_table__th__dropdown__ul_dragstart:this.isDragstart}],ref:"root",onDrop:this.drop},[a("li",null,[a("div",{class:"a_dropdown__item_text a_table__th__dropdown__search"},[a(ot,{label:"Suchen",modelValue:this.searchColumnModel,isClearButton:!0,modelUndefined:"","onUpdate:modelValue":this.updateSearchColumnModel})])]),a("li",{class:"a_dropdown__divider","aria-hidden":!0}),a("li",null,[a("button",{type:"button",class:"a_dropdown__item",disabled:this.disabledOptions,onClick:this.selectAllColumns},[a(se,{icon:Jl,class:"a_table__th__dropdown_item__icon"}),a("span",null,"Alle einblenden")])]),a("li",null,[a("button",{type:"button",class:"a_dropdown__item",disabled:this.disabledOptions,onClick:this.deselectAllColumns},[a(se,{icon:Ie,class:"a_table__th__dropdown_item__icon"}),a("span",null,"Alle ausblenden")])]),a("li",null,[a("button",{type:"button",class:"a_dropdown__item",disabled:this.disabledOptions,onClick:this.resetColumns},[a(se,{icon:ei,class:"a_table__th__dropdown_item__icon"}),a("span",null,"Zurücksetzen")])]),a("li",null,[a(Pl,{class:"a_dropdown__item_text a_text_nowrap",disabled:this.disabledOptions,modelValue:this.modelIsTableWithoutScroll,trueLabel:"Kompakte Ansicht",falseLabel:"Kompakte Ansicht","onUpdate:modelValue":this.changeModelIsTableWithoutScroll})]),a("li",{class:"a_dropdown__divider","aria-hidden":!0}),this.columnsOrdered.map((e,t)=>a(Li,{column:e,columnIndex:t,columnIndexDraggable:this.columnIndexDraggable,disabledOptions:this.disabledOptions,searchColumnModel:this.searchColumnModel,onDragstartParent:this.dragstart,onDragenterParent:this.dragenter,onDragleaveParent:this.dragleave,onDragendParent:this.dragend}))])]})])}};function Tt(e,{emit:t}){const i=u(e,"areAllRowsSelected"),s=u(e,"areAllVisibleRowsSelected"),o=u(e,"areSomeRowsSelected"),n=u(e,"rowsLocalLength"),d=l(()=>!!(n.value===0||i.value)),c=l(()=>o.value&&!(s.value||i.value)),r=l(()=>s.value||i.value),f=l(()=>c.value||r.value?"_A_TABLE_DESELECT_ALL_VISIBLE_POSSIBLE_ROWS_":"_A_TABLE_SELECT_ALL_VISIBLE_POSSIBLE_ROWS_");return{isCheckboxDisabled:d,isCheckboxIndeterminate:c,labelCheckbox:f,modelValueCheckboxLocal:r,toggleCheckbox:()=>{d.value||t("setSelectedRowsIndexes",{isAll:!0})}}}const Ei={name:"ATableGroupedHeader",props:{areAllRowsSelected:{type:Boolean,required:!0},areAllVisibleRowsSelected:{type:Boolean,required:!0},areSomeRowsSelected:{type:Boolean,required:!0},columnsForRender:{type:Array,required:!0},disabledOptions:{type:Boolean,required:!1},disabledSort:{type:Boolean,required:!1},hasMultipleActions:{type:Boolean,required:!0},isRowActionsStickyLocal:{type:Boolean,required:!0},isSortingMultiColumn:{type:Boolean,required:!1},modelSort:{type:Array,required:!0},rowsLocalLength:{type:Number,required:!0},showFirstSortingSequenceNumber:{type:Boolean,required:!1},sortingSequenceNumberClass:{type:[String,Object],required:!1}},emits:["setSelectedRowsIndexes"],inject:["changeColumnsOrdering","columnsFilteredForRender","isActionColumnVisible","isMobile","isMultipleActionsActive"],setup(e,t){const{isCheckboxDisabled:i,isCheckboxIndeterminate:s,labelCheckbox:o,modelValueCheckboxLocal:n,toggleCheckbox:d}=Tt(e,t);return{isCheckboxDisabled:i,isCheckboxIndeterminate:s,labelCheckbox:o,modelValueCheckboxLocal:n,toggleCheckbox:d}},render(){return this.isMobile?null:a("div",{ref:"root",role:"rowgroup",class:"a_table__head"},[a("div",{class:"a_table__row a_table__head__row",role:"row"},[this.isMultipleActionsActive&&a("div",{role:"columnheader",class:"a_table__th a_table__cell a_table__cell_checkbox",style:"width: 50px; min-width: 50px; max-width: 50px;","aria-colindex":1},[a(Ee,{isWidthAuto:!0,modelValue:this.modelValueCheckboxLocal,indeterminate:this.isCheckboxIndeterminate,disabled:this.isCheckboxDisabled,label:this.labelCheckbox,labelClass:"a_sr_only",isLabelTitle:!0,"onUpdate:modelValue":this.toggleCheckbox})]),this.columnsForRender,this.isActionColumnVisible&&a(Oe,{disabledOptions:this.disabledOptions,isRowActionsStickyLocal:this.isRowActionsStickyLocal})])])}};function Bi(e,{ariaSort:t=l(()=>({})),attributesForRoot:i=l(()=>({})),columnsStyles:s=l(()=>""),isLocked:o=l(()=>!1),isSorting:n=l(()=>!1),titlesSort:d=l(()=>[])}){const c=u(e,"column"),r=u(e,"columnIndex"),f=u(e,"hasMultipleActions"),_=x("isLoadingOptions"),m=x("isLoadingOptions"),b=l(()=>["a_table__th a_table__cell",{a_table__th_draggable:!o.value&&!m.value&&_.value,a_table__th_sorting:n.value},c.value.classHeaderParent]),p=l(()=>{const g=[];return(c.value.title||c.value.title===0)&&g.push(c.value.title),g.push(...d.value),g});return{attributesForTh:l(()=>{let g=r.value+1;return f.value&&g++,{...t.value,...i.value,"aria-colindex":g,ref:"root",role:"columnheader",class:b.value,style:s.value}}),titlesLocal:p}}function ki(e){const t=u(e,"column"),i=x("columnsVisibleAdditionalSpaceForOneGrow",0),s=l(()=>J(t.value.grow)?1:t.value.grow);return{additionalWidthForCurrentColumn:l(()=>i.value*s.value)}}function Rt(e){const t=u(e,"column"),i=x("columnWidthDefault"),s=x("useRem"),{additionalWidthForCurrentColumn:o}=ki(e),{scalePxWithRem:n}=Be(),d=l(()=>s.value?n(t.value.width)||i.value:t.value.width||i.value),c=l(()=>d.value+o.value),r=l(()=>`width: ${c.value}px; min-width: ${c.value}px; max-width: ${c.value}px;`);return{columnsStyles:l(()=>t.value.style?`${r.value} ${t.value.style}`:r.value)}}function Ni(e){const t=u(e,"column"),i=u(e,"columnIndex"),s=u(e,"disabledSort"),o=u(e,"isSortingMultiColumn"),n=u(e,"modelSort"),d=u(e,"showFirstSortingSequenceNumber"),c=x("changeModelSort"),r=x("tableId"),f=l(()=>t.value.sortId),_=l(()=>!!f.value),m=l(()=>n.value.indexOf(f.value)),b=l(()=>n.value.indexOf(`-${f.value}`)),p=l(()=>m.value!==-1),v=l(()=>b.value!==-1),g=l(()=>_.value&&(p.value||v.value)),I=l(()=>{if(_.value){let h="none";return p.value?h="ascending":v.value&&(h="descending"),{"aria-sort":h}}return{}}),C=l(()=>a(se,{icon:li,class:"a_table__th__sort__icon a_table__th__sort__icon_up"})),w=l(()=>a(se,{icon:ii,class:"a_table__th__sort__icon a_table__th__sort__icon_down"})),A=l(()=>{const h=[];return _.value&&(v.value||h.push(C.value),p.value||h.push(w.value)),h}),S=({$event:h})=>{s.value||c({$event:h,sortId:f.value})},L=l(()=>`${r.value}_th_${i.value}_screen_reader`),D=l(()=>{var h;return _.value?{type:"button",disabled:s.value,isTitleHtml:((h=nt.value.config)==null?void 0:h.isHtmlTitleSort)||!1,"aria-describedby":L.value,onClick:S}:{tag:"span"}}),O=l(()=>{if(!(!o.value&&!g.value)&&!(n.value.length<=1&&!d.value)){if(m.value!==-1)return m.value+1;if(b.value!==-1)return b.value+1}}),P=l(()=>{const h=[];return _.value&&(h.push("_A_TABLE_SORT_TITLE_"),o.value&&h.push("_A_TABLE_SORT_TITLE_MULTI_COLUMN_")),h});return{ariaSort:I,attributesForButtonSort:D,columnTextScreenReaderId:L,iconsSortable:A,isSortable:_,isSorting:g,sequenceNumberSort:O,titlesSort:P}}const De={name:"ATableHeaderTh",props:{column:{type:Object,required:!0},columnGroupNames:{type:Array,required:!1,default:void 0},columnIndex:{type:Number,required:!0},columnIndexDraggable:{type:Number,required:!1,default:-1},disabledSort:{type:Boolean,required:!1},hasMultipleActions:{type:Boolean,required:!0},isSortingMultiColumn:{type:Boolean,required:!1},modelSort:{type:Array,required:!1},showFirstSortingSequenceNumber:{type:Boolean,required:!1},sortingSequenceNumberClass:{type:[String,Object],required:!1}},emits:["dragendParent","dragstartParent","dragenterParent","dragleaveParent"],inject:["changeModelSort","isColumnsDnd","isLoadingOptions","isLoadingTable"],setup(e,t){const{columnsStyles:i}=Rt(e),{attributesForRoot:s,isLocked:o,root:n}=vt(e,t,{classOverString:"a_table__th_over",inDropdown:!1}),{ariaSort:d,attributesForButtonSort:c,columnTextScreenReaderId:r,iconsSortable:f,isSortable:_,isSorting:m,sequenceNumberSort:b,titlesSort:p}=Ni(e),{attributesForTh:v,titlesLocal:g}=Bi(e,{ariaSort:d,attributesForRoot:s,columnsStyles:i,isLocked:o,isSorting:m,titlesSort:p});return{attributesForButtonSort:c,attributesForTh:v,columnTextScreenReaderId:r,columnsStyles:i,iconsSortable:f,isSortable:_,root:n,sequenceNumberSort:b,titlesLocal:g,titlesSort:p}},render(){return a("div",this.attributesForTh,[a("div",{class:["a_table__cell__child"]},[this.columnGroupNames&&a(F,{html:this.columnGroupNames,tag:"span",class:"a_sr_only"}),a(F,{id:this.columnTextScreenReaderId,text:this.titlesLocal,tag:"span",class:"a_sr_only",ariaHidden:!0}),a(te,{class:["a_table__th__btn",this.column.class,this.column.classHeader,{"a_btn a_btn_link a_table__th__btn_sort":this.isSortable,a_table__th__btn_sequence:this.sequenceNumberSort}],iconLeft:this.column.icon,iconClass:"a_table__th__icon",extra:this.column.extra,title:this.titlesLocal,textScreenReader:this.column.textScreenReader||void 0,...this.attributesForButtonSort},()=>[this.column.label&&a(F,{html:this.column.label,tag:"span",extra:this.column.extra,class:"a_table__th__text aloha_element__ml_0",ariaHidden:!!this.column.textScreenReader}),this.isSortable&&a("span",{class:"a_table__th__sort__box aloha_element__ml_0"},[this.sequenceNumberSort&&a("span",{class:["a_table__th__sort__sequence_num",this.sortingSequenceNumberClass]},this.sequenceNumberSort),a("span",{class:"a_table__th__sort__icons"},[...this.iconsSortable])])])])])}},Fi={name:"ATableHeader",components:{ATableHeaderTh:De,ATableHeaderThAction:Oe},props:{areAllRowsSelected:{type:Boolean,required:!0},areAllVisibleRowsSelected:{type:Boolean,required:!0},areSomeRowsSelected:{type:Boolean,required:!0},disabledOptions:{type:Boolean,required:!1},disabledSort:{type:Boolean,required:!1},hasMultipleActions:{type:Boolean,required:!0},isRowActionsStickyLocal:{type:Boolean,required:!0},isSortingMultiColumn:{type:Boolean,required:!1},modelSort:{type:Array,required:!0},rowsLocalLength:{type:Number,required:!0},showFirstSortingSequenceNumber:{type:Boolean,required:!1},sortingSequenceNumberClass:{type:[String,Object],required:!1}},emits:["setSelectedRowsIndexes"],inject:["changeColumnsOrdering","columnsFilteredForRender","isActionColumnVisible","isMobile","isMultipleActionsActive"],setup(e,t){const{columnIndexDraggable:i,dragstart:s,dragenter:o,dragleave:n,dragend:d,drop:c,isDragstart:r,root:f}=St({classOver:"a_table__th_over",classOverRight:"a_table__th_over_right",classOverParent:"a_table__th",inHeader:!0}),{isCheckboxDisabled:_,isCheckboxIndeterminate:m,labelCheckbox:b,modelValueCheckboxLocal:p,toggleCheckbox:v}=Tt(e,t);return{columnIndexDraggable:i,dragend:d,dragenter:o,dragleave:n,dragstart:s,drop:c,isCheckboxDisabled:_,isCheckboxIndeterminate:m,isDragstart:r,labelCheckbox:b,modelValueCheckboxLocal:p,root:f,toggleCheckbox:v}},render(){return this.isMobile?null:a("div",{ref:"root",role:"rowgroup",class:["a_table__head",{a_table__head_dragstart:this.isDragstart}]},[a("div",{class:"a_table__row a_table__head__row",role:"row",onDrop:this.drop},[this.isMultipleActionsActive&&a("div",{role:"columnheader",class:"a_table__th a_table__cell a_table__cell_checkbox",style:"width: 50px; min-width: 50px; max-width: 50px;","aria-colindex":1},[a(Ee,{isWidthAuto:!0,modelValue:this.modelValueCheckboxLocal,indeterminate:this.isCheckboxIndeterminate,disabled:this.isCheckboxDisabled,label:this.labelCheckbox,labelClass:"a_sr_only",isLabelTitle:!0,"onUpdate:modelValue":this.toggleCheckbox})]),this.columnsFilteredForRender.map((e,t)=>a(De,{ref:"th",column:e,columnIndex:t,columnIndexDraggable:this.columnIndexDraggable,disabledSort:this.disabledSort,hasMultipleActions:this.hasMultipleActions,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSort,showFirstSortingSequenceNumber:this.showFirstSortingSequenceNumber,sortingSequenceNumberClass:this.sortingSequenceNumberClass,onDragstartParent:this.dragstart,onDragenterParent:this.dragenter,onDragleaveParent:this.dragleave,onDragendParent:this.dragend})),this.isActionColumnVisible&&a(Oe,{disabledOptions:this.disabledOptions,isRowActionsStickyLocal:this.isRowActionsStickyLocal})])])}};function qi(e,{emit:t},{nextAvailableRowIndex:i,previousAvailableRowIndex:s,rowNumber:o=l(()=>0)}){const n=u(e,"countAllRows"),d=u(e,"limitPagination"),c=u(e,"offsetPagination"),r=u(e,"rowIndex"),f=u(e,"usePagination"),_=l(()=>o.value<=1||J(s.value)),m=l(()=>o.value>=n.value||J(i.value));return{disabledBtnArrowLeft:_,disabledBtnArrowRight:m,toNextRow:()=>{m.value||(f.value?(r.value+1)%d.value===0?(t("update:offset",{offset:c.value+d.value,reload:!1}),t("togglePreview",{rowIndex:0})):t("togglePreview",{rowIndex:i.value}):t("togglePreview",{rowIndex:i.value}))},toPreviousRow:()=>{_.value||(f.value?(r.value+1)%d.value===1?(t("update:offset",{offset:c.value-d.value,reload:!1}),t("togglePreview",{rowIndex:d.value-1})):t("togglePreview",{rowIndex:s.value}):t("togglePreview",{rowIndex:s.value}))}}}function Vi(){const e=x("tableId");return{idLocal:l(()=>wt({tableId:e.value}))}}function Wi({emit:e},{previewRef:t=T(void 0)}){return{mousedown:({clientWidth:n})=>{e("mousedownResizePreviewRight",{clientWidth:n})},mousemove:({clientX:n})=>{e("mousemoveResizePreviewRight",{clientX:n,previewRef:t.value})},mouseup:()=>{e("mouseupResizePreviewRight",{previewRightWidth:U(t,"value.offsetWidth")})}}}function Ui(e){const t=u(e,"countAllRows"),i=u(e,"disabledPreviewRowCallback"),s=u(e,"offsetPagination"),o=u(e,"rowIndex"),n=u(e,"rows"),d=u(e,"usePagination"),{filterCurrency:c}=ue(),r=l(()=>d.value?(s.value||0)+o.value+1:o.value+1),f=l(()=>n.value[o.value]),_=l(()=>{let v=null;if(!V(i.value))v=o.value===n.value.length-1?null:o.value++;else for(let g=o.value+1;g<n.value.length;g++){const I=n.value[g];if(!i.value({row:I,rowIndex:g})){v=g;break}}return v}),m=l(()=>{let v=null;if(!V(i.value))v=o.value===0?null:o.value--;else for(let g=o.value-1;g>=0;g--){const I=n.value[g];if(!i.value({row:I,rowIndex:g})){v=g;break}}return v}),b=l(()=>c(t.value,{suffix:"",digits:0})),p=l(()=>c(r.value,{suffix:"",digits:0}));return{countAllRowsFormatted:b,currentRow:f,nextAvailableRowIndex:_,previousAvailableRowIndex:m,rowNumber:r,rowNumberFormatted:p}}const Gi={name:"ATablePreviewRight",props:{countAllRows:{type:Number,required:!0},disabledPreviewRowCallback:{type:Function,required:!1,default:()=>{}},isLoadingTable:{type:Boolean,required:!1},isMobile:{type:Boolean,required:!1},limitPagination:{type:Number,required:!1,default:void 0},offsetPagination:{type:Number,required:!1,default:void 0},previewStyles:{type:[String,Object],required:!1,default:void 0},rowIndex:{type:Number,required:!0},rows:{type:Array,required:!0},usePagination:{type:Boolean,required:!1}},emits:["closePreview","mousedownResizePreviewRight","mousemoveResizePreviewRight","mouseupResizePreviewRight","togglePreviewResize","togglePreview","update:offset"],inject:["isLoadingOptions"],setup(e,t){const i=u(e,"isMobile"),{previewRef:s}=at(),{idLocal:o}=Vi(),{mousedown:n,mousemove:d,mouseup:c}=Wi(t,{previewRef:s}),{countAllRowsFormatted:r,currentRow:f,nextAvailableRowIndex:_,previousAvailableRowIndex:m,rowNumber:b,rowNumberFormatted:p}=Ui(e),{disabledBtnArrowLeft:v,disabledBtnArrowRight:g,toNextRow:I,toPreviousRow:C}=qi(e,t,{nextAvailableRowIndex:_,previousAvailableRowIndex:m,rowNumber:b});return qe(()=>{i.value||t.emit("togglePreviewResize",{isOpen:!0,previewRef:s.value})}),Te(()=>{i.value||t.emit("togglePreviewResize",{isOpen:!1,previewRef:s.value})}),{countAllRowsFormatted:r,currentRow:f,disabledBtnArrowLeft:v,disabledBtnArrowRight:g,idLocal:o,mousedown:n,mousemove:d,mouseup:c,previewRef:s,rowNumber:b,rowNumberFormatted:p,toNextRow:I,toPreviousRow:C}},render(){const e=[this.isLoadingTable?a(Qe):a("div",{},[a(F,{class:"a_table__preview_right__header__text",tag:"span",text:"_A_TABLE_PREVIEW_RIGHT_HEADER_{{rowNumber}}_{{rowNumberFormatted}}_{{countAllRows}}_{{countAllRowsFormatted}}_",extra:{rowNumber:this.rowNumber,rowNumberFormatted:this.rowNumberFormatted,countAllRows:this.countAllRows,countAllRowsFormatted:this.countAllRowsFormatted}}),a("div",{class:"a_table__preview_right__header__icons"},[a(te,{class:"a_btn a_btn_transparent_dark a_btn_small",disabled:this.disabledBtnArrowLeft,iconLeft:si,title:"_A_TABLE_PREVIEW_RIGHT_PREVIOUS_ROW_",textScreenReader:"_A_TABLE_PREVIEW_RIGHT_PREVIOUS_ROW_",onClick:this.toPreviousRow}),a(te,{class:"a_btn a_btn_transparent_dark a_btn_small",disabled:this.disabledBtnArrowRight,iconLeft:oi,title:"_A_TABLE_PREVIEW_RIGHT_NEXT_ROW_",textScreenReader:"_A_TABLE_PREVIEW_RIGHT_NEXT_ROW_",onClick:this.toNextRow})])]),this.isMobile?"":a(te,{class:"a_btn a_btn_transparent_dark a_table__preview_right__btn_close",iconLeft:Ie,iconClass:"a_table__preview_right__btn_close__icon",title:"_A_TABLE_PREVIEW_RIGHT_CLOSE_",textScreenReader:"_A_TABLE_PREVIEW_RIGHT_CLOSE_",onClick:()=>this.$emit("closePreview")})],t=[this.isLoadingTable?a(Qe):this.$slots.preview?this.$slots.preview({row:this.currentRow,rowIndex:this.rowIndex}):a(F,{text:"_A_TABLE_PREVIEW_RIGHT_HAS_NOT_SLOT_"})];return this.isMobile?a(xl,{hideFooter:!0,close:()=>this.$emit("closePreview"),size:"xxl"},{modalHeader:()=>e,modalBody:()=>t}):a("div",{ref:"previewRef",id:this.idLocal,class:"a_table__preview_right",style:this.previewStyles,tabindex:-1},[a(Ci,{class:"a_table__preview_right__resizer",direction:"x",disabled:this.isLoadingOptions,onMousedown:this.mousedown,onMousemove:this.mousemove,onMouseup:this.mouseup,onMouseoutDocument:this.mouseup}),a(F,{class:"a_sr_only",text:"_A_TABLE_PREVIEW_RIGHT_ARIA_LABEL_"}),a("div",{class:"a_table__preview_right__header"},e),a("div",{class:"a_table__preview_right__body"},t)])}};function Hi(){const e=x("tableId"),t=["additionalProps"],i=l(()=>`${e.value}_`);return{excludeRenderAttributes:t,idPrefix:i}}function $i(e){const t=u(e,"additionalSortingColumns"),i=x("columnsOrdered",[]),s=l(()=>[...ne(i.value,d=>d.sortId),...t.value]),o=l(()=>ke(s.value,"sortId")),n=l(()=>s.value.length);return{columnsAll:s,columnsAllKeyBySortId:o,countColumnsAll:n}}function zi(e,{columnsAll:t=l(()=>[])}){const i=T(void 0),s=T(!1),o=l(()=>t.value.length>0);return{closeDropdown:()=>{var d;(d=i.value)==null||d.onClose({trigger:"click"})},dropdownRef:i,isDropdownVisible:o,wasOpenDropdown:s}}function ji(e,{columnsAll:t=l(()=>[]),columnsAllKeyBySortId:i=l(()=>({})),unappliedModelSort:s=T([])}){const o=T([]),n=[{label:"_A_TABLE_SORT_ADDITIONAL_DIRECTION_ASC_",id:"asc"},{label:"_A_TABLE_SORT_ADDITIONAL_DIRECTION_DESC_",id:"desc"}],d=l(()=>ne(t.value,r=>!ut(s.value,["sortId",r.sortId])));return{dataForForm:o,initDataForForm:()=>{const r=[];k(s.value,({sortId:f},_)=>{const m=_===0,b=W(d.value);f&&i.value[f]&&b.unshift(i.value[f]),r.push({type:"fieldset",id:`group_${f}`,label:m?"_A_TABLE_SORT_ADDITIONAL_SORT_BY_":"_A_TABLE_SORT_ADDITIONAL_THEN_BY_",children:[{id:`[${_}].sortId`,type:"select",classColumn:"a_column a_column_12_touch a_column_7_fullhd a_column_7_widescreen a_column_7_desktop",deselectable:!1,data:b,keyId:"sortId",keyLabel:"label",translateData:!0,search:!0,label:"_A_TABLE_SORT_ADDITIONAL_COLUMN_"},{id:`[${_}].sortMode`,type:"select",classColumn:"a_column a_column_12_touch a_column_5_fullhd a_column_5_widescreen a_column_5_desktop a_d_flex a_align_items_center",class:"a_width_100",deselectable:!1,data:n,keyId:"id",keyLabel:"label",translateData:!0,search:!1,label:"_A_TABLE_SORT_ADDITIONAL_DIRECTION_",slotAppend:"slotAppend",additionalProps:{index:_}}]})}),o.value=r}}}function Xi(e,{closeDropdown:t=()=>{},countColumnsAll:i=l(()=>0),initDataForForm:s=()=>{},unappliedModelSort:o=T([]),wasOpenDropdown:n=T(!1)}){const d=u(e,"isSortingMultiColumn"),c=u(e,"modelSort"),r=x("changeModelSort"),f=x("tableId"),_=({model:S}={})=>{if(n.value&&!S)return;n.value=!0;const L=S||W(c.value);L.length<i.value&&L.push(void 0),d.value||L.length>1&&(L.length=1);const D=[];k(L,O=>{const P=O&&O.replace(/^-/,""),h=dt(O,"-")?"desc":"asc";D.push({sortId:P,sortMode:h})}),o.value=D,s({unappliedModelSort:D})},m=({model:S})=>!d.value||S.length>=i.value?!1:!!rt(S).sortId,b=({fullModel:S})=>{m({model:S})&&S.push({sortId:void 0,sortMode:"asc"}),o.value=S,s({unappliedModelSort:o.value})},p=({item:S})=>{var P,h;const L=S.additionalProps.index;L===o.value.length-1?o.value[L].sortId=void 0:o.value.splice(L,1);const O=o.value.length-1;(h=(P=o.value)==null?void 0:P[O])!=null&&h.sortId&&o.value.push({sortId:void 0,sortMode:"asc"}),s({unappliedModelSort:o.value})},v=()=>{const S=[];k(o.value,L=>{L.sortId&&S.push(`${L.sortMode==="asc"?"":"-"}${L.sortId}`)}),r({modelAll:S}),t()},g=({modelSort:S=[],tableId:L})=>{L===f.value&&_({model:S})},I=()=>{Le.$on("changeTableSorting",g)},C=()=>{Le.$off("changeTableSorting",g)},w=l(()=>{var S;return((S=c.value)==null?void 0:S.length)||0}),A=l(()=>{if(w.value)return w.value});return{changeModelSortInTable:v,countModelSort:w,destroyEventBus:C,initEventBus:I,initUnappliedModelSort:_,removeUnappliedModelSort:p,textCountModelSort:A,updateUnappliedModelSort:b}}const Ki={name:"ATableSortingAdditional",props:{additionalSortingColumns:{type:Array,required:!1,default:()=>[]},disabledSort:{type:Boolean,required:!1},isSortingMultiColumn:{type:Boolean,required:!1,default:!1},modelSort:{type:Array,required:!1}},setup(e){const t=T([]),{columnsAll:i,columnsAllKeyBySortId:s,countColumnsAll:o}=$i(e),{dataForForm:n,initDataForForm:d}=ji(e,{columnsAll:i,columnsAllKeyBySortId:s,unappliedModelSort:t}),{closeDropdown:c,dropdownRef:r,isDropdownVisible:f,wasOpenDropdown:_}=zi(e,{columnsAll:i}),{changeModelSortInTable:m,countModelSort:b,destroyEventBus:p,initEventBus:v,initUnappliedModelSort:g,removeUnappliedModelSort:I,textCountModelSort:C,updateUnappliedModelSort:w}=Xi(e,{closeDropdown:c,countColumnsAll:o,initDataForForm:d,unappliedModelSort:t,wasOpenDropdown:_}),{excludeRenderAttributes:A,idPrefix:S}=Hi();return v(),Te(()=>{p()}),{changeModelSortInTable:m,closeDropdown:c,countModelSort:b,dataForForm:n,dropdownRef:r,excludeRenderAttributes:A,idPrefix:S,initUnappliedModelSort:g,isDropdownVisible:f,removeUnappliedModelSort:I,textCountModelSort:C,unappliedModelSort:t,updateUnappliedModelSort:w,wasOpenDropdown:_}},render(){return this.isDropdownVisible?a(be,{ref:"dropdownRef",buttonClass:"a_btn a_btn_secondary a_table__action",buttonIconLeft:Je,buttonText:this.textCountModelSort,buttonTextAriaHidden:!0,buttonTitle:"_A_TABLE_SORT_ADDITIONAL_DROPDOWN_TITLE_{{count}}_",buttonTextScreenReader:"_A_TABLE_SORT_ADDITIONAL_DROPDOWN_TITLE_{{count}}_",buttonTextClass:"a_badge a_bg_primary",disabled:this.disabledSort,dropdownClass:"a_filter_horizontal__wrapper",dropdownRenderDefault:!1,dropdownTag:"div",hasCaret:!1,inBody:!0,extra:{count:this.countModelSort},isCloseByClickInside:!1,lockArrowsNavigation:!1,lockTabNavigation:!1,onOpen:this.initUnappliedModelSort},{dropdown:()=>a("div",{class:"a_filter_horizontal"},[a("div",{class:"a_filter_horizontal__header__wrapper"},[a("div",{class:"a_filter_horizontal__header"},[a("div",{class:"a_filter_horizontal__header__texts"},[a(F,{class:"a_filter_horizontal__header__texts__filter",tag:"span",text:"_A_TABLE_SORT_ADDITIONAL_HEADER_"})])])]),a("div",{class:"a_filter_horizontal__body__wrapper"},[a("div",{class:"a_filter_horizontal__body"},[a(Ol,{idPrefix:this.idPrefix,class:"a_filter_horizontal__body__form",classColumnDefault:"",classColumns:"",data:this.dataForForm,excludeRenderAttributes:this.excludeRenderAttributes,modelValue:this.unappliedModelSort,showErrors:!1,onChange:this.updateUnappliedModelSort},{slotAppend:({item:e})=>{var t,i;return a(X,{type:"button",class:"a_btn a_btn_primary a_ml_2",title:"_A_TABLE_SORT_ADDITIONAL_BTN_DELETE_",textScreenReader:"_A_TABLE_SORT_ADDITIONAL_BTN_DELETE_",disabled:!((i=(t=this.unappliedModelSort)==null?void 0:t[e.additionalProps.index])!=null&&i.sortId),iconLeft:Ie,onClick:()=>this.removeUnappliedModelSort({item:e})})}})]),a("div",{class:"a_filter_horizontal__footer"},[a("div",{class:"a_filter_horizontal__footer__actions"},[a(X,{type:"button",class:"a_btn a_btn_primary a_text_nowrap a_filter_horizontal__footer__actions__btn_search",iconLeft:Je,text:"_A_TABLE_SORT_ADDITIONAL_START_",disabled:this.disabledSort,onClick:this.changeModelSortInTable}),a(X,{type:"button",class:"a_btn a_btn_secondary a_text_nowrap a_filter_horizontal__footer__actions__btn_close",text:"_A_TABLE_SORT_ADDITIONAL_CLOSE_DROPDOWN_",onClick:this.closeDropdown})])])])])}):null}};function Qi(e,{emit:t}){const i=u(e,"areAllRowsSelected"),s=u(e,"closeMultipleActionsActive"),o=u(e,"multipleActions"),n=u(e,"selectedRows"),d=u(e,"tableActions"),c=x("tableId"),r=x("currentMultipleActions"),f=x("rowsLocalAll"),{closeConfirm:_,openConfirm:m}=Dl(),b=l(()=>`${c.value}_btn_multiple`),p=l(()=>{const A=[];return k(W(d.value),S=>{if(!S.isHidden){if(V(S.callback)){const L=S.callback;S.callback=()=>L({id:S.id,action:S})}A.push(S)}}),A}),v=({action:A,callbackDefault:S})=>{const L=W(A);L.callback=S,t("toggleMultipleActionsActive",{isActive:!0,action:L})},g=()=>{t("toggleMultipleActionsActive",{action:r.value})},I=l(()=>{const A=W(o.value);return k(A,S=>{if(V(S.callback)){const L=S.callback;S.callback=()=>v({action:S,callbackDefault:L})}}),A}),C=async()=>{await r.value.callback({close:s.value,rows:n.value,rowsVisible:f.value,id:b.value,areAllRowsSelected:i.value,action:r.value}),_(),g()};return{buttonMultipleId:b,currentMultipleActions:r,multipleActionsFiltered:I,onCancelMultipleActions:g,onOpenModalMultipleActions:()=>{r.value.isConfirm?m({headerText:"_A_TABLE_EXECUTE_MULTIPLE_ACTION_",bodyHtml:"_A_TABLE_EXECUTE_MULTIPLE_ACTION_BODY_HTML_{{action}}_{{selectedRows}}_",saveButtonText:"_A_TABLE_EXECUTE_MULTIPLE_ACTION_BTN_SAVE_",extra:{action:Me({placeholder:r.value.text}),selectedRows:n.value.length},save:C}):r.value.callback({close:s.value,rows:n.value,rowsVisible:f.value,id:b.value,areAllRowsSelected:i.value,action:r.value})},tableActionsFiltered:p}}function Yi(e){const t=u(e,"countAllRows"),{filterFloat:i}=ue();return{countAllRowsFormatted:l(()=>`(${i(t.value,{digits:0})})`)}}function Zi(){const e=x("tableId");return{tableLabelId:l(()=>gt({tableId:e.value}))}}function Ji(e,{emit:t}){const i=u(e,"areAllRowsSelected"),s=u(e,"areSomeRowsSelected"),o=u(e,"countAllRows"),n=u(e,"isLoadingMultipleActions"),d=u(e,"selectedRows"),c=x("tableId"),{filterFloat:r}=ue(),f=l(()=>At({tableId:c.value})),_=l(()=>i.value?o.value:d.value.length),m=l(()=>({countSelectedRows:_.value,countSelectedRowsFiltered:r(_.value,{digits:0}),countAllRows:o.value,countAllRowsFiltered:r(o.value,{digits:0})})),b=l(()=>i.value?"_A_TABLE_DESELECT_ALL_ROWS_{{countAllRows}}_{{countAllRowsFiltered}}_":"_A_TABLE_SELECT_ALL_ROWS_{{countAllRows}}_{{countAllRowsFiltered}}_"),p=l(()=>!!(n.value||o.value===0)),v=()=>{p.value||t("toggleBtnAllRows")};return{isBtnMultipleActionDisabled:l(()=>!s.value&&!i.value),isBtnSelectAllRowsDisabled:p,multiplePanelId:f,textMultipleBtnAllRowsTranslate:b,textMultipleSelectedTranslateExtra:m,toggleBtnAllRows:v}}function es(e,{emit:t}){const i=u(e,"useViewSlot"),s=n=>{t("updateViewCurrent",n)},o=l(()=>i.value?"viewSlot":void 0);return{updateViewCurrentLocal:s,viewSlotLocal:o}}const ts={name:"ATableTopPanel",props:{additionalSortingColumns:{type:Array,required:!1,default:()=>[]},areAllRowsSelected:{type:Boolean,required:!0},areSomeRowsSelected:{type:Boolean,required:!0},closeMultipleActionsActive:{type:Function,required:!0},countAllRows:{type:Number,required:!0},disabledActions:{type:Boolean,required:!0},disabledMultipleActions:{type:Boolean,required:!0},disabledSort:{type:Boolean,required:!1},disabledViews:{type:Boolean,required:!0},extra:{type:Object,required:!1,default:void 0},hasViews:{type:Boolean,required:!0},isLabelVisible:{type:Boolean,required:!1},isLoadingMultipleActions:{type:Boolean,required:!1},isQuickSearch:{type:Boolean,required:!1},isSortingMultiColumn:{type:Boolean,required:!1,default:!1},label:{type:[String,Number],required:!1,default:""},labelClass:{type:[String,Object],required:!1,default:void 0},labelTag:{type:String,required:!0},modelQuickSearch:{type:String,required:!0},modelSort:{type:Array,required:!1},modelView:{type:String,required:!1,default:void 0},multipleActions:{type:Array,required:!0},selectedRows:{type:Array,required:!0},showCount:{type:Boolean,required:!1,default:!0},tableActions:{type:Array,required:!0},tableActionsIndexFirstDropdownAction:{type:Number,required:!1,default:-1},tableActionsIndexFirstDropdownActionMobile:{type:Number,required:!1,default:0},useAdditionalSorting:{type:Boolean,required:!1,default:!0},useViewSlot:{type:Boolean,required:!1},viewCurrent:{type:Object,required:!1,default:void 0},views:{type:Array,required:!0}},emits:["toggleBtnAllRows","toggleMultipleActionsActive","updateModelQuickSearch","updateViewCurrent"],inject:["isMultipleActionsActive","rowsLocalAll","tableId"],setup(e,t){const{tableLabelId:i}=Zi(),{filterCurrency:s}=ue(),{buttonMultipleId:o,currentMultipleActions:n,multipleActionsFiltered:d,onCancelMultipleActions:c,onOpenModalMultipleActions:r,tableActionsFiltered:f}=Qi(e,t),{isBtnMultipleActionDisabled:_,isBtnSelectAllRowsDisabled:m,multiplePanelId:b,textMultipleBtnAllRowsTranslate:p,textMultipleSelectedTranslateExtra:v,toggleBtnAllRows:g}=Ji(e,t),{updateViewCurrentLocal:I,viewSlotLocal:C}=es(e,t),{countAllRowsFormatted:w}=Yi(e);return{buttonMultipleId:o,countAllRowsFormatted:w,currentMultipleActions:n,filterCurrency:s,isBtnMultipleActionDisabled:_,isBtnSelectAllRowsDisabled:m,multipleActionsFiltered:d,multiplePanelId:b,onCancelMultipleActions:c,onOpenModalMultipleActions:r,tableActionsFiltered:f,tableLabelId:i,textMultipleBtnAllRowsTranslate:p,textMultipleSelectedTranslateExtra:v,toggleBtnAllRows:g,updateViewCurrentLocal:I,viewSlotLocal:C}},methods:{updateModelQuickSearch(e){this.$emit("updateModelQuickSearch",e)}},render(){var e,t,i,s;return[a("div",{class:"a_table__top_panel"},[this.isLabelVisible?this.$slots.tableLabel?this.$slots.tableLabel({countAllRows:this.countAllRows,tableLabelId:this.tableLabelId}):a(this.labelTag,{class:["a_table__top_panel__label",this.labelClass]},[a(F,{id:this.tableLabelId,tag:"span",class:"a_table__top_panel__label__text",text:this.label,extra:this.extra}),this.showCount?a(X,{class:"a_table__top_panel__label__count",extra:{count:this.countAllRows},tag:"span",text:this.countAllRowsFormatted,textAriaHidden:!0,textScreenReader:"_A_TABLE_ALL_ROWS_{{count}}_",title:"_A_TABLE_ALL_ROWS_{{count}}_",type:"text"}):""]):"",a("div",{class:"a_table__top_panel__actions"},[this.$slots.tableActionsPrepend?this.$slots.tableActionsPrepend({isMultipleActionsActive:this.isMultipleActionsActive,modelView:this.modelView}):"",a(xe,{actions:this.tableActionsFiltered,actionsClasses:[],disabled:this.isMultipleActionsActive||this.disabledActions,indexFirstDropdownAction:this.tableActionsIndexFirstDropdownAction,indexFirstDropdownActionMobile:this.tableActionsIndexFirstDropdownActionMobile,minDropdownActions:0,dropdownAttributes:{buttonClass:"a_btn a_btn_secondary a_table__action",buttonIconLeft:Fe,buttonText:{desktop:"_A_TABLE_ACTIONS_"},hasCaret:!1,inBody:!0,placement:"bottom-end"}}),a(xe,{actions:this.multipleActionsFiltered,actionsClasses:[],disabled:this.isMultipleActionsActive||this.disabledMultipleActions,indexFirstDropdownAction:0,indexFirstDropdownActionMobile:0,minDropdownActions:0,dropdownAttributes:{id:this.buttonMultipleId,buttonClass:"a_btn a_btn_secondary a_table__action",buttonText:{desktop:"_A_TABLE_MULTIPLE_ACTIONS_"},buttonIconLeft:ni,inBody:!0,placement:"bottom-end"}}),this.isQuickSearch?a(ot,{label:"_A_TABLE_QUICK_SEARCH_",class:"a_table__top_panel__actions__quick_search",modelUndefined:"",modelValue:this.modelQuickSearch,iconPrepend:ai,"onUpdate:modelValue":this.updateModelQuickSearch}):"",this.hasViews?a(Ml,{modelValue:this.modelView,class:"a_d_inline_block",isButtonGroup:!0,disabled:this.disabledViews,slotName:this.viewSlotLocal,data:this.views,keyId:"id",keyLabel:"label",hasBorder:!1,classFieldset:"a_p_0","onUpdate:modelValue":this.updateViewCurrentLocal},{viewSlot:o=>this.$slots.viewSlot&&this.$slots.viewSlot({...o})}):"",this.useAdditionalSorting?a(Ki,{additionalSortingColumns:this.additionalSortingColumns,disabledSort:this.disabledSort,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSort}):"",this.$slots.tableActionsAppend?this.$slots.tableActionsAppend({isMultipleActionsActive:this.isMultipleActionsActive,modelView:this.modelView}):""])]),this.isMultipleActionsActive&&this.currentMultipleActions?a("div",{id:this.multiplePanelId,class:"a_table__multiple_panel"},[a("div",{class:"a_table__multiple_panel__header"},[a(F,{class:"a_table__multiple_panel__header__text",tag:"strong",text:"_A_TABLE_MULTIPLE_ACTIONS_"}),a("div",{class:"a_table__multiple_panel__items"},[a(F,{class:"a_table__multiple_panel__items__selected",tag:"span",text:"_A_TABLE_MULTIPLE_ITEMS_SELECTED_{{countSelectedRows}}_{{countAllRows}}_{{countSelectedRowsFiltered}}_{{countAllRowsFiltered}}_",extra:this.textMultipleSelectedTranslateExtra}),((e=this.currentMultipleActions)==null?void 0:e.isAllRowsSelected)&&a(te,{class:"a_btn a_btn_secondary a_table__multiple_panel__btn_all_rows",type:"button",text:this.textMultipleBtnAllRowsTranslate,extra:this.textMultipleSelectedTranslateExtra,disabled:this.isBtnSelectAllRowsDisabled||this.disabledMultipleActions,loading:this.isLoadingMultipleActions,onClick:this.toggleBtnAllRows})])]),a("div",{class:"a_table__multiple_panel__actions"},[(t=this.currentMultipleActions)!=null&&t.slot&&this.$slots.multipleActionActiveSlot?this.$slots.multipleActionActiveSlot({disabled:this.isBtnMultipleActionDisabled||this.isLoadingMultipleActions||this.disabledMultipleActions,loading:this.isLoadingMultipleActions,text:(i=this.currentMultipleActions)==null?void 0:i.text,action:this.currentMultipleActions,onClick:this.onOpenModalMultipleActions,close:this.closeMultipleActionsActive,rows:this.selectedRows,rowsVisible:this.rowsLocalAll,id:this.buttonMultipleId,areAllRowsSelected:this.areAllRowsSelected,countAllRows:this.countAllRows}):a(te,{class:"a_btn a_btn_primary a_table__action",type:"button",disabled:this.isBtnMultipleActionDisabled||this.isLoadingMultipleActions||this.disabledMultipleActions,text:(s=this.currentMultipleActions)==null?void 0:s.text,loading:this.isLoadingMultipleActions,loadingAlign:"left",onClick:this.onOpenModalMultipleActions}),a(te,{class:"a_btn a_btn_secondary a_table__action",type:"button",text:"_A_TABLE_MULTIPLE_CANCEL_",onClick:this.onCancelMultipleActions})])]):""]}};function ls(){const e=T(void 0);return{componentRef:e,setFocusToComponent:()=>{var i;(i=e.value)==null||i.focus({preventScroll:!0})}}}const is={name:"ATablePreviewDown",props:{row:{type:Object,required:!0},rowIndex:{type:Number,required:!0}},inject:["onTogglePreview"],setup(){const{componentRef:e,setFocusToComponent:t}=ls();return qe(()=>{t()}),{componentRef:e}},render(){return a("div",{ref:"componentRef",class:"a_table__preview_down",tabindex:-1},[a(F,{class:"a_sr_only",text:"_A_TABLE_PREVIEW_DOWN_ARIA_LABEL_"}),this.$slots.preview&&this.$slots.preview({row:this.row,rowIndex:this.rowIndex}),a(te,{class:"a_btn a_btn_transparent_dark a_table__preview_down__btn_close",iconLeft:Ie,iconClass:"a_table__preview_down__btn_close__icon",title:"_A_TABLE_PREVIEW_DOWN_CLOSE_",textScreenReader:"_A_TABLE_PREVIEW_DOWN_CLOSE_",onClick:()=>this.onTogglePreview({row:this.row,rowIndex:this.rowIndex})})])}};function ss(e){const t=u(e,"column"),i=u(e,"disabledPreview"),s=u(e,"isFooter"),o=x("hasPreview"),n=x("isMobile"),{columnsStyles:d}=Rt(e);return{attributesForTd:l(()=>{const r={class:["a_table__td a_table__cell",{a_table__cell_click:o.value&&!s.value&&!i.value},t.value.classRowParent],style:d.value};return n.value||(r.role="cell"),r})}}function yt(e){const t=u(e,"column"),i=u(e,"row"),s=l(()=>!!t.value.to),o=l(()=>{if(Ne(t.value.to))return t.value.to;if(Se(t.value.to)){const d=W(t.value.to),c=d.params||{},r=d.query||{};if(t.value.to.nameDynamic&&!t.value.to.name){const f=U(i.value,t.value.to.nameDynamic);f&&(d.name=f)}if(t.value.to.paramsDynamic){let f=!1;if(k(t.value.to.paramsDynamic,(_,m)=>{const b=U(i.value,_);if(z(b))return f=!0,!1;c[m]=b}),f)return}if(t.value.to.queryDynamic){let f=!1;if(k(t.value.to.queryDynamic,(_,m)=>{const b=U(i.value,_);if(z(b))return f=!0,!1;r[m]=b}),f)return}return d.params=c,d.query=r,d}});return{classForLink:l(()=>"a_btn a_btn_link a_p_0 a_text_left"),isLink:s,toLocal:o}}function Lt(e){const t=u(e,"column"),i=u(e,"isFooter"),s=l(()=>i.value?t.value.footerSlot:t.value.slot);return{hasSlot:l(()=>!!s.value),slotName:s}}function Pt(e){const t=u(e,"column"),i=u(e,"isFooter"),s=u(e,"row"),o=x("columnsDefaultValue"),n=x("valuesForColumnDefault"),d=l(()=>i.value&&"footerDefaultValue"in t.value?t.value.footerDefaultValue:"defaultValue"in t.value?t.value.defaultValue:z(o.value)?"":o.value),c=l(()=>i.value?t.value.footerKeyLabel:t.value.keyLabel),r=l(()=>i.value?t.value.footerKeyLabelSafeHtml:t.value.keyLabelSafeHtml),f=l(()=>i.value?t.value.footerKeyLabelHtml:t.value.keyLabelHtml),_=l(()=>{if(c.value)return U(s.value,c.value)}),m=l(()=>{if(r.value)return U(s.value,r.value)}),b=l(()=>{if(f.value)return U(s.value,f.value)}),p=w=>{let A=!1;return k(n.value,S=>{if(w===S)return A=!0,!1}),A?d.value:w},v=l(()=>p(_.value)),g=l(()=>p(m.value)),I=l(()=>p(b.value));return{textOrHtmlRender:l(()=>{if(c.value)return a("span",null,v.value);if(r.value)return a("div",{innerHTML:g.value});if(f.value)return ht(a("div"),[[st,I.value]])})}}const lt={name:"ATableTd",props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},disabledPreview:{type:Boolean,required:!1},isFooter:{type:Boolean,required:!1},level:{type:Number,required:!0},row:{type:Object,required:!0},rowIndex:{type:Number,required:!0},showIconChildren:{type:Boolean,required:!1}},inject:["isMobile","rowsLocalAll"],setup(e){const{attributesForTd:t}=ss(e),{classForLink:i,isLink:s,toLocal:o}=yt(e),{hasSlot:n,slotName:d}=Lt(e),{textOrHtmlRender:c}=Pt(e);return{attributesForTd:t,classForLink:i,hasSlot:n,isLink:s,slotName:d,textOrHtmlRender:c,toLocal:o}},render(){const e=a("div",this.attributesForTd,[a("div",{class:["a_table__cell__child",this.column.class,this.column.classRow]},[this.showIconChildren?a(X,{"aria-hidden":!0,class:"a_table__row_level__icon",classDefault:"",iconLeft:ft,type:"text"}):"",this.hasSlot&&this.$slots[this.slotName]?this.$slots[this.slotName]({column:this.column,columnIndex:this.columnIndex,level:this.level,row:this.row,rowIndex:this.rowIndex,rows:this.rowsLocalAll}):this.isLink&&this.toLocal?a(Ve("RouterLink"),{class:[this.column.class,this.classForLink,this.column.classRow],to:this.toLocal},()=>[this.textOrHtmlRender]):this.textOrHtmlRender])]);return this.isMobile?[a(F,{html:this.column.label,tag:"dt"}),a("dd",{},[e])]:e}},os={name:"ATableListItem",inject:["rowsLocalAll"],props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},row:{type:Object,required:!0},rowIndex:{type:Number,required:!0},isFooter:{type:Boolean,required:!1}},setup(e){const{classForLink:t,isLink:i,toLocal:s}=yt(e),{hasSlot:o,slotName:n}=Lt(e),{textOrHtmlRender:d}=Pt(e);return{classForLink:t,hasSlot:o,isLink:i,slotName:n,textOrHtmlRender:d,toLocal:s}},render(){return[a(F,{text:this.column.label,tag:"dt"}),a("dd",null,this.hasSlot&&this.$slots[this.slotName]?this.$slots[this.slotName]({column:this.column,columnIndex:this.columnIndex,row:this.row,rowIndex:this.rowIndex,rows:this.rowsLocalAll}):this.isLink&&this.toLocal?[a(Ve("RouterLink"),{class:[this.column.class,this.classForLink,this.column.classRow],to:this.toLocal},()=>[this.textOrHtmlRender])]:[this.textOrHtmlRender])]}};function ns(){const e=x("columnsScrollInvisible"),t=x("modelIsTableWithoutScroll"),i=l(()=>e.value.length),s=l(()=>t.value?i.value>0:!1);return{columnsScrollInvisibleText:l(()=>i.value===1?"_A_TABLE_DROPDOWN_HIDE_FIELD_TEXT_":"_A_TABLE_DROPDOWN_HIDE_FIELDS_TEXT_{{count}}_"),countColumnsScrollInvisible:i,isColumnsScrollInvisibleDropdownVisible:s}}function as(e){const t=u(e,"columnActionsView"),i=u(e,"isFooter"),s=u(e,"row"),o=u(e,"rowIndex"),n=x("columnActionsOnePlusDropdownOptions"),d=x("rowActions"),c=x("tableId"),r=l(()=>`${c.value}_action_${o.value}`),f=l(()=>z(n.value.indexFirstDropdownAction)?1:n.value.indexFirstDropdownAction),_=({rowAction:h})=>{if(h.text)return h.text;if(V(h.textCallback))return h.textCallback({row:s.value,rowIndex:o.value,rowAction:h})},m=({rowAction:h})=>{if(h.html)return h.html;if(V(h.htmlCallback))return h.htmlCallback({row:s.value,rowIndex:o.value,rowAction:h})},b=({rowAction:h})=>{if(h.title)return h.title;if(V(h.titleCallback))return h.titleCallback({row:s.value,rowIndex:o.value,rowAction:h})},p=({rowAction:h})=>h.disabled?h.disabled:V(h.disabledCallback)?h.disabledCallback({row:s.value,rowIndex:o.value,rowAction:h}):!1,v=({rowAction:h})=>h.class?h.class:V(h.classCallback)?h.classCallback({row:s.value,rowIndex:o.value,rowAction:h}):"",g=({rowAction:h})=>{if(h.iconLeft)return h.iconLeft;if(V(h.iconLeftCallback))return h.iconLeftCallback({row:s.value,rowIndex:o.value,rowAction:h})},I=({rowAction:h})=>{if(h.iconRight)return h.iconRight;if(V(h.iconRightCallback))return h.iconRightCallback({row:s.value,rowIndex:o.value,rowAction:h})},C=({rowAction:h})=>{if(Ne(h.to))return h.to;if(Se(h.to)){const y=W(h.to),R=y.params||{},E=y.query||{};if(h.to.nameDynamic&&!h.to.name){const H=U(s.value,h.to.nameDynamic);H&&(y.name=H)}if(h.to.paramsDynamic){let H=!1;if(k(h.to.paramsDynamic,(j,ee)=>{const K=U(s.value,j);if(z(K))return H=!0,!1;R[ee]=K}),H)return}if(h.to.queryDynamic){let H=!1;if(k(h.to.queryDynamic,(j,ee)=>{const K=U(s.value,j);if(z(K))return H=!0,!1;E[ee]=K}),H)return}return y.params=R,y.query=E,y}},w=({rowAction:h})=>h.href?h.href:V(h.hrefCallback)?h.hrefCallback({row:s.value,rowIndex:o.value,rowAction:h}):!1,A=({rowAction:h})=>{if(h.extra)return h.extra;if(V(h.extraCallback))return h.extraCallback({row:s.value,rowIndex:o.value,rowAction:h})},S=({rowAction:h})=>{if(h.textScreenReader)return h.textScreenReader;if(V(h.textScreenReaderCallback))return h.textScreenReaderCallback({row:s.value,rowIndex:o.value,rowAction:h})},L=({rowActionIndexVisible:h})=>{if(t.value==="dropdown")return{id:r.value,ids:[r.value,c.value]};if(h<f.value){const y=`${r.value}_${h}`;return{buttonId:y,id:y,ids:[y,c.value]}}return{id:r.value,ids:[r.value,c.value]}},D=h=>{k(h,(y,R)=>{Wl(R,"Callback")&&(h[R]=void 0)})},O=l(()=>{const h=[];let y=0;return k(W(d.value),R=>{if(Ct({rowAction:R,row:s.value,rowIndex:o.value})){if(R.type!=="divider"){const E=_({rowAction:R});E&&(R.text=E);const H=m({rowAction:R});H&&(R.html=H);const j=b({rowAction:R});j?R.title=j:E&&(R.title=E);const ee=p({rowAction:R});ee&&(R.disabled=ee);const K=v({rowAction:R});K&&(R.class=K);const B=g({rowAction:R});B&&(R.iconLeft=B);const G=I({rowAction:R});G&&(R.iconRight=G);const q=A({rowAction:R});q&&(R.extra=q);const Q=S({rowAction:R});if(q&&(R.textScreenReader=Q),R.type==="link"){const M=C({rowAction:R});M?R.to=M:R.href=w({rowAction:R})}if(V(R.callback)){const{buttonId:M,id:$,ids:Y}=L({rowActionIndexVisible:y});R.id=M;const de=R.callback;R.callback=()=>de({row:s.value,rowIndex:o.value,id:$,ids:Y,rowAction:R})}D(R),y++}h.push(R)}}),h}),P=l(()=>!i.value&&O.value.length>0);return{buttonActionsId:r,isRowActionsDropdownVisible:P,rowActionsFiltered:O}}function rs(e){const t=u(e,"rowIndex");return{rowNumber:l(()=>t.value+1)}}const us={name:"ATableTdAction",props:{columnActionsBtnGroupMaxWidthStyle:{type:String,required:!1,default:void 0},columnActionsView:{type:String,required:!0},disabledRowActions:{type:Boolean,required:!1},isFooter:{type:Boolean,required:!1},isRowActionsStickyLocal:{type:Boolean,required:!0},row:{type:Object,required:!0},rowActionsClass:{type:[String,Object],required:!1,default:void 0},rowIndex:{type:Number,required:!0}},inject:["columnActionsOnePlusDropdownOptions","columnsScrollInvisible","tableId","useRem"],setup(e){const{isMobileWidth:t}=Ce(),{buttonActionsId:i,isRowActionsDropdownVisible:s,rowActionsFiltered:o}=as(e),{columnsScrollInvisibleText:n,countColumnsScrollInvisible:d,isColumnsScrollInvisibleDropdownVisible:c}=ns(),{rowNumber:r}=rs(e),{stylesThTd:f}=It();return{buttonActionsId:i,columnsScrollInvisibleText:n,countColumnsScrollInvisible:d,isColumnsScrollInvisibleDropdownVisible:c,isMobileWidth:t,isRowActionsDropdownVisible:s,rowActionsFiltered:o,rowNumber:r,stylesThTd:f}},render(){return a("div",{role:"cell",class:["a_table__td a_table__cell a_table__cell_action",{a_table__cell_action_sticky:this.isRowActionsStickyLocal}],...this.stylesThTd},[a("div",{class:["a_table__cell__child",this.rowActionsClass]},[this.isColumnsScrollInvisibleDropdownVisible&&a(be,{buttonClass:"a_btn a_btn_link a_text_nowrap",buttonIconLeft:ri,buttonIconClass:"a_table__cell_action__additional_icon",buttonTitle:"_A_TABLE_DROPDOWN_HIDE_FIELDS_TITLE_{{count}}_",buttonTextScreenReader:"_A_TABLE_DROPDOWN_HIDE_FIELDS_TITLE_{{count}}_",buttonText:this.columnsScrollInvisibleText,buttonTextClass:"a_table__cell_action__additional_text",buttonTextAriaHidden:!0,extra:{count:this.countColumnsScrollInvisible},dropdownClass:"a_p_0 a_overflow_x_hidden a_table__extra_dropdown",dropdownTag:"div",hasCaret:!1,floatingFlip:{use:!0,fallbackPlacements:["top-end","left"]},inBody:!0,placement:"bottom-end",menuWidth:600,isCloseByClickInside:!1,useRem:this.useRem},{dropdown:()=>[a("dl",{class:"a_list_dl a_list_dl_dt_right"},[this.columnsScrollInvisible.map((e,t)=>a(os,{column:e,columnIndex:t,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter},this.$slots))])]}),this.isRowActionsDropdownVisible||this.$slots.rowActions?a("div",{class:"a_table__cell_action__group"},[this.$slots.rowActions?this.$slots.rowActions({tableId:this.tableId,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter}):"",this.isRowActionsDropdownVisible?this.columnActionsView==="dropdown"||this.isMobileWidth&&this.columnActionsOnePlusDropdownOptions.indexFirstDropdownActionMobile===0?a(be,{id:this.buttonActionsId,actions:this.rowActionsFiltered,buttonClass:"a_btn a_btn_secondary a_table__cell_action__btn",buttonIconLeft:Fe,buttonTextScreenReader:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",buttonTitle:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",disabled:this.disabledRowActions,extra:{rowNumber:this.rowNumber},hasCaret:!1,inBody:!0,placement:"bottom-end",useRem:this.useRem},this.$slots):a(xe,{class:"a_d_inline_block",style:this.columnActionsBtnGroupMaxWidthStyle,actions:this.rowActionsFiltered,dropdownAttributes:{id:this.buttonActionsId,buttonClass:"a_btn a_btn_secondary a_table__cell_action__btn",buttonIconLeft:bt,buttonTextScreenReader:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",buttonTitle:"_A_TABLE_DROPDOWN_ACTIONS_TITLE_{{rowNumber}}_",extra:{rowNumber:this.rowNumber},hasCaret:!1,inBody:!0,placement:"bottom-end"},disabled:this.disabledRowActions,btnGroupClass:z(this.columnActionsOnePlusDropdownOptions.btnGroupClass)?"a_btn_group a_btn_group_table":this.columnActionsOnePlusDropdownOptions.btnGroupClass,hasDividerBeforeDropdown:this.columnActionsOnePlusDropdownOptions.hasDividerBeforeDropdown||!1,indexFirstDropdownAction:z(this.columnActionsOnePlusDropdownOptions.indexFirstDropdownAction)?1:this.columnActionsOnePlusDropdownOptions.indexFirstDropdownAction,indexFirstDropdownActionMobile:z(this.columnActionsOnePlusDropdownOptions.indexFirstDropdownActionMobile)?1:this.columnActionsOnePlusDropdownOptions.indexFirstDropdownActionMobile,minDropdownActions:z(this.columnActionsOnePlusDropdownOptions.minDropdownActions)?1:this.columnActionsOnePlusDropdownOptions.minDropdownActions,actionsClasses:this.columnActionsOnePlusDropdownOptions.actionsClasses||["a_btn a_btn_primary a_text_truncate"]},this.$slots):""]):""])])}};function ds(e,{hasChildren:t=l(()=>!1),hasPreviewLocal:i=l(()=>!1),rowClassChildren:s=l(()=>{}),rowClassLevelChildren:o=l(()=>{}),rowClassPreview:n=l(()=>{}),toggleChildren:d=()=>{}}){const c=u(e,"disabledPreview"),r=u(e,"disabledPreviewRowCallback"),f=u(e,"isFooter"),_=u(e,"isTreeCollapsible"),m=u(e,"level"),b=u(e,"row"),p=u(e,"rowClass"),v=u(e,"rowIndex"),g=x("isMobile"),I=x("onTogglePreview"),C=x("tableId"),w=l(()=>{const y=f.value?"_footer":"";return`${C.value}${y}_${v.value}`}),A=l(()=>V(p.value)?p.value({level:m.value,row:b.value,rowindex:v.value}):p.value),S=l(()=>["a_table__row a_table__body__row a_table__row_hover",s.value,o.value,n.value,A.value]),L=l(()=>g.value?"listitem":"row"),D=l(()=>V(r.value)?r.value({row:b.value,rowIndex:v.value}):c.value),O=y=>{Pi({$event:y,tagsName:["A","BUTTON","INPUT","LABEL"],classStop:"a_table__row"})||(t.value?d():i.value&&I({row:b.value,rowIndex:v.value}))},P=y=>{y.keyCode===Z.enter&&O(y)},h=l(()=>(_.value&&t.value||i.value)&&!D.value?{tabindex:0,onClick:O,onKeydown:P}:{});return{disabledPreviewRow:D,eventsLocal:h,roleLocal:L,rowClassComputed:S,rowHtmlId:w}}function cs(e,{emit:t}){const i=u(e,"areAllRowsSelected"),s=u(e,"row"),o=u(e,"rowIndex"),n=u(e,"selectedRowsIndexes"),d=x("currentMultipleActions"),c=x("isMultipleActionsActive"),r=l(()=>!!n.value[o.value]||i.value),f=l(()=>{if(c.value){if(V(U(d.value,"isHiddenCallback")))return d.value.isHiddenCallback({row:s.value,rowIndex:o.value});if(i.value)return!0}return!1}),_=l(()=>r.value?"_A_TABLE_DESELECT_THIS_ROW_":"_A_TABLE_SELECT_THIS_ROW_");return{isCheckboxDisabled:f,isRowSelected:r,labelCheckbox:_,toggleCheckbox:()=>{f.value||t("setSelectedRowsIndexes",{rowIndex:o.value})}}}function _s(e){const t=u(e,"isTree"),i=u(e,"keyChildren"),s=u(e,"level"),o=u(e,"row"),n=u(e,"rowIndex"),d=u(e,"rowsLength"),c=l(()=>{if(!i.value)return[];const b=U(o.value,i.value);return ae(b)?b:[]}),r=l(()=>c.value.length>0),f=l(()=>s.value+1),_=l(()=>t.value?{"aria-level":s.value,"aria-posinset":n.value+1,"aria-setsize":d.value}:{}),m=l(()=>{if(t.value)return`a_table__row_level a_table__row_level_${s.value}`});return{ariaTreeAttributes:_,children:c,hasChildren:r,levelForChildren:f,rowClassLevelChildren:m}}function hs(e,{hasChildren:t=l(()=>!1)}){const i=u(e,"isOneOfParentsClose"),s=u(e,"isTreeCollapsible"),o=u(e,"isTreeOpened"),n=T(!1),d=l(()=>{if(t.value)return n.value}),c=l(()=>({a_table__row_has_children:t.value,a_table__row_hide:i.value,a_table__row_level_open:t.value&&n.value})),r=l(()=>!!(i.value||!n.value));return{ariaExpanded:d,initIsChildrenOpen:()=>{(!s.value||o.value)&&(n.value=!0)},isOneOfParentsCloseForChildren:r,rowClassChildren:c,toggleChildren:()=>{n.value=!n.value}}}function bs(e){const t=u(e,"allVisibleMobileColumns"),i=u(e,"countVisibleMobileColumns"),s=x("isMobile"),o=T(!1),n=l(()=>t.value.length-i.value),d=l(()=>s.value&&t.value.length>i.value),c=l(()=>n.value===1?"_A_TABLE_MOBILE_TR_PLUS_FIELD_":"_A_TABLE_MOBILE_TR_PLUS_FIELDS_{{count}}_"),r=l(()=>o.value?"_A_TABLE_MOBILE_TR_CLOSE_":c.value);return{countInvisibleMobileColumns:n,isAllColumnsVisibleMobile:o,isBtnToggleAllColumnsVisible:d,textBtnToggleAllColumns:r,toggleAllColumnsVisibleMobile:({$event:_})=>{o.value=!o.value,_.stopPropagation()}}}function fs(e,{hasChildren:t=l(()=>!1)}){const i=u(e,"isFooter"),s=u(e,"rowIndex"),o=x("hasPreview"),n=x("previewRightRowIndex"),d=x("previewRightRowIndexLast"),c=l(()=>!!(!t.value&&o.value&&!i.value)),r=l(()=>s.value===n.value),f=l(()=>!r.value&&s.value===d.value),_=l(()=>Me({placeholder:r.value?"_A_TABLE_ROW_PREVIEW_CLOSE_":"_A_TABLE_ROW_PREVIEW_OPEN_"})),m=l(()=>c.value?{"aria-label":_.value}:{}),b=l(()=>{if(c.value)return{a_table__row_preview_open:r.value,a_table__row_preview_was_open:f.value}});return{hasPreviewLocal:c,previewAttributes:m,rowClassPreview:b}}const it={name:"ATableTr",props:{allVisibleMobileColumns:{type:Array,required:!0},areAllRowsSelected:{type:Boolean,required:!0},columnActionsBtnGroupMaxWidthStyle:{type:String,required:!1,default:void 0},columnActionsView:{type:String,required:!0},countVisibleMobileColumns:{type:Number,required:!0},disabledPreview:{type:Boolean,required:!1},disabledPreviewRowCallback:{type:Function,required:!1},disabledRowActions:{type:Boolean,required:!1},isFooter:{type:Boolean,required:!1},isOneOfParentsClose:{type:Boolean,required:!1},isPreviewDownOpen:{type:Boolean,required:!1},isRowActionsStickyLocal:{type:Boolean,required:!0},isTree:{type:Boolean,required:!1},isTreeCollapsible:{type:Boolean,required:!1,default:!0},isTreeOpened:{type:Boolean,required:!1},keyChildren:{type:String,required:!1,default:void 0},keyId:{type:String,required:!1,default:"id"},level:{type:Number,required:!0},row:{type:Object,required:!0},rowActionsClass:{type:[String,Object],required:!1,default:void 0},rowClass:{type:[String,Object,Function],required:!1,default:void 0},rowIndex:{type:Number,required:!0},rowsLength:{type:Number,required:!0},selectedRowsIndexes:{type:Object,required:!0}},emits:["setSelectedRowsIndexes"],setup(e,t){const{ariaTreeAttributes:i,children:s,hasChildren:o,levelForChildren:n,rowClassLevelChildren:d}=_s(e),{ariaExpanded:c,initIsChildrenOpen:r,isOneOfParentsCloseForChildren:f,rowClassChildren:_,toggleChildren:m}=hs(e,{hasChildren:o}),{hasPreviewLocal:b,previewAttributes:p,rowClassPreview:v}=fs(e,{hasChildren:o}),{disabledPreviewRow:g,eventsLocal:I,roleLocal:C,rowClassComputed:w,rowHtmlId:A}=ds(e,{hasChildren:o,hasPreviewLocal:b,rowClassChildren:_,rowClassLevelChildren:d,rowClassPreview:v,toggleChildren:m}),{countInvisibleMobileColumns:S,isAllColumnsVisibleMobile:L,isBtnToggleAllColumnsVisible:D,textBtnToggleAllColumns:O,toggleAllColumnsVisibleMobile:P}=bs(e),{isCheckboxDisabled:h,isRowSelected:y,labelCheckbox:R,toggleCheckbox:E}=cs(e,t);return r(),{ariaExpanded:c,ariaTreeAttributes:i,children:s,countInvisibleMobileColumns:S,disabledPreviewRow:g,eventsLocal:I,hasChildren:o,isAllColumnsVisibleMobile:L,isBtnToggleAllColumnsVisible:D,isCheckboxDisabled:h,isOneOfParentsCloseForChildren:f,isRowSelected:y,labelCheckbox:R,levelForChildren:n,previewAttributes:p,roleLocal:C,rowClassComputed:w,rowHtmlId:A,textBtnToggleAllColumns:O,toggleAllColumnsVisibleMobile:P,toggleCheckbox:E,toggleChildren:m}},inject:["columnsFilteredForRender","isActionColumnVisible","isMultipleActionsActive","isMobile"],render(){let e=[];this.isMobile&&!this.isAllColumnsVisibleMobile?k(this.allVisibleMobileColumns,(s,o)=>{if(o+1>this.countVisibleMobileColumns)return!1;e.push(a(lt,{key:s.id,column:s,columnIndex:o,disabledPreview:this.disabledPreviewRow,level:this.level,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter},this.$slots))}):e=this.columnsFilteredForRender.map((s,o)=>a(lt,{key:s.id,column:s,columnIndex:o,disabledPreview:this.disabledPreviewRow,level:this.level,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter,showIconChildren:!!(this.isTreeCollapsible&&this.hasChildren&&o===0)},this.$slots));const t=this.isActionColumnVisible&&a(us,{columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,disabledRowActions:this.disabledRowActions,row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter,rowActionsClass:this.rowActionsClass,isRowActionsStickyLocal:this.isRowActionsStickyLocal},this.$slots),i=this.isMobile?a("div",{class:"a_table_mobile__dl__wrapper"},[this.$slots.rowMobilePrepend?this.$slots.rowMobilePrepend({row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter}):"",this.isTreeCollapsible&&this.hasChildren?a(X,{"aria-hidden":!0,class:"a_table__row_level__icon",classDefault:"",iconLeft:ft,type:"text"}):"",a("dl",{class:"a_table_mobile__dl"},e),this.$slots.rowMobileAppend?this.$slots.rowMobileAppend({row:this.row,rowIndex:this.rowIndex,isFooter:this.isFooter}):""]):e;return[a("div",{id:this.rowHtmlId,role:this.roleLocal,class:this.rowClassComputed,"aria-expanded":this.ariaExpanded,...this.previewAttributes,...this.ariaTreeAttributes,...this.eventsLocal},[this.isMultipleActionsActive&&a("div",{class:"a_table__td a_table__cell a_table__cell_checkbox",style:"width: 50px; min-width: 50px; max-width: 50px;"},[!this.isFooter&&a(Ee,{isWidthAuto:!0,modelValue:this.isRowSelected,disabled:this.isCheckboxDisabled,label:this.labelCheckbox,labelClass:"a_sr_only",isLabelTitle:!0,"onUpdate:modelValue":this.toggleCheckbox})]),i,this.isMobile?a("div",{class:"a_table_mobile__actions_parent"},[this.isBtnToggleAllColumnsVisible&&a(X,{class:"a_btn a_btn_link a_table_mobile__columns_btn_toggle",extra:{count:this.countInvisibleMobileColumns},text:this.textBtnToggleAllColumns,type:"button",onClick:this.toggleAllColumnsVisibleMobile}),t]):t]),this.isPreviewDownOpen&&a(is,{row:this.row,rowIndex:this.rowIndex},{preview:s=>this.$slots.preview?this.$slots.preview(s):void 0}),this.hasChildren?this.children.map((s,o)=>a(Ve("ATableTr"),{key:s[this.keyId]||o,allVisibleMobileColumns:this.allVisibleMobileColumns,areAllRowsSelected:this.areAllRowsSelected,columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,countVisibleMobileColumns:this.countVisibleMobileColumns,disabledPreview:this.disabledPreviewRow,disabledRowActions:this.disabledRowActions,isFooter:this.isFooter,isOneOfParentsClose:this.isOneOfParentsCloseForChildren,isPreviewDownOpen:!1,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isTree:this.isTree,isTreeCollapsible:this.isTreeCollapsible,isTreeOpened:this.isTreeOpened,keyChildren:this.keyChildren,keyId:this.keyId,level:this.levelForChildren,row:s,rowActionsClass:this.rowActionsClass,rowClass:this.rowClass,rowIndex:o,rowsLength:this.children.length,selectedRowsIndexes:this.selectedRowsIndexes},{get:n=>[a(Pe,{data:n.row,keyLabel:n.column.keyLabel,filter:n.column.filter,filterParameters:n.column.filterParameters,defaultValue:n.column.defaultValue,tag:n.column.filterTag||"div"})],...this.$slots})):""]}};function vs(e,{columnActionsWidthDefaultsRemLocal:t=l(()=>({})),columnActionsWidthMinRemLocal:i=()=>{},columnActionsWidthRemLocal:s=()=>{},isMobile:o=l(()=>!1),rowsLocal:n=T([])}){const d=u(e,"columnActionsView"),c=u(e,"rowActions"),r=l(()=>d.value==="onePlusDropdown"),f=l(()=>{let v=!1;e:for(let g=0;g<n.value.length;g++){const I=n.value[g];for(let C=0;C<c.value.length;C++){const w=c.value[C];if(Ct({rowAction:w,row:I,rowIndex:g})&&w.type!=="divider"){v=!0;break e}}}return v}),_=l(()=>!c.value.length||!r.value?!1:f.value),m=l(()=>z(s.value)?_.value&&d.value==="onePlusDropdown"?t.value.onePlusDropdown:t.value.default:s.value),b=l(()=>z(i.value)?_.value&&d.value==="onePlusDropdown"?t.value.onePlusDropdownMin:t.value.min:i.value);return{columnActionsBtnGroupMaxWidthStyle:l(()=>{const v=t.value.btnGroupMaxWidth;if(!o.value&&d.value!=="dropdown"&&!z(v))return`max-width: ${v}px`}),columnActionsWidthLocal:m,columnActionsWidthMinLocal:b,isColumnActionWide:_}}function ms(e,{columnsScrollInvisible:t=T([]),indexFirstScrollInvisibleColumn:i=T(void 0),modelColumnsVisibleLocal:s=T({}),modelIsTableWithoutScrollComputed:o=l(()=>!1),columnsOrderedFromSimpleTable:n=l(()=>[])}){const d=u(e,"columns"),c=u(e,"isActionColumnVisible"),r=u(e,"isSimpleTable"),f=u(e,"modelColumnsOrdering"),_=u(e,"multipleActions"),m=l(()=>ke(d.value,"id")),b=l(()=>{const w={true:[],false:[],trueObject:{},falseObject:{},trueColumns:[],falseColumns:[]};return k(W(d.value),A=>{const S=A.id;A.locked?(w.true.push(S),w.trueColumns.push(A),w.trueObject[S]=!0):(w.false.push(S),w.falseColumns.push(A),w.falseObject[S]=!0)}),w}),p=l(()=>{if(r.value&&n.value&&n.value.length)return n.value;if(!f.value.length)return[...b.value.trueColumns,...b.value.falseColumns];const w=[],A=W(m.value);return k(f.value,S=>{A[S]&&w.push(A[S])}),w}),v=l(()=>{const w=[],A={};return k(p.value,(S,L)=>{Di({column:S,columnIndex:L,modelIsTableWithoutScroll:o.value,modelColumnsVisibleLocal:s.value,indexFirstScrollInvisibleColumn:i.value})&&(A[w.length]=L,w.push(S))}),{columns:w,columnsIndexesMapping:A}}),g=l(()=>v.value.columnsIndexesMapping),I=l(()=>v.value.columns),C=l(()=>{let w=I.value.length;return o.value&&(w+=t.value.length),c.value&&w++,_.value.length&&w++,w});return{columnIdsGroupByLocked:b,columnsFilteredForRender:I,columnsFilteredForRenderIndexesMapping:g,columnsOrdered:p,countNotHiddenColumns:C}}function ps(e,{modelSort:t=T([])}){const i=u(e,"columns"),s=u(e,"showFirstSortingSequenceNumber"),o=u(e,"sortingSequenceNumberClass"),n=l(()=>ne(i.value,C=>xi({column:C}))),d=l(()=>le(n.value,(C,w)=>({...C,_index:C.prio||w}))),c=l(()=>le(d.value,C=>(C.group&&C.group.length&&(C.group=le(C.group,(w,A)=>[w,A].join("%%%"))),C))),r=({groups:C,group:w,level:A,columnsOrderedFromGroups:S,firstLevelGroupObject:L})=>{const D=w?ne(C,h=>Ye(h,w[A-1])):C,O=Ul(D,h=>h[A]),P=le(O,h=>{const y={id:h[A].split("%%%")[0]};let R;return A===0?(R=y,R.columnIndexes=[]):R=L,h.length>A+1?y.children=U(r({groups:C,group:h,level:A+1,columnsOrderedFromGroups:S,firstLevelGroupObject:R}),"recursiveGroup"):h.length===A+1&&(y.columns=ne(c.value,E=>Ye(E.group,h[A])),R.columnIndexes.push(...le(y.columns,"_index")),S.push(...y.columns)),y});return{columnsOrderedFromGroups:S,recursiveGroup:P}},f=l(()=>le(c.value,C=>U(C,"group",C))),_=l(()=>ne(f.value,C=>ae(C))),m=l(()=>ne(f.value,C=>!ae(C))),b=l(()=>{const C=[];return r({groups:_.value,group:null,level:0,columnsOrderedFromGroups:C})}),p=l(()=>ye([...b.value.columnsOrderedFromGroups,...m.value],"_index")),v=C=>a(De,{ref:"th",class:"a_table__cell__child_group",column:C,columnGroupNames:le(C.group,w=>w.split("%%%")[0]),columnIndex:C._index,hasMultipleActions:!1,modelSort:t.value,showFirstSortingSequenceNumber:s.value,sortingSequenceNumberClass:o.value}),g=C=>a("div",{class:"a_table__th_group"},[a("div",{class:"a_table__th_child_group"},[a("div",{class:"a_table__cell_group a_text_center"},[C.id&&a(F,{html:C.id,tag:"span","aria-hidden":!0})]),a("div",{class:"a_table__th_group_container"},C.children?le(C.children,w=>g(w)):le(C.columns,w=>v(w)))])]),I=l(()=>{const C=ye([...b.value.recursiveGroup,...m.value],w=>w.columnIndexes?Gl(w.columnIndexes):w._index);return le(C,w=>w.columnIndexes?g(w):v(w))});return{columnsOrderedFromSimpleTable:p,renderedGroupedColumns:I}}function ws(e,{emit:t},{checkVisibleColumns:i=()=>{},columnIdsGroupByLocked:s=l(()=>({true:[],false:[],trueObject:{},falseObject:{},trueColumns:[],falseColumns:[]})),columnsFilteredForRenderIndexesMapping:o=l(()=>({}))}){const n=u(e,"columns"),d=u(e,"modelColumnsOrdering"),c=({columnIndexDraggable:_,columnIndexOver:m,reset:b,inHeader:p})=>{if(_===m&&!b)return;p&&(_=o.value[_],m=o.value[m]);let v;if(b)v=[...s.value.true,...s.value.false];else{v=W(d.value);const g=v[_];v.splice(_,1),v.splice(m,0,g)}t("changeColumnsOrdering",{columnIndexDraggable:_,columnIndexOver:m,modelColumnsOrdering:v}),setTimeout(()=>{i()})},r=()=>{let _=[],m=!1;if(!d.value.length)_=[...s.value.true,...s.value.false];else{_=[...s.value.true];const b=W(s.value.falseObject);k(d.value,p=>{b[p]&&(_.push(p),delete b[p])}),k(b,(p,v)=>{_.push(v)}),JSON.stringify(d.value)!==JSON.stringify(_)&&(m=!0)}return{shouldFixColumns:m,modelColumnsOrderingLocal:_}},f=()=>{const{shouldFixColumns:_,modelColumnsOrderingLocal:m}=r();_&&t("changeColumnsOrdering",{modelColumnsOrdering:m,shouldFixColumns:_})};return re(n,()=>{f()},{deep:!0}),{changeColumnsOrdering:c,checkColumnsOrdering:r}}function As(e){const t=u(e,"countAllRows"),i=u(e,"data"),s=u(e,"isTree"),o=u(e,"keyChildren"),n=u(e,"keyCountAllRowsInData"),d=l(()=>Se(i.value)),c=l(()=>ae(i.value));return{countAllRowsLocal:l(()=>J(t.value)?d.value?+U(i.value,n.value):c.value?s.value?El({array:i.value,keyChildren:o.value}):i.value.length:i.value.length||0:t.value)}}function gs({tableRef:e=T(void 0)}){return{scrollToTable:()=>{var s;if(e.value&&((s=e.value)!=null&&s.getBoundingClientRect)){let n=e.value.getBoundingClientRect().top+window.scrollY-window.innerHeight/2;n<0&&(n=0),document.documentElement.scrollTop=n}},setFocusToTable:()=>{e.value&&(e.value.setAttribute("tabindex","-1"),e.value.focus(),e.value.removeAttribute("tabindex"))}}}function Cs(e,{emit:t},{checkColumnsOrdering:i=()=>{},checkVisibleColumns:s=()=>{},modelColumnsVisibleLocal:o=T({})}){const n=u(e,"modelColumnsVisible"),d=u(e,"columns");return{initTable:()=>{const{shouldFixColumns:r,modelColumnsOrderingLocal:f}=i();let _=!1;ct(n.value)?o.value=W(n.value):(_=!0,o.value=mt(d.value),s()),t("initTable",W({columnsOrdering:{model:f,shouldFix:r},columnsVisible:{model:o.value,shouldFix:_}}))}}}function Ss(e,{emit:t},{closePreviewAll:i=()=>{},scrollToTable:s=()=>{},setFocusToTable:o=()=>{},viewCurrent:n=l(()=>({}))}){const d=u(e,"isTree"),c=u(e,"offsetStart"),r=u(e,"pagination"),f=T(void 0),_=T(void 0),m=()=>{f.value=r.value.limitStart||10,_.value=c.value},b=l(()=>{var C;return d.value?!1:(C=r.value)!=null&&C.use?n.value?n.value.usePagination||!1:!0:!1}),p=l(()=>r.value.position==="top"||r.value.position==="y"),v=l(()=>r.value.position==="bottom"||r.value.position==="y"||!p.value);return{changeLimit:C=>{o(),s(),f.value=C,_.value=c.value,t("changeLimit",{offset:_.value,limit:C}),i()},changeOffset:C=>{let w,A;Se(C)?(w=C.offset,A=C.reload):(w=C,A=!0),A&&(o(),s()),_.value=w,t("changeOffset",{offset:w,limit:f.value}),A&&i()},initLocalVars:m,limit:f,offset:_,usePaginationBottom:v,usePaginationLocal:b,usePaginationTop:p}}function Is({columnsOrdered:e=T([]),isMobile:t=T(!1),modelColumnsVisibleLocal:i=T({})}){return{allVisibleMobileColumns:l(()=>t.value?ne(e.value,o=>o.isRender!==!1&&i.value[o.id]!==!1):[])}}function Ts(e,{emit:t},{checkVisibleColumns:i=()=>{},isMultipleActionsActive:s=T(void 0),rowsLocalAll:o=l(()=>[]),rowsLocalLength:n=l(()=>0)}){const d=u(e,"id"),c=u(e,"multipleActions"),r=T(void 0),f=T({}),_=T(!1),m=l(()=>c.value.length>0),b=l(()=>V(U(r.value,"isHiddenCallback"))),p=l(()=>ne(o.value,(O,P)=>f.value[P])),v=()=>{f.value={}},g=()=>{s.value=!1,r.value=void 0,_.value=!1,v()},I=()=>{if(window.isScrollDisabled)return;const O=At({tableId:d.value});me({selector:`#${O}`})},C=({isActive:O,action:P}={})=>{if(O){s.value=!0,r.value=P,setTimeout(()=>{i(),I()}),t("toggleMultipleActions",{isActive:O,action:P});return}s.value?g():s.value=!0,setTimeout(()=>{i(),I()}),t("toggleMultipleActions",{isActive:O,action:P})},w=l(()=>ct(f.value)),A=l(()=>n.value>0&&n.value===w.value),S=l(()=>w.value>0);return{areAllRowsSelected:_,areAllVisibleRowsSelected:A,areSomeRowsSelected:S,closeMultipleActionsActive:g,currentMultipleActions:r,hasMultipleActions:m,selectedRows:p,selectedRowsIndexes:f,setEmptySelectedRowsIndexes:v,setSelectedRowsIndexes:({rowIndex:O,isAll:P})=>{if(P){if(S.value)v();else{const h={};b.value?Ze(n.value,y=>{r.value.isHiddenCallback({row:o.value[y],rowIndex:y})||(h[y]=!0)}):Ze(n.value,y=>{h[y]=!0}),f.value=h}return}f.value[O]?delete f.value[O]:f.value[O]=!0},toggleBtnAllRows:()=>{_.value=!_.value,_.value&&v()},toggleMultipleActionsActive:C}}function Rs(e,{emit:t},{aTableRef:i=T({}),previewBoxWidthRemLocal:s=l(()=>0),tableGrandparentRef:o=T({})}){const{previewRef:n,removePreviewRef:d}=at(),c=200,r=50;let f,_=0,m=0,b=0;const p=()=>{var y;if(!((y=i.value)!=null&&y.getBoundingClientRect))return;m=i.value.getBoundingClientRect().left},v=({clientWidth:h})=>{_=h,f=h/100*r,p()},g=({clientWidthLocal:h,clientXTableParent:y,previewBoxWidth:R})=>{if(!i.value)return;const E=h-y-R;i.value.style.width=`${E}px`},I=({clientX:h=0,previewRef:y,previewBoxWidth:R=0})=>{let E=R||_-h;E<c?E=c:E>f&&(E=f),g({clientWidthLocal:_,clientXTableParent:m,previewBoxWidth:E}),y&&(y.style.width=`${E}px`)},C=({previewRef:h})=>{U(h,"style.removeProperty")&&h.style.removeProperty("width"),U(i,"value.style.removeProperty")&&i.value.style.removeProperty("width")},w=({previewRef:h})=>{_=document.documentElement.clientWidth,b=U(o,"value.offsetWidth",0),p(),I({previewRef:h,previewBoxWidth:s.value})},A=({previewRef:h,isOpen:y})=>{y?w({previewRef:h}):C({previewRef:h})},S=({previewRightWidth:h})=>{t("mouseupResizePreviewRight",{previewRightWidth:h})},L=()=>{w({previewRef:n.value})},D=new ResizeObserver(_t(h=>{const y=h[0].contentRect;b!==y.width&&(b=y.width,L())},300)),O=()=>{D.observe(o.value)},P=()=>{D.unobserve(o.value)};return Te(()=>{d(),P()}),{addEventListenerWindowResize:O,mousedownResizePreviewRight:v,mousemoveResizePreviewRight:I,mouseupResizePreviewRight:S,removeEventListenerWindowResize:P,togglePreviewResize:A}}function ys(e,t,{aTableRef:i=T({}),isMobile:s=T(void 0),previewBoxWidthRemLocal:o=l(()=>0),rowsLocalAll:n=l(()=>[]),tableGrandparentRef:d=T({})}){const{isDropdownGlobalOpen:c}=Bl(),{addEventListenerWindowResize:r,mousedownResizePreviewRight:f,mousemoveResizePreviewRight:_,mouseupResizePreviewRight:m,removeEventListenerWindowResize:b,togglePreviewResize:p}=Rs(e,t,{aTableRef:i,previewBoxWidthRemLocal:o,tableGrandparentRef:d}),v=u(e,"keyId"),g=u(e,"preview"),I=u(e,"id"),C=t.emit,w=T({}),A=T(void 0),S=T(void 0),L=l(()=>!!g.value),D=({rowIndex:M})=>{window.isScrollDisabled||setTimeout(()=>{const $=`#${I.value}_${M}`;me({selector:$})})},O=()=>{window.isScrollDisabled||setTimeout(()=>{const M=`#${wt({tableId:I.value})}`;me({selector:M})})},P=l(()=>g.value==="right"||s.value),h=l(()=>!J(A.value)),y=()=>{D({rowIndex:A.value}),C("togglePreview",{row:n.value[A.value],rowIndex:A.value,typeToggle:"close"}),S.value=A.value,A.value=void 0,b()},R=()=>{C("togglePreview",{row:n.value[A.value],rowIndex:A.value,typeToggle:"close"}),S.value=void 0,A.value=void 0,b()},E=l(()=>g.value==="down"),H=({rowIndex:M,row:$})=>{const Y=ge({row:$,rowIndex:M,keyId:v.value});delete w.value[Y]},j=()=>{w.value={}},ee=()=>{R(),j()},K=({rowIndex:M,row:$}={})=>{P.value?y():E.value&&H({rowIndex:M,row:$})},B=({rowIndex:M})=>{!s.value&&z(A.value)&&r(),C("togglePreview",{row:n.value[M],rowIndex:M,typeToggle:"open"}),A.value=M,S.value=void 0,O()},G=({rowIndex:M})=>{A.value===M?y():B({rowIndex:M})},q=({rowIndex:M,row:$})=>{const Y=ge({row:$,rowIndex:M,keyId:v.value});w.value[Y]?delete w.value[Y]:w.value[Y]=!0};return{closePreview:K,closePreviewAll:ee,hasPreview:L,isPreviewRightOpen:h,mousedownResizePreviewRight:f,mousemoveResizePreviewRight:_,mouseupResizePreviewRight:m,onTogglePreview:({row:M,rowIndex:$})=>{if(!c.value){if(P.value){G({rowIndex:$});return}E.value&&q({row:M,rowIndex:$})}},previewDownRowIds:w,previewRightRowIndex:A,previewRightRowIndexLast:S,togglePreviewResize:p}}function Ls(e,{dataSorted:t=l(()=>[]),limit:i=T(0),offset:s=T(0),setEmptySelectedRowsIndexes:o=()=>{},usePaginationLocal:n=l(()=>!1)}){const d=u(e,"clearSelectedRowsOnDataChange"),c=u(e,"pagination"),r=u(e,"rowsCountRenderPerTick"),f=T([]),_=T([]);let m=!0,b=0,p;const v=l(()=>{if(i.value&&!c.value.isOutside&&n.value){const P=s.value,h=P+i.value;return t.value.slice(P,h)}return t.value}),g=l(()=>v.value),I=l(()=>g.value.length),C=l(()=>!!I.value),w=()=>{const P=b*r.value,h=P+r.value;le(v.value.slice(P,h),y=>_.value.push(y)),b++},A=()=>{p=setInterval(()=>{b*r.value>=v.value.length?clearInterval(p):w()})},S=()=>{clearInterval(p)},L=({row:P,rowIndex:h})=>{h>_.value.length-1||(_.value[h]=P)},D=({row:P})=>{_.value.unshift(P)},O=({index:P})=>{_.value.splice(P,1)};return re(v,P=>{Hl(P,f.value)||(f.value=[...P],!m&&d.value&&o(),m=!1,_.value=[],b=0,S(),r.value>0?(w(),A()):_.value=v.value)},{immediate:!0,deep:!0}),{addRow:D,deleteRow:O,hasRows:C,rowsLocal:_,rowsLocalAll:g,rowsLocalLength:I,stopRenderRows:S,updateRow:L}}function Ps(e,{emit:t},{columnActionsWidthLocal:i=l(()=>0),columnActionsWidthMinLocal:s=l(()=>0),columnsOrdered:o=l(()=>[]),columnsScrollInvisible:n=T([]),columnWidthDefaultRemLocal:d=l(()=>0),indexFirstScrollInvisibleColumn:c=T(void 0),isMobile:r=T(!1),isMultipleActionsActive:f=T(void 0),modelColumnsVisibleLocal:_=T({}),modelIsTableWithoutScroll:m=T(!1),modelIsTableWithoutScrollComputed:b=l(()=>!1)}){const p=u(e,"isActionColumnVisible"),v=u(e,"isSimpleTable"),g=u(e,"useRem"),{scalePxWithRem:I}=Be(),C=T(void 0),w=T(0),A=T(void 0);let S=!1;const L=20,D=B=>g.value?I(B):B,O=l(()=>p.value?s.value:0),P=l(()=>{const B=f.value?s.value:0,G=v.value?0:L;return B+G}),h=({sumGrows:B=0,freeSpaceWidth:G=0})=>{B>0?w.value=G/B:w.value=0},y=()=>{if(J(c.value)||o.value.length<c.value)n.value=[];else{const B=[];for(let G=c.value;G<o.value.length;G++){const q=o.value[G];ve({column:q,modelColumnsVisibleLocal:_.value})&&B.push(W(q))}n.value=B}},R=()=>{n.value=[],w.value=0,c.value=1e3,A.value=0},E=()=>{if(r.value||A.value===0){R();return}if(z(A.value))return;const B=A.value-P.value-O.value,G=A.value-P.value-i.value;let q=0,Q=0,M=0,$=!1;if(k(o.value,oe=>{if(!ve({column:oe,modelColumnsVisibleLocal:_.value})){Q++;return}const ie=+D(oe.width)||d.value;if(q+ie>B)return $=!0,!1;q+=ie,Q++,M+=J(oe.grow)?1:oe.grow}),$&&q>G)for(let oe=Q-1;oe>=0;oe--){Q--;const ie=o.value[Q];if(!ve({column:ie,modelColumnsVisibleLocal:_.value}))continue;const pe=+D(ie.width)||d.value;if(q-=pe,M-=J(ie.grow)?1:ie.grow,q<=G)break}let Y=0;const de=$?G:B;(b.value||Q===o.value.length)&&(Y=de-q),c.value=Q,h({sumGrows:M,freeSpaceWidth:Y}),y()},H=({entries:B,forceAdjust:G})=>{const q=B[0].contentRect;(G||A.value>q.width+L||A.value<q.width-L)&&(S||(S=!0,A.value=q.width,E(),S=!1))},j=new ResizeObserver(_t(B=>{z(A.value)?H({entries:B,forceAdjust:!0}):H({entries:B})},300)),ee=B=>{B?(j.unobserve(C.value),R()):(j.observe(C.value),m.value&&E())},K=B=>{m.value=B,t("updateModelIsTableWithoutScroll",B),m.value&&E()};return qe(()=>{r.value||j.observe(C.value)}),Te(()=>{j.unobserve(C.value)}),re(o,()=>{E()}),{aTableRef:C,changeModelIsTableWithoutScroll:K,checkVisibleColumns:E,columnsVisibleAdditionalSpaceForOneGrow:w,onWatchMobileScrollControl:ee}}function xs(e){const t=u(e,"hasMobile"),i=u(e,"isActionColumnVisible"),s=u(e,"isActionIconVisible"),o=u(e,"isColumnsDnd"),n=u(e,"isSimpleTable"),d=u(e,"modelIsTableWithoutScrollStart"),c=u(e,"rowActions"),r=T(void 0),f=()=>{r.value=d.value},{isMobileWidth:_}=Ce(),m=l(()=>n.value?c.value&&!!c.value.length&&i.value:i.value),b=l(()=>!!(s.value&&!n.value)),p=l(()=>!!(o.value&&!n.value)),v=l(()=>t.value?!!_.value:!1),g=l(()=>n.value?!1:r.value);return{initModelIsTableWithoutScroll:f,isActionColumnVisibleLocal:m,isActionIconVisibleLocal:b,isColumnsDndLocal:p,isMobile:v,modelIsTableWithoutScroll:r,modelIsTableWithoutScrollComputed:g}}function Os(e,{viewCurrent:t=l(()=>({}))}){const i=u(e,"data"),s=u(e,"isSortingOutside"),o=u(e,"modelSort"),n=u(e,"useAdditionalSorting"),d=T([]),c=l(()=>n.value?t.value?t.value.useAdditionalSorting||!1:!0:!1),r=()=>{Ne(o.value)?d.value=[o.value]:ae(o.value)&&(d.value=W(o.value))},f=l(()=>{const m={models:[],directions:[]};return d.value.length&&k(d.value,b=>{let p="asc",v=b;dt(b,"-")&&(p="desc",v=b.slice(1)),m.models.push(v),m.directions.push(p)}),m}),_=l(()=>d.value.length&&!s.value?kl(i.value||[],f.value.models,f.value.directions):i.value||[]);return re(o,()=>{r()}),{dataSorted:_,initModelSort:r,modelSortLocal:d,useAdditionalSortingLocal:c}}function Ds(e,{emit:t},{modelSortLocal:i=T([]),closePreviewAll:s=()=>{}}){const o=u(e,"id"),n=u(e,"isSortingMultiColumn"),d=u(e,"sortingMultiColumnKey"),c=l(()=>`${d.value}Key`),r=b=>n.value&&b[c.value],f=({sortId:b})=>{const p=i.value.indexOf(b);if(p!==-1){i.value.splice(p,1,`-${b}`);return}const v=i.value.indexOf(`-${b}`);if(v!==-1){i.value.splice(v,1);return}i.value.push(b)},_=({sortId:b})=>{if(i.value.indexOf(b)!==-1){i.value=[`-${b}`];return}if(i.value.indexOf(`-${b}`)!==-1){i.value=[];return}i.value=[b]};return{changeModelSort:({sortId:b,$event:p,modelAll:v})=>{v?i.value=v:r(p)?f({sortId:b}):_({sortId:b}),t("changeSorting",{modelSort:W(i.value)}),Le.$emit("changeTableSorting",{modelSort:W(i.value),tableId:o.value}),s()}}}function Ms(e,{isMobile:t=T(void 0),modelIsTableWithoutScrollComputed:i=l(()=>{})}){const s=u(e,"rowActionsSticky");return{isRowActionsStickyLocal:l(()=>!!(!t.value&&s.value&&!i.value))}}function Es(e,{countNotHiddenColumns:t=l(()=>-1),isMobile:i=T(!1)}){const s=u(e,"id"),o=u(e,"isLabelVisible"),n=l(()=>{const r={};return i.value||(r.role="table",r["aria-colcount"]=t.value),r}),d=l(()=>i.value?"list":"rowgroup"),c=l(()=>{if(o.value)return gt({tableId:s.value})});return{tableChildRole:d,tableLabelId:c,tableRoleAttributes:n}}function Bs(e,{emit:t},{modelColumnsVisibleLocal:i=T({}),checkVisibleColumns:s=()=>{}}){return{changeModelColumnsVisible:n=>{i.value=n,t("update:modelColumnsVisible",W(i.value)),s()}}}function ks(e){const t=u(e,"texts");return{emptyText:l(()=>z(t.value.empty)?"_A_TABLE_EMPTY_TEXT_":t.value.empty)}}function Ns(){const e=T([]),t=T(void 0),i=T(void 0),s=T({}),o=T(void 0),n=T(void 0);return{columnsScrollInvisible:e,indexFirstScrollInvisibleColumn:t,isMultipleActionsActive:i,modelColumnsVisibleLocal:s,tableGrandparentRef:o,tableRef:n}}function Fs(e,{emit:t},{closePreviewAll:i=()=>{}}){const s=u(e,"views"),o=u(e,"modelFilters"),n=u(e,"modelView"),d=l(()=>ke(s.value,"id")),c=l(()=>d.value[n.value]),r=l(()=>s.value.length>1),f=()=>{if(r.value){const b=ut(s.value,["active",!0]);let p=s.value[0].id;b&&(p=b.id),t("updateView",{_modelView:p,view:d.value[p],modelFilters:o.value,init:!0})}},_=b=>{i(),t("updateView",{_modelView:b,view:d.value[b],modelFilters:o.value})},m=l(()=>!c.value||c.value.type==="table");return{hasViews:r,initViewCurrent:f,isViewTableVisible:m,updateViewCurrent:_,viewCurrent:c}}function qs(e){const t=u(e,"columnActionsWidth"),i=u(e,"columnActionsWidthDefaults"),s=u(e,"columnActionsWidthMin"),o=u(e,"columnWidthDefault"),n=u(e,"previewBoxWidth"),d=u(e,"useRem"),{scalePxWithRem:c}=Be(),r=l(()=>d.value?c(t.value):t.value),f=l(()=>d.value?c(s.value):s.value),_=l(()=>d.value?c(o.value):o.value),m=l(()=>d.value?c(n.value):n.value);return{columnActionsWidthDefaultsRemLocal:l(()=>d.value?{default:c(i.value.default||170),min:c(i.value.min||50),onePlusDropdown:c(i.value.onePlusDropdown||320),onePlusDropdownMin:c(i.value.onePlusDropdownMin||200),btnGroupMaxWidth:c(i.value.btnGroupMaxWidth||180)}:i.value),columnActionsWidthMinRemLocal:f,columnActionsWidthRemLocal:r,columnWidthDefaultRemLocal:_,previewBoxWidthRemLocal:m}}const Gs={name:"ATable",props:{additionalSortingColumns:{type:Array,required:!1,default:()=>[]},clearSelectedRowsOnDataChange:{type:Boolean,required:!1,default:!0},columnActionsOnePlusDropdownOptions:{type:Object,required:!1,default:()=>({actionsClasses:["a_btn a_btn_primary a_text_truncate"],btnGroupClass:"a_btn_group a_btn_group_table",hasDividerBeforeDropdown:!1,indexFirstDropdownAction:1,indexFirstDropdownActionMobile:1,minDropdownActions:1})},columnActionsView:{type:String,required:!1,default:"dropdown",validator:e=>["onePlusDropdown","onePlusDropdownEmptyPlace","dropdown"].indexOf(e)!==-1},columnActionsWidth:{type:Number,required:!1,default:void 0},columnActionsWidthDefaults:{type:Object,required:!1,default:()=>({default:170,min:50,onePlusDropdown:320,onePlusDropdownMin:200,btnGroupMaxWidth:180})},columnActionsWidthMin:{type:Number,required:!1,default:void 0},columns:{type:Array,required:!0},columnsDefaultValue:{type:[String,Number],required:!1,default:""},columnWidthDefault:{type:Number,required:!1,default:250},countAllRows:{type:Number,required:!1,default:void 0},countVisibleMobileColumns:{type:Number,required:!1,default:4,validator:e=>e>0},borderType:{type:String,required:!1,default:()=>nt.value.propsDefault.borderType,validator:e=>["bordered","innerBordered"].indexOf(e)!==-1},data:{type:[Array,Object,Promise],required:!1},disabledActions:{type:Boolean,required:!1},disabledMultipleActions:{type:Boolean,required:!1},disabledOptions:{type:Boolean,required:!1},disabledPreview:{type:Boolean,required:!1},disabledPreviewRowCallback:{type:Function,required:!1},disabledRowActions:{type:Boolean,required:!1},disabledSort:{type:Boolean,required:!1},disabledViews:{type:Boolean,required:!1},extra:{type:Object,required:!1,default:void 0},hasMobile:{type:Boolean,required:!1,default:!0},hasScrollClass:{type:Boolean,required:!1,default:!0},id:{type:String,required:!1,default:()=>$l("a_table")},isActionColumnVisible:{type:Boolean,required:!1,default:!1},isActionIconVisible:{type:Boolean,required:!1,default:!0},isColumnsDnd:{type:Boolean,required:!1,default:!1},isLabelVisible:{type:Boolean,required:!1,default:!0},isLoadingMultipleActions:{type:Boolean,required:!1},isLoadingOptions:{type:Boolean,required:!1},isLoadingTable:{type:Boolean,required:!1},isQuickSearch:{type:Boolean,required:!1},isSimpleTable:{type:Boolean,required:!1,default:!1},isSortingMultiColumn:{type:Boolean,required:!1,default:!1},isSortingOutside:{type:Boolean,required:!1},isTree:{type:Boolean,required:!1},isTreeCollapsible:{type:Boolean,required:!1,default:!0},isTreeOpened:{type:Boolean,required:!1},keyCountAllRowsInData:{type:String,required:!1,default:"count"},keyId:{type:String,required:!1,default:void 0},keyChildren:{type:String,required:!1,default:"children"},label:{type:[String,Number],required:!1,default:""},labelClass:{type:[String,Object],required:!1,default:void 0},labelTag:{type:String,required:!1,default:"h2"},modelColumnsOrdering:{type:Array,required:!1,default:()=>[]},modelColumnsVisible:{type:Object,required:!1,default:()=>({})},modelIsTableWithoutScrollStart:{type:Boolean,required:!1,default:!1},modelQuickSearch:{type:String,required:!1,default:""},modelSort:{type:[String,Array],required:!1,default:()=>[]},modelView:{type:[String,Number],required:!1,default:void 0},multipleActions:{type:Array,required:!1,default:()=>[]},offsetStart:{type:Number,required:!1,default:0},pagination:{type:Object,required:!1,default:()=>({use:!1,maxPages:5,limitsPerPage:[],limitStart:10,disabled:!1,isOutside:!1,outside:!1,position:"bottom",modes:{desktop:{pagination:{mode:"normal",position:0},perPage:{mode:"inline",position:1}},mobile:{pagination:{mode:"loadMore"}}}})},preview:{type:String,required:!1,default:void 0,validator:e=>["right","down"].indexOf(e)!==-1},previewBoxWidth:{type:Number,required:!1,default:300},previewStyles:{type:[String,Object],required:!1,default:void 0},rowActions:{type:Array,required:!1,default:()=>[]},rowActionsClass:{type:[String,Object],required:!1,default:void 0},rowActionsSticky:{type:Boolean,required:!1,default:!0},rowClass:{type:[String,Object,Function],required:!1,default:void 0},rowsCountRenderPerTick:{type:Number,required:!1,default:25,validator:e=>he(e)&&e>=0},rowsFooter:{type:Array,required:!1,default:()=>[]},showCount:{type:Boolean,required:!1,default:!0},showFirstSortingSequenceNumber:{type:Boolean,required:!1,default:!1},sortingMultiColumnKey:{type:String,required:!1,default:"shift",validator:e=>["shift","ctrl","alt"].indexOf(e)!==-1},sortingSequenceNumberClass:{type:[String,Object],required:!1,default:"a_badge"},tableActions:{type:Array,required:!1,default:()=>[]},tableActionsIndexFirstDropdownAction:{type:Number,required:!1,default:-1},tableActionsIndexFirstDropdownActionMobile:{type:Number,required:!1,default:0},texts:{type:Object,required:!1,default:()=>({empty:"_A_TABLE_EMPTY_TEXT_"})},useAdditionalSorting:{type:Boolean,required:!1,default:!0},useViewSlot:{type:Boolean,required:!1},useRem:{type:Boolean,required:!1,default:!0},valuesForColumnDefault:{type:Array,required:!1,default:()=>[null,void 0,""]},views:{type:Array,required:!1,default:()=>[]}},emits:["changeColumnsOrdering","changeColumnsVisible","changeLimit","changeOffset","changeSorting","mouseupResizePreviewRight","initTable","togglePreview","toggleMultipleActions","update:modelColumnsOrder","update:modelColumnsVisible","update:modelQuickSearch","updateModelIsTableWithoutScroll","updateView"],provide(){return{changeModelColumnsVisible:this.changeModelColumnsVisible,columnActionsOnePlusDropdownOptions:l(()=>this.columnActionsOnePlusDropdownOptions),columns:l(()=>this.columns),columnsDefaultValue:l(()=>this.columnsDefaultValue),isLoadingOptions:l(()=>this.isLoadingOptions),isLoadingTable:l(()=>this.isLoadingTable),keyId:l(()=>this.keyId),rowActions:l(()=>this.rowActions),tableId:l(()=>this.id),valuesForColumnDefault:l(()=>this.valuesForColumnDefault),useRem:l(()=>this.useRem)}},setup(e,t){const{columnActionsWidthDefaultsRemLocal:i,columnActionsWidthMinRemLocal:s,columnActionsWidthRemLocal:o,columnWidthDefaultRemLocal:n,previewBoxWidthRemLocal:d}=qs(e),{initModelIsTableWithoutScroll:c,isActionColumnVisibleLocal:r,isActionIconVisibleLocal:f,isColumnsDndLocal:_,isMobile:m,modelIsTableWithoutScroll:b,modelIsTableWithoutScrollComputed:p}=xs(e),{countAllRowsLocal:v}=As(e),{columnsScrollInvisible:g,indexFirstScrollInvisibleColumn:I,isMultipleActionsActive:C,modelColumnsVisibleLocal:w,tableGrandparentRef:A,tableRef:S}=Ns(),{scrollToTable:L,setFocusToTable:D}=gs({tableRef:S}),{hasViews:O,initViewCurrent:P,isViewTableVisible:h,updateViewCurrent:y,viewCurrent:R}=Fs(e,t,{closePreviewAll:fe}),{dataSorted:E,initModelSort:H,modelSortLocal:j,useAdditionalSortingLocal:ee}=Os(e,{viewCurrent:R}),{columnsOrderedFromSimpleTable:K,renderedGroupedColumns:B}=ps(e,{modelSort:j}),{columnIdsGroupByLocked:G,columnsFilteredForRender:q,columnsFilteredForRenderIndexesMapping:Q,columnsOrdered:M,countNotHiddenColumns:$}=ms(e,{columnsScrollInvisible:g,indexFirstScrollInvisibleColumn:I,modelColumnsVisibleLocal:w,modelIsTableWithoutScrollComputed:p,columnsOrderedFromSimpleTable:K}),{changeLimit:Y,changeOffset:de,initLocalVars:oe,limit:ie,offset:pe,usePaginationBottom:xt,usePaginationLocal:We,usePaginationTop:Ot}=Ss(e,t,{closePreviewAll:fe,scrollToTable:L,setFocusToTable:D,viewCurrent:R}),{addRow:Dt,deleteRow:Mt,hasRows:Et,rowsLocal:Ue,rowsLocalAll:we,rowsLocalLength:Ge,stopRenderRows:Bt,updateRow:kt}=Ls(e,{dataSorted:E,limit:ie,offset:pe,setEmptySelectedRowsIndexes:Ke,usePaginationLocal:We}),{columnActionsBtnGroupMaxWidthStyle:Nt,columnActionsWidthLocal:He,columnActionsWidthMinLocal:$e,isColumnActionWide:Ft}=vs(e,{columnActionsWidthDefaultsRemLocal:i,columnActionsWidthMinRemLocal:s,columnActionsWidthRemLocal:o,isMobile:m,rowsLocal:Ue}),{aTableRef:ze,changeModelIsTableWithoutScroll:qt,checkVisibleColumns:ce,columnsVisibleAdditionalSpaceForOneGrow:Vt,onWatchMobileScrollControl:Wt}=Ps(e,t,{columnActionsWidthLocal:He,columnActionsWidthMinLocal:$e,columnsOrdered:M,columnsScrollInvisible:g,columnWidthDefaultRemLocal:n,indexFirstScrollInvisibleColumn:I,isMobile:m,isMultipleActionsActive:C,modelColumnsVisibleLocal:w,modelIsTableWithoutScroll:b,modelIsTableWithoutScrollComputed:p}),{changeColumnsOrdering:Ut,checkColumnsOrdering:Gt}=ws(e,t,{checkVisibleColumns:ce,columnIdsGroupByLocked:G,columnsFilteredForRenderIndexesMapping:Q}),{isRowActionsStickyLocal:Ht}=Ms(e,{isMobile:m,modelIsTableWithoutScrollComputed:p}),{areAllRowsSelected:$t,areAllVisibleRowsSelected:zt,areSomeRowsSelected:jt,closeMultipleActionsActive:Xt,currentMultipleActions:Kt,hasMultipleActions:Qt,selectedRows:Yt,selectedRowsIndexes:Zt,setEmptySelectedRowsIndexes:Jt,setSelectedRowsIndexes:el,toggleBtnAllRows:tl,toggleMultipleActionsActive:ll}=Ts(e,t,{checkVisibleColumns:ce,isMultipleActionsActive:C,rowsLocalAll:we,rowsLocalLength:Ge}),{changeModelColumnsVisible:il}=Bs(e,t,{modelColumnsVisibleLocal:w,checkVisibleColumns:ce}),{closePreview:sl,closePreviewAll:ol,hasPreview:nl,isPreviewRightOpen:al,onTogglePreview:je,mousedownResizePreviewRight:rl,mousemoveResizePreviewRight:ul,mouseupResizePreviewRight:dl,previewDownRowIds:cl,previewRightRowIndex:Xe,previewRightRowIndexLast:_l,togglePreviewResize:hl}=ys(e,t,{aTableRef:ze,isMobile:m,previewBoxWidthRemLocal:d,rowsLocalAll:we,tableGrandparentRef:A}),{tableChildRole:bl,tableLabelId:fl,tableRoleAttributes:vl}=Es(e,{countNotHiddenColumns:$,isMobile:m}),{allVisibleMobileColumns:ml}=Is({columnsOrdered:M,isMobile:m,modelColumnsVisibleLocal:w}),{changeModelSort:pl}=Ds(e,t,{modelSortLocal:j,closePreviewAll:fe}),{initTable:wl}=Cs(e,t,{checkColumnsOrdering:Gt,checkVisibleColumns:ce,modelColumnsVisibleLocal:w}),{emptyText:Al}=ks(e);function fe(){ol()}function Ke(){Jt()}return re(m,Re=>{Wt(Re),fe()}),re(Ft,(Re,gl)=>{Re!==gl&&ce()}),N("changeModelIsTableWithoutScroll",qt),N("changeModelSort",pl),N("columnsOrdered",M),N("columnsFilteredForRender",q),N("columnsScrollInvisible",g),N("columnWidthDefault",n),N("columnsVisibleAdditionalSpaceForOneGrow",Vt),N("columnActionsWidthLocal",He),N("columnActionsWidthMinLocal",$e),N("currentMultipleActions",Kt),N("hasPreview",nl),N("indexFirstScrollInvisibleColumn",I),N("isActionColumnVisible",r),N("isActionIconVisible",f),N("isColumnsDnd",_),N("isMobile",m),N("isMultipleActionsActive",C),N("modelIsTableWithoutScroll",p),N("onTogglePreview",je),N("previewRightRowIndex",Xe),N("previewRightRowIndexLast",_l),N("rowsLocalAll",we),N("modelColumnsVisibleLocal",w),N("changeColumnsOrdering",Ut),oe(),c(),P(),wl(),H(),{addRow:Dt,allVisibleMobileColumns:ml,areAllRowsSelected:$t,areAllVisibleRowsSelected:zt,areSomeRowsSelected:jt,aTableRef:ze,changeLimit:Y,changeModelColumnsVisible:il,changeOffset:de,checkVisibleColumns:ce,closeMultipleActionsActive:Xt,closePreview:sl,closePreviewAll:fe,columnActionsBtnGroupMaxWidthStyle:Nt,columnsFilteredForRender:q,columnsOrdered:M,countAllRowsLocal:v,deleteRow:Mt,emptyText:Al,hasMultipleActions:Qt,hasRows:Et,hasViews:O,isMobile:m,isMultipleActionsActive:C,isPreviewRightOpen:al,isRowActionsStickyLocal:Ht,isViewTableVisible:h,limit:ie,modelColumnsVisibleLocal:w,modelIsTableWithoutScrollComputed:p,modelSortLocal:j,mousedownResizePreviewRight:rl,mousemoveResizePreviewRight:ul,mouseupResizePreviewRight:dl,offset:pe,onTogglePreview:je,previewDownRowIds:cl,previewRightRowIndex:Xe,renderedGroupedColumns:B,rowsLocal:Ue,rowsLocalAll:we,rowsLocalLength:Ge,selectedRows:Yt,selectedRowsIndexes:Zt,setEmptySelectedRowsIndexes:Ke,setSelectedRowsIndexes:el,stopRenderRows:Bt,tableChildRole:bl,tableGrandparentRef:A,tableLabelId:fl,tableRef:S,tableRoleAttributes:vl,toggleBtnAllRows:tl,toggleMultipleActionsActive:ll,togglePreviewResize:hl,updateRow:kt,updateViewCurrent:y,useAdditionalSortingLocal:ee,usePaginationBottom:xt,usePaginationLocal:We,usePaginationTop:Ot,viewCurrent:R}},data(){return{resolved:void 0,error:void 0}},computed:{hasRowsFooter(){return this.rowsFooter.length>0}},methods:{updateModelQuickSearch(e){this.$emit("update:modelQuickSearch",e)}},render(){return a("div",{ref:"tableGrandparentRef",class:["a_table__grandparent",{a_table_mobile:this.isMobile,a_table__grandparent_without_scroll:!this.hasScrollClass}]},[this.$slots.tablePrepend&&this.$slots.tablePrepend({id:this.id}),a("div",{ref:"aTableRef",class:["a_table__parent",{a_table__parent_scrollable:this.hasScrollClass&&!this.modelIsTableWithoutScrollComputed}]},[a(ts,{additionalSortingColumns:this.additionalSortingColumns,areAllRowsSelected:this.areAllRowsSelected,areSomeRowsSelected:this.areSomeRowsSelected,closeMultipleActionsActive:this.closeMultipleActionsActive,countAllRows:this.countAllRowsLocal,disabledActions:this.disabledActions,disabledMultipleActions:this.disabledMultipleActions,disabledSort:this.disabledSort,disabledViews:this.disabledViews,extra:this.extra,hasViews:this.hasViews,isLabelVisible:this.isLabelVisible,isLoadingMultipleActions:this.isLoadingMultipleActions,isQuickSearch:this.isQuickSearch,isSortingMultiColumn:this.isSortingMultiColumn,label:this.label,labelClass:this.labelClass,labelTag:this.labelTag,modelQuickSearch:this.modelQuickSearch,modelSort:this.modelSortLocal,modelView:this.modelView,multipleActions:this.multipleActions,selectedRows:this.selectedRows,showCount:this.showCount,tableActions:this.tableActions,tableActionsIndexFirstDropdownAction:this.tableActionsIndexFirstDropdownAction,tableActionsIndexFirstDropdownActionMobile:this.tableActionsIndexFirstDropdownActionMobile,useAdditionalSorting:this.useAdditionalSortingLocal,useViewSlot:this.useViewSlot,viewCurrent:this.viewCurrent,views:this.views,onUpdateViewCurrent:this.updateViewCurrent,onUpdateModelQuickSearch:this.updateModelQuickSearch,onToggleMultipleActionsActive:this.toggleMultipleActionsActive,onToggleBtnAllRows:this.toggleBtnAllRows},this.$slots),this.$slots.topPanelAppend?this.$slots.topPanelAppend():"",this.usePaginationLocal&&this.usePaginationTop&&this.hasRows?a(et,{class:"a_table__pagination_top",disabled:this.pagination.disabled,limit:this.limit,limitsPerPage:this.pagination.limitsPerPage,maxPages:this.pagination.maxPages,offset:this.offset,rowsLength:this.rowsLocalLength,totalCount:this.countAllRowsLocal,"onUpdate:limit":this.changeLimit,"onUpdate:offset":this.changeOffset}):"",this.isViewTableVisible&&a("div",{ref:"tableRef","aria-labelledby":this.isLabelVisible?this.tableLabelId:void 0,class:["a_table",{a_table_simple:this.isSimpleTable,a_table_bordered:this.borderType==="bordered",a_table_inner_bordered:this.borderType==="innerBordered"}],...this.tableRoleAttributes},[this.isSimpleTable?a(Ei,{areAllRowsSelected:this.areAllRowsSelected,areAllVisibleRowsSelected:this.areAllVisibleRowsSelected,areSomeRowsSelected:this.areSomeRowsSelected,disabledOptions:this.disabledOptions,disabledSort:this.disabledSort,hasMultipleActions:this.hasMultipleActions,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSortLocal,rowsLocalLength:this.rowsLocalLength,showFirstSortingSequenceNumber:this.showFirstSortingSequenceNumber,sortingSequenceNumberClass:this.sortingSequenceNumberClass,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes,columnsForRender:this.renderedGroupedColumns}):a(Fi,{areAllRowsSelected:this.areAllRowsSelected,areAllVisibleRowsSelected:this.areAllVisibleRowsSelected,areSomeRowsSelected:this.areSomeRowsSelected,disabledOptions:this.disabledOptions,disabledSort:this.disabledSort,hasMultipleActions:this.hasMultipleActions,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isSortingMultiColumn:this.isSortingMultiColumn,modelSort:this.modelSortLocal,rowsLocalLength:this.rowsLocalLength,showFirstSortingSequenceNumber:this.showFirstSortingSequenceNumber,sortingSequenceNumberClass:this.sortingSequenceNumberClass,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes}),a("div",{class:"a_table__loading"},[a(Nl,{isLoading:this.isLoadingTable},()=>[a("div",{class:"a_table__body",role:this.tableChildRole},{default:()=>this.rowsLocal.map((e,t)=>{const i=ge({row:e,rowIndex:t,keyId:this.keyId});return a(it,{key:i,allVisibleMobileColumns:this.allVisibleMobileColumns,areAllRowsSelected:this.areAllRowsSelected,columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,countVisibleMobileColumns:this.countVisibleMobileColumns,disabledPreview:this.disabledPreview,disabledPreviewRowCallback:this.disabledPreviewRowCallback,disabledRowActions:this.disabledRowActions,isFooter:!1,isPreviewDownOpen:this.previewDownRowIds[i],isRowActionsStickyLocal:this.isRowActionsStickyLocal,isTree:this.isTree,isTreeCollapsible:this.isTreeCollapsible,isTreeOpened:this.isTreeOpened,keyChildren:this.keyChildren,keyId:this.keyId,level:1,row:e,rowActionsClass:this.rowActionsClass,rowClass:this.rowClass,rowIndex:t,rowsLength:this.rowsLocal.length,selectedRowsIndexes:this.selectedRowsIndexes,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes},{get:s=>[a(Pe,{data:s.row,keyLabel:s.column.keyLabel,filter:s.column.filter,filterParameters:s.column.filterParameters,defaultValue:s.column.defaultValue,tag:s.column.filterTag||"div"})],...this.$slots})})}),this.isViewTableVisible&&!this.hasRows&&a(F,{class:"a_table__empty_text",text:this.emptyText}),this.hasRowsFooter&&a("div",{class:"a_table__footer",role:this.tableChildRole},this.rowsFooter.map((e,t)=>{const i=ge({row:e,rowIndex:t,keyId:this.keyId});return a(it,{key:i,allVisibleMobileColumns:this.allVisibleMobileColumns,areAllRowsSelected:this.areAllRowsSelected,columnActionsBtnGroupMaxWidthStyle:this.columnActionsBtnGroupMaxWidthStyle,columnActionsView:this.columnActionsView,countVisibleMobileColumns:this.countVisibleMobileColumns,disabledPreview:this.disabledPreview,disabledPreviewRowCallback:this.disabledPreviewRowCallback,disabledRowActions:this.disabledRowActions,isFooter:!0,isRowActionsStickyLocal:this.isRowActionsStickyLocal,isTree:this.isTree,isTreeCollapsible:this.isTreeCollapsible,isTreeOpened:this.isTreeOpened,keyChildren:this.keyChildren,keyId:this.keyId,level:1,row:e,rowActionsClass:this.rowActionsClass,rowClass:this.rowClass,rowIndex:t,rowsLength:this.rowsFooter.length,selectedRowsIndexes:this.selectedRowsIndexes,onSetSelectedRowsIndexes:this.setSelectedRowsIndexes},{get:s=>[a(Pe,{data:s.row,keyLabel:s.column.footerPath,filter:s.column.footerFilter,filterParameters:s.column.footerFilterParameters,defaultValue:s.column.footerDefaultValue})],...this.$slots})}))])])]),!this.isViewTableVisible&&this.viewCurrent&&this.$slots[this.viewCurrent.type]&&this.$slots[this.viewCurrent.type]({isLoading:this.isLoadingTable,rows:this.rowsLocalAll}),this.usePaginationLocal&&this.usePaginationBottom&&this.hasRows?a(et,{class:"a_table__pagination_bottom",disabled:this.pagination.disabled,limit:this.limit,limitsPerPage:this.pagination.limitsPerPage,maxPages:this.pagination.maxPages,offset:this.offset,rowsLength:this.rowsLocalLength,totalCount:this.countAllRowsLocal,"onUpdate:limit":this.changeLimit,"onUpdate:offset":this.changeOffset}):"",this.isPreviewRightOpen?a(Gi,{countAllRows:this.countAllRowsLocal,isMobile:this.isMobile,isLoadingTable:this.isLoadingTable,limitPagination:this.limit,offsetPagination:this.offset,previewStyles:this.previewStyles,rowIndex:this.previewRightRowIndex,rows:this.rowsLocalAll,disabledPreviewRowCallback:this.disabledPreviewRowCallback,usePagination:!!this.usePaginationLocal,onClosePreview:this.closePreview,onMousedownResizePreviewRight:this.mousedownResizePreviewRight,onMousemoveResizePreviewRight:this.mousemoveResizePreviewRight,onMouseupResizePreviewRight:this.mouseupResizePreviewRight,onTogglePreview:this.onTogglePreview,onTogglePreviewResize:this.togglePreviewResize,"onUpdate:offset":this.changeOffset},this.$slots):""])])}};export{Gs as A,et as a,wi as b,xe as c};
